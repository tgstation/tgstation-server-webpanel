{"version":3,"file":"5322.684c5a5cb77bf40cb457.bundle.js","mappings":"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AC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,SAAY,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,SAAY,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,QAAW,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,SAAY,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,SAAY,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,SAAY,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,SAAY,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,SAAY,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,QAAW,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,KAAQ,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAAO,KAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAAM,QAAW,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,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","sources":["webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeLocaleList.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeTimeZoneName.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/262.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/CoerceOptionsToObject.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/DefaultNumberOption.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/GetNumberOption.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/GetOption.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/GetOptionsObject.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/IsSanctionedSimpleUnitIdentifier.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/IsValidTimeZoneName.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedCurrencyCode.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedUnitIdentifier.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponentForMagnitude.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawPrecision.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawFixed.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToString.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponent.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/CurrencyDigits.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/digit-mapping.generated.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/regex.generated.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/format_to_parts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/PartitionNumberPattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToParts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatUnitOptions.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatDigitOptions.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/InitializeNumberFormat.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/PartitionPattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/SupportedLocales.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/types/date-time.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/ecma402-abstract/lib/data.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/BestAvailableLocale.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/BestFitMatcher.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/LookupMatcher.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/LookupSupportedLocales.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/ResolveLocale.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/UnicodeExtensionValue.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/abstract/utils.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-localematcher/index.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/get_internal_slots.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/index.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/locale-data/en.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/utils.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/utils.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/skeleton.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BestFitFormatMatcher.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeLocaleList.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/CanonicalizeTimeZoneName.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/BasicFormatMatcher.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/DateTimeStyleFormat.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/262.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToLocalTime.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimePattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/PartitionPattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimePattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTime.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/PartitionDateTimeRangePattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRange.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeRangeToParts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/FormatDateTimeToParts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/ToDateTimeOptions.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/GetOption.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/BestAvailableLocale.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/UnicodeExtensionValue.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/ResolveLocale.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/LookupMatcher.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/BestFitMatcher.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/IsValidTimeZoneName.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DateTimeFormat/InitializeDateTimeFormat.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedCurrencyCode.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DisplayNames/CanonicalCodeForDisplayNames.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/DefaultNumberOption.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/GetNumberOption.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/IsSanctionedSimpleUnitIdentifier.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/IsWellFormedUnitIdentifier.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponentForMagnitude.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawPrecision.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ToRawFixed.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToString.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/ComputeExponent.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/CurrencyDigits.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/format_to_parts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/PartitionNumberPattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/FormatNumericToParts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatUnitOptions.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/SetNumberFormatDigitOptions.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/NumberFormat/InitializeNumberFormat.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/GetOperands.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/InitializePluralRules.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/PluralRules/ResolvePlural.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/SingularRelativeTimeUnit.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/MakePartsList.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/PartitionRelativeTimePattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTime.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/FormatRelativeTimeToParts.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/RelativeTimeFormat/InitializeRelativeTimeFormat.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/LookupSupportedLocales.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/SupportedLocales.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/data.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/node_modules/@formatjs/ecma402-abstract/lib/types/date-time.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/polyfill.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-pluralrules/should-polyfill.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/abstract/InitializeRelativeTimeFormat.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/abstract/MakePartsList.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/abstract/PartitionRelativeTimePattern.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/abstract/SingularRelativeTimeUnit.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/get_internal_slots.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/index.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/locale-data/en.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/polyfill.js","webpack://tgstation-server-control-panel/./node_modules/@formatjs/intl-relativetimeformat/should-polyfill.js"],"sourcesContent":["/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-canonicalizelocalelist\n * @param locales\n */\nexport function CanonicalizeLocaleList(locales) {\n    // TODO\n    return Intl.getCanonicalLocales(locales);\n}\n","/**\n * https://tc39.es/ecma402/#sec-canonicalizetimezonename\n * @param tz\n */\nexport function CanonicalizeTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var uppercasedZones = Object.keys(tzData).reduce(function (all, z) {\n        all[z.toUpperCase()] = z;\n        return all;\n    }, {});\n    var ianaTimeZone = uppercaseLinks[uppercasedTz] || uppercasedZones[uppercasedTz];\n    if (ianaTimeZone === 'Etc/UTC' || ianaTimeZone === 'Etc/GMT') {\n        return 'UTC';\n    }\n    return ianaTimeZone;\n}\n","/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function ToString(o) {\n    // Only symbol is irregular...\n    if (typeof o === 'symbol') {\n        throw TypeError('Cannot convert a Symbol value to a string');\n    }\n    return String(o);\n}\n/**\n * https://tc39.es/ecma262/#sec-tonumber\n * @param val\n */\nexport function ToNumber(val) {\n    if (val === undefined) {\n        return NaN;\n    }\n    if (val === null) {\n        return +0;\n    }\n    if (typeof val === 'boolean') {\n        return val ? 1 : +0;\n    }\n    if (typeof val === 'number') {\n        return val;\n    }\n    if (typeof val === 'symbol' || typeof val === 'bigint') {\n        throw new TypeError('Cannot convert symbol/bigint to number');\n    }\n    return Number(val);\n}\n/**\n * https://tc39.es/ecma262/#sec-tointeger\n * @param n\n */\nfunction ToInteger(n) {\n    var number = ToNumber(n);\n    if (isNaN(number) || SameValue(number, -0)) {\n        return 0;\n    }\n    if (isFinite(number)) {\n        return number;\n    }\n    var integer = Math.floor(Math.abs(number));\n    if (number < 0) {\n        integer = -integer;\n    }\n    if (SameValue(integer, -0)) {\n        return 0;\n    }\n    return integer;\n}\n/**\n * https://tc39.es/ecma262/#sec-timeclip\n * @param time\n */\nexport function TimeClip(time) {\n    if (!isFinite(time)) {\n        return NaN;\n    }\n    if (Math.abs(time) > 8.64 * 1e15) {\n        return NaN;\n    }\n    return ToInteger(time);\n}\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function ToObject(arg) {\n    if (arg == null) {\n        throw new TypeError('undefined/null cannot be converted to object');\n    }\n    return Object(arg);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-samevalue\n * @param x\n * @param y\n */\nexport function SameValue(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-arraycreate\n * @param len\n */\nexport function ArrayCreate(len) {\n    return new Array(len);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-hasownproperty\n * @param o\n * @param prop\n */\nexport function HasOwnProperty(o, prop) {\n    return Object.prototype.hasOwnProperty.call(o, prop);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-type\n * @param x\n */\nexport function Type(x) {\n    if (x === null) {\n        return 'Null';\n    }\n    if (typeof x === 'undefined') {\n        return 'Undefined';\n    }\n    if (typeof x === 'function' || typeof x === 'object') {\n        return 'Object';\n    }\n    if (typeof x === 'number') {\n        return 'Number';\n    }\n    if (typeof x === 'boolean') {\n        return 'Boolean';\n    }\n    if (typeof x === 'string') {\n        return 'String';\n    }\n    if (typeof x === 'symbol') {\n        return 'Symbol';\n    }\n    if (typeof x === 'bigint') {\n        return 'BigInt';\n    }\n}\nvar MS_PER_DAY = 86400000;\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#eqn-modulo\n * @param x\n * @param y\n * @return k of the same sign as y\n */\nfunction mod(x, y) {\n    return x - Math.floor(x / y) * y;\n}\n/**\n * https://tc39.es/ecma262/#eqn-Day\n * @param t\n */\nexport function Day(t) {\n    return Math.floor(t / MS_PER_DAY);\n}\n/**\n * https://tc39.es/ecma262/#sec-week-day\n * @param t\n */\nexport function WeekDay(t) {\n    return mod(Day(t) + 4, 7);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function DayFromYear(y) {\n    return Date.UTC(y, 0) / MS_PER_DAY;\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function TimeFromYear(y) {\n    return Date.UTC(y, 0);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param t\n */\nexport function YearFromTime(t) {\n    return new Date(t).getUTCFullYear();\n}\nexport function DaysInYear(y) {\n    if (y % 4 !== 0) {\n        return 365;\n    }\n    if (y % 100 !== 0) {\n        return 366;\n    }\n    if (y % 400 !== 0) {\n        return 365;\n    }\n    return 366;\n}\nexport function DayWithinYear(t) {\n    return Day(t) - DayFromYear(YearFromTime(t));\n}\nexport function InLeapYear(t) {\n    return DaysInYear(YearFromTime(t)) === 365 ? 0 : 1;\n}\n/**\n * https://tc39.es/ecma262/#sec-month-number\n * @param t\n */\nexport function MonthFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var leap = InLeapYear(t);\n    if (dwy >= 0 && dwy < 31) {\n        return 0;\n    }\n    if (dwy < 59 + leap) {\n        return 1;\n    }\n    if (dwy < 90 + leap) {\n        return 2;\n    }\n    if (dwy < 120 + leap) {\n        return 3;\n    }\n    if (dwy < 151 + leap) {\n        return 4;\n    }\n    if (dwy < 181 + leap) {\n        return 5;\n    }\n    if (dwy < 212 + leap) {\n        return 6;\n    }\n    if (dwy < 243 + leap) {\n        return 7;\n    }\n    if (dwy < 273 + leap) {\n        return 8;\n    }\n    if (dwy < 304 + leap) {\n        return 9;\n    }\n    if (dwy < 334 + leap) {\n        return 10;\n    }\n    if (dwy < 365 + leap) {\n        return 11;\n    }\n    throw new Error('Invalid time');\n}\nexport function DateFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var mft = MonthFromTime(t);\n    var leap = InLeapYear(t);\n    if (mft === 0) {\n        return dwy + 1;\n    }\n    if (mft === 1) {\n        return dwy - 30;\n    }\n    if (mft === 2) {\n        return dwy - 58 - leap;\n    }\n    if (mft === 3) {\n        return dwy - 89 - leap;\n    }\n    if (mft === 4) {\n        return dwy - 119 - leap;\n    }\n    if (mft === 5) {\n        return dwy - 150 - leap;\n    }\n    if (mft === 6) {\n        return dwy - 180 - leap;\n    }\n    if (mft === 7) {\n        return dwy - 211 - leap;\n    }\n    if (mft === 8) {\n        return dwy - 242 - leap;\n    }\n    if (mft === 9) {\n        return dwy - 272 - leap;\n    }\n    if (mft === 10) {\n        return dwy - 303 - leap;\n    }\n    if (mft === 11) {\n        return dwy - 333 - leap;\n    }\n    throw new Error('Invalid time');\n}\nvar HOURS_PER_DAY = 24;\nvar MINUTES_PER_HOUR = 60;\nvar SECONDS_PER_MINUTE = 60;\nvar MS_PER_SECOND = 1e3;\nvar MS_PER_MINUTE = MS_PER_SECOND * SECONDS_PER_MINUTE;\nvar MS_PER_HOUR = MS_PER_MINUTE * MINUTES_PER_HOUR;\nexport function HourFromTime(t) {\n    return mod(Math.floor(t / MS_PER_HOUR), HOURS_PER_DAY);\n}\nexport function MinFromTime(t) {\n    return mod(Math.floor(t / MS_PER_MINUTE), MINUTES_PER_HOUR);\n}\nexport function SecFromTime(t) {\n    return mod(Math.floor(t / MS_PER_SECOND), SECONDS_PER_MINUTE);\n}\nfunction IsCallable(fn) {\n    return typeof fn === 'function';\n}\n/**\n * The abstract operation OrdinaryHasInstance implements\n * the default algorithm for determining if an object O\n * inherits from the instance object inheritance path\n * provided by constructor C.\n * @param C class\n * @param O object\n * @param internalSlots internalSlots\n */\nexport function OrdinaryHasInstance(C, O, internalSlots) {\n    if (!IsCallable(C)) {\n        return false;\n    }\n    if (internalSlots === null || internalSlots === void 0 ? void 0 : internalSlots.boundTargetFunction) {\n        var BC = internalSlots === null || internalSlots === void 0 ? void 0 : internalSlots.boundTargetFunction;\n        return O instanceof BC;\n    }\n    if (typeof O !== 'object') {\n        return false;\n    }\n    var P = C.prototype;\n    if (typeof P !== 'object') {\n        throw new TypeError('OrdinaryHasInstance called on an object with an invalid prototype property.');\n    }\n    return Object.prototype.isPrototypeOf.call(P, O);\n}\nexport function msFromTime(t) {\n    return mod(t, MS_PER_SECOND);\n}\n","import { ToObject } from './262';\n/**\n * https://tc39.es/ecma402/#sec-coerceoptionstoobject\n * @param options\n * @returns\n */\nexport function CoerceOptionsToObject(options) {\n    if (typeof options === 'undefined') {\n        return Object.create(null);\n    }\n    return ToObject(options);\n}\n","export function DefaultNumberOption(val, min, max, fallback) {\n    if (val !== undefined) {\n        val = Number(val);\n        if (isNaN(val) || val < min || val > max) {\n            throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n        }\n        return Math.floor(val);\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nimport { DefaultNumberOption } from './DefaultNumberOption';\nexport function GetNumberOption(options, property, minimum, maximum, fallback) {\n    var val = options[property];\n    // @ts-expect-error\n    return DefaultNumberOption(val, minimum, maximum, fallback);\n}\n","import { ToString } from './262';\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function GetOption(opts, prop, type, values, fallback) {\n    if (typeof opts !== 'object') {\n        throw new TypeError('Options must be an object');\n    }\n    var value = opts[prop];\n    if (value !== undefined) {\n        if (type !== 'boolean' && type !== 'string') {\n            throw new TypeError('invalid type');\n        }\n        if (type === 'boolean') {\n            value = Boolean(value);\n        }\n        if (type === 'string') {\n            value = ToString(value);\n        }\n        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {\n            throw new RangeError(value + \" is not within \" + values.join(', '));\n        }\n        return value;\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-getoptionsobject\n * @param options\n * @returns\n */\nexport function GetOptionsObject(options) {\n    if (typeof options === 'undefined') {\n        return Object.create(null);\n    }\n    if (typeof options === 'object') {\n        return options;\n    }\n    throw new TypeError('Options must be an object');\n}\n","/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SANCTIONED_UNITS = [\n    'angle-degree',\n    'area-acre',\n    'area-hectare',\n    'concentr-percent',\n    'digital-bit',\n    'digital-byte',\n    'digital-gigabit',\n    'digital-gigabyte',\n    'digital-kilobit',\n    'digital-kilobyte',\n    'digital-megabit',\n    'digital-megabyte',\n    'digital-petabyte',\n    'digital-terabit',\n    'digital-terabyte',\n    'duration-day',\n    'duration-hour',\n    'duration-millisecond',\n    'duration-minute',\n    'duration-month',\n    'duration-second',\n    'duration-week',\n    'duration-year',\n    'length-centimeter',\n    'length-foot',\n    'length-inch',\n    'length-kilometer',\n    'length-meter',\n    'length-mile-scandinavian',\n    'length-mile',\n    'length-millimeter',\n    'length-yard',\n    'mass-gram',\n    'mass-kilogram',\n    'mass-ounce',\n    'mass-pound',\n    'mass-stone',\n    'temperature-celsius',\n    'temperature-fahrenheit',\n    'volume-fluid-ounce',\n    'volume-gallon',\n    'volume-liter',\n    'volume-milliliter',\n];\n// In CLDR, the unit name always follows the form `namespace-unit` pattern.\n// For example: `digital-bit` instead of `bit`. This function removes the namespace prefix.\nexport function removeUnitNamespace(unit) {\n    return unit.slice(unit.indexOf('-') + 1);\n}\n/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SIMPLE_UNITS = SANCTIONED_UNITS.map(removeUnitNamespace);\n/**\n * https://tc39.es/ecma402/#sec-issanctionedsimpleunitidentifier\n */\nexport function IsSanctionedSimpleUnitIdentifier(unitIdentifier) {\n    return SIMPLE_UNITS.indexOf(unitIdentifier) > -1;\n}\n","/**\n * https://tc39.es/ecma402/#sec-isvalidtimezonename\n * @param tz\n * @param implDetails implementation details\n */\nexport function IsValidTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var zoneNames = new Set();\n    var linkNames = new Set();\n    Object.keys(tzData)\n        .map(function (z) { return z.toUpperCase(); })\n        .forEach(function (z) { return zoneNames.add(z); });\n    Object.keys(uppercaseLinks).forEach(function (linkName) {\n        linkNames.add(linkName.toUpperCase());\n        zoneNames.add(uppercaseLinks[linkName].toUpperCase());\n    });\n    return zoneNames.has(uppercasedTz) || linkNames.has(uppercasedTz);\n}\n","/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * https://tc39.es/ecma402/#sec-iswellformedcurrencycode\n */\nexport function IsWellFormedCurrencyCode(currency) {\n    currency = toUpperCase(currency);\n    if (currency.length !== 3) {\n        return false;\n    }\n    if (NOT_A_Z_REGEX.test(currency)) {\n        return false;\n    }\n    return true;\n}\n","import { IsSanctionedSimpleUnitIdentifier } from './IsSanctionedSimpleUnitIdentifier';\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toLowerCase(str) {\n    return str.replace(/([A-Z])/g, function (_, c) { return c.toLowerCase(); });\n}\n/**\n * https://tc39.es/ecma402/#sec-iswellformedunitidentifier\n * @param unit\n */\nexport function IsWellFormedUnitIdentifier(unit) {\n    unit = toLowerCase(unit);\n    if (IsSanctionedSimpleUnitIdentifier(unit)) {\n        return true;\n    }\n    var units = unit.split('-per-');\n    if (units.length !== 2) {\n        return false;\n    }\n    var numerator = units[0], denominator = units[1];\n    if (!IsSanctionedSimpleUnitIdentifier(numerator) ||\n        !IsSanctionedSimpleUnitIdentifier(denominator)) {\n        return false;\n    }\n    return true;\n}\n","/**\n * The abstract operation ComputeExponentForMagnitude computes an exponent by which to scale a\n * number of the given magnitude (power of ten of the most significant digit) according to the\n * locale and the desired notation (scientific, engineering, or compact).\n */\nexport function ComputeExponentForMagnitude(numberFormat, magnitude, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var notation = internalSlots.notation, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    switch (notation) {\n        case 'standard':\n            return 0;\n        case 'scientific':\n            return magnitude;\n        case 'engineering':\n            return Math.floor(magnitude / 3) * 3;\n        default: {\n            // Let exponent be an implementation- and locale-dependent (ILD) integer by which to scale a\n            // number of the given magnitude in compact notation for the current locale.\n            var compactDisplay = internalSlots.compactDisplay, style = internalSlots.style, currencyDisplay = internalSlots.currencyDisplay;\n            var thresholdMap = void 0;\n            if (style === 'currency' && currencyDisplay !== 'name') {\n                var currency = dataLocaleData.numbers.currency[numberingSystem] ||\n                    dataLocaleData.numbers.currency[dataLocaleData.numbers.nu[0]];\n                thresholdMap = currency.short;\n            }\n            else {\n                var decimal = dataLocaleData.numbers.decimal[numberingSystem] ||\n                    dataLocaleData.numbers.decimal[dataLocaleData.numbers.nu[0]];\n                thresholdMap = compactDisplay === 'long' ? decimal.long : decimal.short;\n            }\n            if (!thresholdMap) {\n                return 0;\n            }\n            var num = String(Math.pow(10, magnitude));\n            var thresholds = Object.keys(thresholdMap); // TODO: this can be pre-processed\n            if (num < thresholds[0]) {\n                return 0;\n            }\n            if (num > thresholds[thresholds.length - 1]) {\n                return thresholds[thresholds.length - 1].length - 1;\n            }\n            var i = thresholds.indexOf(num);\n            if (i === -1) {\n                return 0;\n            }\n            // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n            // Special handling if the pattern is precisely `0`.\n            var magnitudeKey = thresholds[i];\n            // TODO: do we need to handle plural here?\n            var compactPattern = thresholdMap[magnitudeKey].other;\n            if (compactPattern === '0') {\n                return 0;\n            }\n            // Example: in zh-TW, `10000000` maps to `0000`. So we need to return 8 - 4 = 4 here.\n            return (magnitudeKey.length -\n                thresholdMap[magnitudeKey].other.match(/0+/)[0].length);\n        }\n    }\n}\n","import { repeat, getMagnitude } from '../utils';\nexport function ToRawPrecision(x, minPrecision, maxPrecision) {\n    var p = maxPrecision;\n    var m;\n    var e;\n    var xFinal;\n    if (x === 0) {\n        m = repeat('0', p);\n        e = 0;\n        xFinal = 0;\n    }\n    else {\n        var xToString = x.toString();\n        // If xToString is formatted as scientific notation, the number is either very small or very\n        // large. If the precision of the formatted string is lower that requested max precision, we\n        // should still infer them from the formatted string, otherwise the formatted result might have\n        // precision loss (e.g. 1e41 will not have 0 in every trailing digits).\n        var xToStringExponentIndex = xToString.indexOf('e');\n        var _a = xToString.split('e'), xToStringMantissa = _a[0], xToStringExponent = _a[1];\n        var xToStringMantissaWithoutDecimalPoint = xToStringMantissa.replace('.', '');\n        if (xToStringExponentIndex >= 0 &&\n            xToStringMantissaWithoutDecimalPoint.length <= p) {\n            e = +xToStringExponent;\n            m =\n                xToStringMantissaWithoutDecimalPoint +\n                    repeat('0', p - xToStringMantissaWithoutDecimalPoint.length);\n            xFinal = x;\n        }\n        else {\n            e = getMagnitude(x);\n            var decimalPlaceOffset = e - p + 1;\n            // n is the integer containing the required precision digits. To derive the formatted string,\n            // we will adjust its decimal place in the logic below.\n            var n = Math.round(adjustDecimalPlace(x, decimalPlaceOffset));\n            // The rounding caused the change of magnitude, so we should increment `e` by 1.\n            if (adjustDecimalPlace(n, p - 1) >= 10) {\n                e = e + 1;\n                // Divide n by 10 to swallow one precision.\n                n = Math.floor(n / 10);\n            }\n            m = n.toString();\n            // Equivalent of n * 10 ** (e - p + 1)\n            xFinal = adjustDecimalPlace(n, p - 1 - e);\n        }\n    }\n    var int;\n    if (e >= p - 1) {\n        m = m + repeat('0', e - p + 1);\n        int = e + 1;\n    }\n    else if (e >= 0) {\n        m = m.slice(0, e + 1) + \".\" + m.slice(e + 1);\n        int = e + 1;\n    }\n    else {\n        m = \"0.\" + repeat('0', -e - 1) + m;\n        int = 1;\n    }\n    if (m.indexOf('.') >= 0 && maxPrecision > minPrecision) {\n        var cut = maxPrecision - minPrecision;\n        while (cut > 0 && m[m.length - 1] === '0') {\n            m = m.slice(0, -1);\n            cut--;\n        }\n        if (m[m.length - 1] === '.') {\n            m = m.slice(0, -1);\n        }\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n    // x / (10 ** magnitude), but try to preserve as much floating point precision as possible.\n    function adjustDecimalPlace(x, magnitude) {\n        return magnitude < 0 ? x * Math.pow(10, -magnitude) : x / Math.pow(10, magnitude);\n    }\n}\n","import { repeat } from '../utils';\n/**\n * TODO: dedup with intl-pluralrules and support BigInt\n * https://tc39.es/ecma402/#sec-torawfixed\n * @param x a finite non-negative Number or BigInt\n * @param minFraction and integer between 0 and 20\n * @param maxFraction and integer between 0 and 20\n */\nexport function ToRawFixed(x, minFraction, maxFraction) {\n    var f = maxFraction;\n    var n = Math.round(x * Math.pow(10, f));\n    var xFinal = n / Math.pow(10, f);\n    // n is a positive integer, but it is possible to be greater than 1e21.\n    // In such case we will go the slow path.\n    // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring\n    var m;\n    if (n < 1e21) {\n        m = n.toString();\n    }\n    else {\n        m = n.toString();\n        var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];\n        m = mantissa.replace('.', '');\n        m = m + repeat('0', Math.max(+exponent - m.length + 1, 0));\n    }\n    var int;\n    if (f !== 0) {\n        var k = m.length;\n        if (k <= f) {\n            var z = repeat('0', f + 1 - k);\n            m = z + m;\n            k = f + 1;\n        }\n        var a = m.slice(0, k - f);\n        var b = m.slice(k - f);\n        m = a + \".\" + b;\n        int = a.length;\n    }\n    else {\n        int = m.length;\n    }\n    var cut = maxFraction - minFraction;\n    while (cut > 0 && m[m.length - 1] === '0') {\n        m = m.slice(0, -1);\n        cut--;\n    }\n    if (m[m.length - 1] === '.') {\n        m = m.slice(0, -1);\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n}\n","import { SameValue } from '../262';\nimport { ToRawPrecision } from './ToRawPrecision';\nimport { repeat } from '../utils';\nimport { ToRawFixed } from './ToRawFixed';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function FormatNumericToString(intlObject, x) {\n    var isNegative = x < 0 || SameValue(x, -0);\n    if (isNegative) {\n        x = -x;\n    }\n    var result;\n    var rourndingType = intlObject.roundingType;\n    switch (rourndingType) {\n        case 'significantDigits':\n            result = ToRawPrecision(x, intlObject.minimumSignificantDigits, intlObject.maximumSignificantDigits);\n            break;\n        case 'fractionDigits':\n            result = ToRawFixed(x, intlObject.minimumFractionDigits, intlObject.maximumFractionDigits);\n            break;\n        default:\n            result = ToRawPrecision(x, 1, 2);\n            if (result.integerDigitsCount > 1) {\n                result = ToRawFixed(x, 0, 0);\n            }\n            break;\n    }\n    x = result.roundedNumber;\n    var string = result.formattedString;\n    var int = result.integerDigitsCount;\n    var minInteger = intlObject.minimumIntegerDigits;\n    if (int < minInteger) {\n        var forwardZeros = repeat('0', minInteger - int);\n        string = forwardZeros + string;\n    }\n    if (isNegative) {\n        x = -x;\n    }\n    return { roundedNumber: x, formattedString: string };\n}\n","import { getMagnitude } from '../utils';\nimport { ComputeExponentForMagnitude } from './ComputeExponentForMagnitude';\nimport { FormatNumericToString } from './FormatNumericToString';\n/**\n * The abstract operation ComputeExponent computes an exponent (power of ten) by which to scale x\n * according to the number formatting settings. It handles cases such as 999 rounding up to 1000,\n * requiring a different exponent.\n *\n * NOT IN SPEC: it returns [exponent, magnitude].\n */\nexport function ComputeExponent(numberFormat, x, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    if (x === 0) {\n        return [0, 0];\n    }\n    if (x < 0) {\n        x = -x;\n    }\n    var magnitude = getMagnitude(x);\n    var exponent = ComputeExponentForMagnitude(numberFormat, magnitude, {\n        getInternalSlots: getInternalSlots,\n    });\n    // Preserve more precision by doing multiplication when exponent is negative.\n    x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n    var formatNumberResult = FormatNumericToString(getInternalSlots(numberFormat), x);\n    if (formatNumberResult.roundedNumber === 0) {\n        return [exponent, magnitude];\n    }\n    var newMagnitude = getMagnitude(formatNumberResult.roundedNumber);\n    if (newMagnitude === magnitude - exponent) {\n        return [exponent, magnitude];\n    }\n    return [\n        ComputeExponentForMagnitude(numberFormat, magnitude + 1, {\n            getInternalSlots: getInternalSlots,\n        }),\n        magnitude + 1,\n    ];\n}\n","import { HasOwnProperty } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-currencydigits\n */\nexport function CurrencyDigits(c, _a) {\n    var currencyDigitsData = _a.currencyDigitsData;\n    return HasOwnProperty(currencyDigitsData, c)\n        ? currencyDigitsData[c]\n        : 2;\n}\n","export var digitMapping = { \"adlm\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"ahom\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"arab\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"arabext\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"bali\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"beng\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"bhks\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"brah\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"cakm\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"cham\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"deva\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"diak\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"fullwide\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"gong\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"gonm\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"gujr\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"guru\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"hanidec\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"hmng\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"hmnp\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"java\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"kali\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"khmr\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"knda\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"lana\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"lanatham\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"laoo\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"lepc\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"limb\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mathbold\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mathdbl\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mathmono\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mathsanb\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mathsans\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mlym\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"modi\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mong\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mroo\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mtei\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mymr\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mymrshan\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"mymrtlng\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"newa\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"nkoo\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"olck\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"orya\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"osma\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"rohg\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"saur\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"segment\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"shrd\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"sind\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"sinh\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"sora\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"sund\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"takr\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"talu\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"tamldec\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"telu\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"thai\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"tibt\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"tirh\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"vaii\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"wara\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"], \"wcho\": [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"] };\n","// @generated from regex-gen.ts\nexport var S_UNICODE_REGEX = /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uAB6A\\uAB6B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED7\\uDEE0-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6\\uDF00-\\uDF92\\uDF94-\\uDFCA]/;\n","import { ToRawFixed } from './ToRawFixed';\nimport { digitMapping } from './digit-mapping.generated';\nimport { S_UNICODE_REGEX } from '../regex.generated';\n// This is from: unicode-12.1.0/General_Category/Symbol/regex.js\n// IE11 does not support unicode flag, otherwise this is just /\\p{S}/u.\n// /^\\p{S}/u\nvar CARET_S_UNICODE_REGEX = new RegExp(\"^\" + S_UNICODE_REGEX.source);\n// /\\p{S}$/u\nvar S_DOLLAR_UNICODE_REGEX = new RegExp(S_UNICODE_REGEX.source + \"$\");\nvar CLDR_NUMBER_PATTERN = /[#0](?:[\\.,][#0]+)*/g;\nexport default function formatToParts(numberResult, data, pl, options) {\n    var sign = numberResult.sign, exponent = numberResult.exponent, magnitude = numberResult.magnitude;\n    var notation = options.notation, style = options.style, numberingSystem = options.numberingSystem;\n    var defaultNumberingSystem = data.numbers.nu[0];\n    // #region Part 1: partition and interpolate the CLDR number pattern.\n    // ----------------------------------------------------------\n    var compactNumberPattern = null;\n    if (notation === 'compact' && magnitude) {\n        compactNumberPattern = getCompactDisplayPattern(numberResult, pl, data, style, options.compactDisplay, options.currencyDisplay, numberingSystem);\n    }\n    // This is used multiple times\n    var nonNameCurrencyPart;\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var byCurrencyDisplay = data.currencies[options.currency];\n        if (byCurrencyDisplay) {\n            switch (options.currencyDisplay) {\n                case 'code':\n                    nonNameCurrencyPart = options.currency;\n                    break;\n                case 'symbol':\n                    nonNameCurrencyPart = byCurrencyDisplay.symbol;\n                    break;\n                default:\n                    nonNameCurrencyPart = byCurrencyDisplay.narrow;\n                    break;\n            }\n        }\n        else {\n            // Fallback for unknown currency\n            nonNameCurrencyPart = options.currency;\n        }\n    }\n    var numberPattern;\n    if (!compactNumberPattern) {\n        // Note: if the style is unit, or is currency and the currency display is name,\n        // its unit parts will be interpolated in part 2. So here we can fallback to decimal.\n        if (style === 'decimal' ||\n            style === 'unit' ||\n            (style === 'currency' && options.currencyDisplay === 'name')) {\n            // Shortcut for decimal\n            var decimalData = data.numbers.decimal[numberingSystem] ||\n                data.numbers.decimal[defaultNumberingSystem];\n            numberPattern = getPatternForSign(decimalData.standard, sign);\n        }\n        else if (style === 'currency') {\n            var currencyData = data.numbers.currency[numberingSystem] ||\n                data.numbers.currency[defaultNumberingSystem];\n            // We replace number pattern part with `0` for easier postprocessing.\n            numberPattern = getPatternForSign(currencyData[options.currencySign], sign);\n        }\n        else {\n            // percent\n            var percentPattern = data.numbers.percent[numberingSystem] ||\n                data.numbers.percent[defaultNumberingSystem];\n            numberPattern = getPatternForSign(percentPattern, sign);\n        }\n    }\n    else {\n        numberPattern = compactNumberPattern;\n    }\n    // Extract the decimal number pattern string. It looks like \"#,##0,00\", which will later be\n    // used to infer decimal group sizes.\n    var decimalNumberPattern = CLDR_NUMBER_PATTERN.exec(numberPattern)[0];\n    // Now we start to substitute patterns\n    // 1. replace strings like `0` and `#,##0.00` with `{0}`\n    // 2. unquote characters (invariant: the quoted characters does not contain the special tokens)\n    numberPattern = numberPattern\n        .replace(CLDR_NUMBER_PATTERN, '{0}')\n        .replace(/'(.)'/g, '$1');\n    // Handle currency spacing (both compact and non-compact).\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var currencyData = data.numbers.currency[numberingSystem] ||\n            data.numbers.currency[defaultNumberingSystem];\n        // See `currencySpacing` substitution rule in TR-35.\n        // Here we always assume the currencyMatch is \"[:^S:]\" and surroundingMatch is \"[:digit:]\".\n        //\n        // Example 1: for pattern \"#,##0.00\" with symbol \"US$\", we replace \"\" with the symbol,\n        // but insert an extra non-break space before the symbol, because \"[:^S:]\" matches \"U\" in\n        // \"US$\" and \"[:digit:]\" matches the latn numbering system digits.\n        //\n        // Example 2: for pattern \"#,##0.00\" with symbol \"US$\", there is no spacing between symbol\n        // and number, because `$` does not match \"[:^S:]\".\n        //\n        // Implementation note: here we do the best effort to infer the insertion.\n        // We also assume that `beforeInsertBetween` and `afterInsertBetween` will never be `;`.\n        var afterCurrency = currencyData.currencySpacing.afterInsertBetween;\n        if (afterCurrency && !S_DOLLAR_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}', \"\\u00A4\" + afterCurrency + \"{0}\");\n        }\n        var beforeCurrency = currencyData.currencySpacing.beforeInsertBetween;\n        if (beforeCurrency && !CARET_S_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}', \"{0}\" + beforeCurrency + \"\\u00A4\");\n        }\n    }\n    // The following tokens are special: `{0}`, ``, `%`, `-`, `+`, `{c:...}.\n    var numberPatternParts = numberPattern.split(/({c:[^}]+}|\\{0\\}|[%\\-\\+])/g);\n    var numberParts = [];\n    var symbols = data.numbers.symbols[numberingSystem] ||\n        data.numbers.symbols[defaultNumberingSystem];\n    for (var _i = 0, numberPatternParts_1 = numberPatternParts; _i < numberPatternParts_1.length; _i++) {\n        var part = numberPatternParts_1[_i];\n        if (!part) {\n            continue;\n        }\n        switch (part) {\n            case '{0}': {\n                // We only need to handle scientific and engineering notation here.\n                numberParts.push.apply(numberParts, paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, \n                // If compact number pattern exists, do not insert group separators.\n                !compactNumberPattern && options.useGrouping, decimalNumberPattern));\n                break;\n            }\n            case '-':\n                numberParts.push({ type: 'minusSign', value: symbols.minusSign });\n                break;\n            case '+':\n                numberParts.push({ type: 'plusSign', value: symbols.plusSign });\n                break;\n            case '%':\n                numberParts.push({ type: 'percentSign', value: symbols.percentSign });\n                break;\n            case '':\n                // Computed above when handling currency spacing.\n                numberParts.push({ type: 'currency', value: nonNameCurrencyPart });\n                break;\n            default:\n                if (/^\\{c:/.test(part)) {\n                    numberParts.push({\n                        type: 'compact',\n                        value: part.substring(3, part.length - 1),\n                    });\n                }\n                else {\n                    // literal\n                    numberParts.push({ type: 'literal', value: part });\n                }\n                break;\n        }\n    }\n    // #endregion\n    // #region Part 2: interpolate unit pattern if necessary.\n    // ----------------------------------------------\n    switch (style) {\n        case 'currency': {\n            // `currencyDisplay: 'name'` has similar pattern handling as units.\n            if (options.currencyDisplay === 'name') {\n                var unitPattern = (data.numbers.currency[numberingSystem] ||\n                    data.numbers.currency[defaultNumberingSystem]).unitPattern;\n                // Select plural\n                var unitName = void 0;\n                var currencyNameData = data.currencies[options.currency];\n                if (currencyNameData) {\n                    unitName = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), currencyNameData.displayName);\n                }\n                else {\n                    // Fallback for unknown currency\n                    unitName = options.currency;\n                }\n                // Do {0} and {1} substitution\n                var unitPatternParts = unitPattern.split(/(\\{[01]\\})/g);\n                var result = [];\n                for (var _a = 0, unitPatternParts_1 = unitPatternParts; _a < unitPatternParts_1.length; _a++) {\n                    var part = unitPatternParts_1[_a];\n                    switch (part) {\n                        case '{0}':\n                            result.push.apply(result, numberParts);\n                            break;\n                        case '{1}':\n                            result.push({ type: 'currency', value: unitName });\n                            break;\n                        default:\n                            if (part) {\n                                result.push({ type: 'literal', value: part });\n                            }\n                            break;\n                    }\n                }\n                return result;\n            }\n            else {\n                return numberParts;\n            }\n        }\n        case 'unit': {\n            var unit = options.unit, unitDisplay = options.unitDisplay;\n            var unitData = data.units.simple[unit];\n            var unitPattern = void 0;\n            if (unitData) {\n                // Simple unit pattern\n                unitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[unit][unitDisplay]);\n            }\n            else {\n                // See: http://unicode.org/reports/tr35/tr35-general.html#perUnitPatterns\n                // If cannot find unit in the simple pattern, it must be \"per\" compound pattern.\n                // Implementation note: we are not following TR-35 here because we need to format to parts!\n                var _b = unit.split('-per-'), numeratorUnit = _b[0], denominatorUnit = _b[1];\n                unitData = data.units.simple[numeratorUnit];\n                var numeratorUnitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[numeratorUnit][unitDisplay]);\n                var perUnitPattern = data.units.simple[denominatorUnit].perUnit[unitDisplay];\n                if (perUnitPattern) {\n                    // perUnitPattern exists, combine it with numeratorUnitPattern\n                    unitPattern = perUnitPattern.replace('{0}', numeratorUnitPattern);\n                }\n                else {\n                    // get compoundUnit pattern (e.g. \"{0} per {1}\"), repalce {0} with numerator pattern and {1} with\n                    // the denominator pattern in singular form.\n                    var perPattern = data.units.compound.per[unitDisplay];\n                    var denominatorPattern = selectPlural(pl, 1, data.units.simple[denominatorUnit][unitDisplay]);\n                    unitPattern = unitPattern = perPattern\n                        .replace('{0}', numeratorUnitPattern)\n                        .replace('{1}', denominatorPattern.replace('{0}', ''));\n                }\n            }\n            var result = [];\n            // We need spacing around \"{0}\" because they are not treated as \"unit\" parts, but \"literal\".\n            for (var _c = 0, _d = unitPattern.split(/(\\s*\\{0\\}\\s*)/); _c < _d.length; _c++) {\n                var part = _d[_c];\n                var interpolateMatch = /^(\\s*)\\{0\\}(\\s*)$/.exec(part);\n                if (interpolateMatch) {\n                    // Space before \"{0}\"\n                    if (interpolateMatch[1]) {\n                        result.push({ type: 'literal', value: interpolateMatch[1] });\n                    }\n                    // \"{0}\" itself\n                    result.push.apply(result, numberParts);\n                    // Space after \"{0}\"\n                    if (interpolateMatch[2]) {\n                        result.push({ type: 'literal', value: interpolateMatch[2] });\n                    }\n                }\n                else if (part) {\n                    result.push({ type: 'unit', value: part });\n                }\n            }\n            return result;\n        }\n        default:\n            return numberParts;\n    }\n    // #endregion\n}\n// A subset of https://tc39.es/ecma402/#sec-partitionnotationsubpattern\n// Plus the exponent parts handling.\nfunction paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, useGrouping, \n/**\n * This is the decimal number pattern without signs or symbols.\n * It is used to infer the group size when `useGrouping` is true.\n *\n * A typical value looks like \"#,##0.00\" (primary group size is 3).\n * Some locales like Hindi has secondary group size of 2 (e.g. \"#,##,##0.00\").\n */\ndecimalNumberPattern) {\n    var result = [];\n    // eslint-disable-next-line prefer-const\n    var n = numberResult.formattedString, x = numberResult.roundedNumber;\n    if (isNaN(x)) {\n        return [{ type: 'nan', value: n }];\n    }\n    else if (!isFinite(x)) {\n        return [{ type: 'infinity', value: n }];\n    }\n    var digitReplacementTable = digitMapping[numberingSystem];\n    if (digitReplacementTable) {\n        n = n.replace(/\\d/g, function (digit) { return digitReplacementTable[+digit] || digit; });\n    }\n    // TODO: Else use an implementation dependent algorithm to map n to the appropriate\n    // representation of n in the given numbering system.\n    var decimalSepIndex = n.indexOf('.');\n    var integer;\n    var fraction;\n    if (decimalSepIndex > 0) {\n        integer = n.slice(0, decimalSepIndex);\n        fraction = n.slice(decimalSepIndex + 1);\n    }\n    else {\n        integer = n;\n    }\n    // #region Grouping integer digits\n    // The weird compact and x >= 10000 check is to ensure consistency with Node.js and Chrome.\n    // Note that `de` does not have compact form for thousands, but Node.js does not insert grouping separator\n    // unless the rounded number is greater than 10000:\n    //   NumberFormat('de', {notation: 'compact', compactDisplay: 'short'}).format(1234) //=> \"1234\"\n    //   NumberFormat('de').format(1234) //=> \"1.234\"\n    if (useGrouping && (notation !== 'compact' || x >= 10000)) {\n        var groupSepSymbol = symbols.group;\n        var groups = [];\n        // > There may be two different grouping sizes: The primary grouping size used for the least\n        // > significant integer group, and the secondary grouping size used for more significant groups.\n        // > If a pattern contains multiple grouping separators, the interval between the last one and the\n        // > end of the integer defines the primary grouping size, and the interval between the last two\n        // > defines the secondary grouping size. All others are ignored.\n        var integerNumberPattern = decimalNumberPattern.split('.')[0];\n        var patternGroups = integerNumberPattern.split(',');\n        var primaryGroupingSize = 3;\n        var secondaryGroupingSize = 3;\n        if (patternGroups.length > 1) {\n            primaryGroupingSize = patternGroups[patternGroups.length - 1].length;\n        }\n        if (patternGroups.length > 2) {\n            secondaryGroupingSize = patternGroups[patternGroups.length - 2].length;\n        }\n        var i = integer.length - primaryGroupingSize;\n        if (i > 0) {\n            // Slice the least significant integer group\n            groups.push(integer.slice(i, i + primaryGroupingSize));\n            // Then iteratively push the more signicant groups\n            // TODO: handle surrogate pairs in some numbering system digits\n            for (i -= secondaryGroupingSize; i > 0; i -= secondaryGroupingSize) {\n                groups.push(integer.slice(i, i + secondaryGroupingSize));\n            }\n            groups.push(integer.slice(0, i + secondaryGroupingSize));\n        }\n        else {\n            groups.push(integer);\n        }\n        while (groups.length > 0) {\n            var integerGroup = groups.pop();\n            result.push({ type: 'integer', value: integerGroup });\n            if (groups.length > 0) {\n                result.push({ type: 'group', value: groupSepSymbol });\n            }\n        }\n    }\n    else {\n        result.push({ type: 'integer', value: integer });\n    }\n    // #endregion\n    if (fraction !== undefined) {\n        result.push({ type: 'decimal', value: symbols.decimal }, { type: 'fraction', value: fraction });\n    }\n    if ((notation === 'scientific' || notation === 'engineering') &&\n        isFinite(x)) {\n        result.push({ type: 'exponentSeparator', value: symbols.exponential });\n        if (exponent < 0) {\n            result.push({ type: 'exponentMinusSign', value: symbols.minusSign });\n            exponent = -exponent;\n        }\n        var exponentResult = ToRawFixed(exponent, 0, 0);\n        result.push({\n            type: 'exponentInteger',\n            value: exponentResult.formattedString,\n        });\n    }\n    return result;\n}\nfunction getPatternForSign(pattern, sign) {\n    if (pattern.indexOf(';') < 0) {\n        pattern = pattern + \";-\" + pattern;\n    }\n    var _a = pattern.split(';'), zeroPattern = _a[0], negativePattern = _a[1];\n    switch (sign) {\n        case 0:\n            return zeroPattern;\n        case -1:\n            return negativePattern;\n        default:\n            return negativePattern.indexOf('-') >= 0\n                ? negativePattern.replace(/-/g, '+')\n                : \"+\" + zeroPattern;\n    }\n}\n// Find the CLDR pattern for compact notation based on the magnitude of data and style.\n//\n// Example return value: \"{c:laki}000;{c:laki}-0\" (`sw` locale):\n// - Notice the `{c:...}` token that wraps the compact literal.\n// - The consecutive zeros are normalized to single zero to match CLDR_NUMBER_PATTERN.\n//\n// Returning null means the compact display pattern cannot be found.\nfunction getCompactDisplayPattern(numberResult, pl, data, style, compactDisplay, currencyDisplay, numberingSystem) {\n    var _a;\n    var roundedNumber = numberResult.roundedNumber, sign = numberResult.sign, magnitude = numberResult.magnitude;\n    var magnitudeKey = String(Math.pow(10, magnitude));\n    var defaultNumberingSystem = data.numbers.nu[0];\n    var pattern;\n    if (style === 'currency' && currencyDisplay !== 'name') {\n        var byNumberingSystem = data.numbers.currency;\n        var currencyData = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        // NOTE: compact notation ignores currencySign!\n        var compactPluralRules = (_a = currencyData.short) === null || _a === void 0 ? void 0 : _a[magnitudeKey];\n        if (!compactPluralRules) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPluralRules);\n    }\n    else {\n        var byNumberingSystem = data.numbers.decimal;\n        var byCompactDisplay = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        var compactPlaralRule = byCompactDisplay[compactDisplay][magnitudeKey];\n        if (!compactPlaralRule) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPlaralRule);\n    }\n    // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n    // > If the value is precisely 0, either explicit or defaulted, then the normal number format\n    // > pattern for that sort of object is supplied.\n    if (pattern === '0') {\n        return null;\n    }\n    pattern = getPatternForSign(pattern, sign)\n        // Extract compact literal from the pattern\n        .replace(/([^\\s;\\-\\+\\d]+)/g, '{c:$1}')\n        // We replace one or more zeros with a single zero so it matches `CLDR_NUMBER_PATTERN`.\n        .replace(/0+/, '0');\n    return pattern;\n}\nfunction selectPlural(pl, x, rules) {\n    return rules[pl.select(x)] || rules.other;\n}\n","import { FormatNumericToString } from './FormatNumericToString';\nimport { SameValue } from '../262';\nimport { ComputeExponent } from './ComputeExponent';\nimport formatToParts from './format_to_parts';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function PartitionNumberPattern(numberFormat, x, _a) {\n    var _b;\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var pl = internalSlots.pl, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    var symbols = dataLocaleData.numbers.symbols[numberingSystem] ||\n        dataLocaleData.numbers.symbols[dataLocaleData.numbers.nu[0]];\n    var magnitude = 0;\n    var exponent = 0;\n    var n;\n    if (isNaN(x)) {\n        n = symbols.nan;\n    }\n    else if (!isFinite(x)) {\n        n = symbols.infinity;\n    }\n    else {\n        if (internalSlots.style === 'percent') {\n            x *= 100;\n        }\n        ;\n        _b = ComputeExponent(numberFormat, x, {\n            getInternalSlots: getInternalSlots,\n        }), exponent = _b[0], magnitude = _b[1];\n        // Preserve more precision by doing multiplication when exponent is negative.\n        x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n        var formatNumberResult = FormatNumericToString(internalSlots, x);\n        n = formatNumberResult.formattedString;\n        x = formatNumberResult.roundedNumber;\n    }\n    // Based on https://tc39.es/ecma402/#sec-getnumberformatpattern\n    // We need to do this before `x` is rounded.\n    var sign;\n    var signDisplay = internalSlots.signDisplay;\n    switch (signDisplay) {\n        case 'never':\n            sign = 0;\n            break;\n        case 'auto':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        case 'always':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        default:\n            // x === 0 -> x is 0 or x is -0\n            if (x === 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else if (x > 0) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n    }\n    return formatToParts({ roundedNumber: x, formattedString: n, exponent: exponent, magnitude: magnitude, sign: sign }, internalSlots.dataLocaleData, pl, internalSlots);\n}\n","import { PartitionNumberPattern } from './PartitionNumberPattern';\nimport { ArrayCreate } from '../262';\nexport function FormatNumericToParts(nf, x, implDetails) {\n    var parts = PartitionNumberPattern(nf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { GetOption } from '../GetOption';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nimport { IsWellFormedUnitIdentifier } from '../IsWellFormedUnitIdentifier';\n/**\n * https://tc39.es/ecma402/#sec-setnumberformatunitoptions\n */\nexport function SetNumberFormatUnitOptions(nf, options, _a) {\n    if (options === void 0) { options = Object.create(null); }\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(nf);\n    var style = GetOption(options, 'style', 'string', ['decimal', 'percent', 'currency', 'unit'], 'decimal');\n    internalSlots.style = style;\n    var currency = GetOption(options, 'currency', 'string', undefined, undefined);\n    if (currency !== undefined && !IsWellFormedCurrencyCode(currency)) {\n        throw RangeError('Malformed currency code');\n    }\n    if (style === 'currency' && currency === undefined) {\n        throw TypeError('currency cannot be undefined');\n    }\n    var currencyDisplay = GetOption(options, 'currencyDisplay', 'string', ['code', 'symbol', 'narrowSymbol', 'name'], 'symbol');\n    var currencySign = GetOption(options, 'currencySign', 'string', ['standard', 'accounting'], 'standard');\n    var unit = GetOption(options, 'unit', 'string', undefined, undefined);\n    if (unit !== undefined && !IsWellFormedUnitIdentifier(unit)) {\n        throw RangeError('Invalid unit argument for Intl.NumberFormat()');\n    }\n    if (style === 'unit' && unit === undefined) {\n        throw TypeError('unit cannot be undefined');\n    }\n    var unitDisplay = GetOption(options, 'unitDisplay', 'string', ['short', 'narrow', 'long'], 'short');\n    if (style === 'currency') {\n        internalSlots.currency = currency.toUpperCase();\n        internalSlots.currencyDisplay = currencyDisplay;\n        internalSlots.currencySign = currencySign;\n    }\n    if (style === 'unit') {\n        internalSlots.unit = unit;\n        internalSlots.unitDisplay = unitDisplay;\n    }\n}\n","import { GetNumberOption } from '../GetNumberOption';\nimport { DefaultNumberOption } from '../DefaultNumberOption';\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n */\nexport function SetNumberFormatDigitOptions(internalSlots, opts, mnfdDefault, mxfdDefault, notation) {\n    var mnid = GetNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n    var mnfd = opts.minimumFractionDigits;\n    var mxfd = opts.maximumFractionDigits;\n    var mnsd = opts.minimumSignificantDigits;\n    var mxsd = opts.maximumSignificantDigits;\n    internalSlots.minimumIntegerDigits = mnid;\n    if (mnsd !== undefined || mxsd !== undefined) {\n        internalSlots.roundingType = 'significantDigits';\n        mnsd = DefaultNumberOption(mnsd, 1, 21, 1);\n        mxsd = DefaultNumberOption(mxsd, mnsd, 21, 21);\n        internalSlots.minimumSignificantDigits = mnsd;\n        internalSlots.maximumSignificantDigits = mxsd;\n    }\n    else if (mnfd !== undefined || mxfd !== undefined) {\n        internalSlots.roundingType = 'fractionDigits';\n        mnfd = DefaultNumberOption(mnfd, 0, 20, mnfdDefault);\n        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n        mxfd = DefaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n        internalSlots.minimumFractionDigits = mnfd;\n        internalSlots.maximumFractionDigits = mxfd;\n    }\n    else if (notation === 'compact') {\n        internalSlots.roundingType = 'compactRounding';\n    }\n    else {\n        internalSlots.roundingType = 'fractionDigits';\n        internalSlots.minimumFractionDigits = mnfdDefault;\n        internalSlots.maximumFractionDigits = mxfdDefault;\n    }\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '@formatjs/intl-localematcher';\nimport { SetNumberFormatUnitOptions } from './SetNumberFormatUnitOptions';\nimport { CurrencyDigits } from './CurrencyDigits';\nimport { SetNumberFormatDigitOptions } from './SetNumberFormatDigitOptions';\nimport { invariant } from '../utils';\nimport { CoerceOptionsToObject } from '../CoerceOptionsToObject';\n/**\n * https://tc39.es/ecma402/#sec-initializenumberformat\n */\nexport function InitializeNumberFormat(nf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, availableLocales = _a.availableLocales, numberingSystemNames = _a.numberingSystemNames, getDefaultLocale = _a.getDefaultLocale, currencyDigitsData = _a.currencyDigitsData;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = CoerceOptionsToObject(opts);\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined &&\n        numberingSystemNames.indexOf(numberingSystem) < 0) {\n        // 8.a. If numberingSystem does not match the Unicode Locale Identifier type nonterminal,\n        // throw a RangeError exception.\n        throw RangeError(\"Invalid numberingSystems: \" + numberingSystem);\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, \n    // [[RelevantExtensionKeys]] slot, which is a constant\n    ['nu'], localeData, getDefaultLocale);\n    var dataLocaleData = localeData[r.dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + r.dataLocale);\n    var internalSlots = getInternalSlots(nf);\n    internalSlots.locale = r.locale;\n    internalSlots.dataLocale = r.dataLocale;\n    internalSlots.numberingSystem = r.nu;\n    internalSlots.dataLocaleData = dataLocaleData;\n    SetNumberFormatUnitOptions(nf, options, { getInternalSlots: getInternalSlots });\n    var style = internalSlots.style;\n    var mnfdDefault;\n    var mxfdDefault;\n    if (style === 'currency') {\n        var currency = internalSlots.currency;\n        var cDigits = CurrencyDigits(currency, { currencyDigitsData: currencyDigitsData });\n        mnfdDefault = cDigits;\n        mxfdDefault = cDigits;\n    }\n    else {\n        mnfdDefault = 0;\n        mxfdDefault = style === 'percent' ? 0 : 3;\n    }\n    var notation = GetOption(options, 'notation', 'string', ['standard', 'scientific', 'engineering', 'compact'], 'standard');\n    internalSlots.notation = notation;\n    SetNumberFormatDigitOptions(internalSlots, options, mnfdDefault, mxfdDefault, notation);\n    var compactDisplay = GetOption(options, 'compactDisplay', 'string', ['short', 'long'], 'short');\n    if (notation === 'compact') {\n        internalSlots.compactDisplay = compactDisplay;\n    }\n    var useGrouping = GetOption(options, 'useGrouping', 'boolean', undefined, true);\n    internalSlots.useGrouping = useGrouping;\n    var signDisplay = GetOption(options, 'signDisplay', 'string', ['auto', 'never', 'always', 'exceptZero'], 'auto');\n    internalSlots.signDisplay = signDisplay;\n    return nf;\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-partitionpattern\n * @param pattern\n */\nexport function PartitionPattern(pattern) {\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var endIndex = 0;\n    var nextIndex = 0;\n    var length = pattern.length;\n    while (beginIndex < pattern.length && beginIndex > -1) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        result.push({\n            type: pattern.substring(beginIndex + 1, endIndex),\n            value: undefined,\n        });\n        nextIndex = endIndex + 1;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex, length),\n        });\n    }\n    return result;\n}\n","import { ToObject } from './262';\nimport { GetOption } from './GetOption';\nimport { LookupSupportedLocales } from '@formatjs/intl-localematcher';\n/**\n * https://tc39.es/ecma402/#sec-supportedlocales\n * @param availableLocales\n * @param requestedLocales\n * @param options\n */\nexport function SupportedLocales(availableLocales, requestedLocales, options) {\n    var matcher = 'best fit';\n    if (options !== undefined) {\n        options = ToObject(options);\n        matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    }\n    if (matcher === 'best fit') {\n        return LookupSupportedLocales(availableLocales, requestedLocales);\n    }\n    return LookupSupportedLocales(availableLocales, requestedLocales);\n}\n","export var RangePatternType;\n(function (RangePatternType) {\n    RangePatternType[\"startRange\"] = \"startRange\";\n    RangePatternType[\"shared\"] = \"shared\";\n    RangePatternType[\"endRange\"] = \"endRange\";\n})(RangePatternType || (RangePatternType = {}));\n","import { __extends } from \"tslib\";\nvar MissingLocaleDataError = /** @class */ (function (_super) {\n    __extends(MissingLocaleDataError, _super);\n    function MissingLocaleDataError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'MISSING_LOCALE_DATA';\n        return _this;\n    }\n    return MissingLocaleDataError;\n}(Error));\nexport function isMissingLocaleDataError(e) {\n    return e.type === 'MISSING_LOCALE_DATA';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BestAvailableLocale = void 0;\n/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\nfunction BestAvailableLocale(availableLocales, locale) {\n    var candidate = locale;\n    while (true) {\n        if (availableLocales.has(candidate)) {\n            return candidate;\n        }\n        var pos = candidate.lastIndexOf('-');\n        if (!~pos) {\n            return undefined;\n        }\n        if (pos >= 2 && candidate[pos - 2] === '-') {\n            pos -= 2;\n        }\n        candidate = candidate.slice(0, pos);\n    }\n}\nexports.BestAvailableLocale = BestAvailableLocale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BestFitMatcher = void 0;\nvar BestAvailableLocale_1 = require(\"./BestAvailableLocale\");\nvar utils_1 = require(\"./utils\");\n/**\n * https://tc39.es/ecma402/#sec-bestfitmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nfunction BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var minimizedAvailableLocaleMap = Array.from(availableLocales).reduce(function (all, l) {\n        all[l] = l;\n        return all;\n    }, {});\n    var minimizedAvailableLocales = new Set();\n    availableLocales.forEach(function (locale) {\n        var minimizedLocale = new Intl.Locale(locale)\n            .minimize()\n            .toString();\n        minimizedAvailableLocaleMap[minimizedLocale] = locale;\n        minimizedAvailableLocales.add(minimizedLocale);\n    });\n    var foundLocale;\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var l = requestedLocales_1[_i];\n        if (foundLocale) {\n            break;\n        }\n        var noExtensionLocale = l.replace(utils_1.UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        if (availableLocales.has(noExtensionLocale)) {\n            foundLocale = noExtensionLocale;\n            break;\n        }\n        if (minimizedAvailableLocales.has(noExtensionLocale)) {\n            foundLocale = noExtensionLocale;\n            break;\n        }\n        var locale = new Intl.Locale(noExtensionLocale);\n        var maximizedRequestedLocale = locale.maximize().toString();\n        var minimizedRequestedLocale = locale.minimize().toString();\n        // Check minimized locale\n        if (minimizedAvailableLocales.has(minimizedRequestedLocale)) {\n            foundLocale = minimizedRequestedLocale;\n            break;\n        }\n        // Lookup algo on maximized locale\n        foundLocale = BestAvailableLocale_1.BestAvailableLocale(minimizedAvailableLocales, maximizedRequestedLocale);\n    }\n    return {\n        locale: (foundLocale && minimizedAvailableLocaleMap[foundLocale]) ||\n            getDefaultLocale(),\n    };\n}\nexports.BestFitMatcher = BestFitMatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LookupMatcher = void 0;\nvar utils_1 = require(\"./utils\");\nvar BestAvailableLocale_1 = require(\"./BestAvailableLocale\");\n/**\n * https://tc39.es/ecma402/#sec-lookupmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nfunction LookupMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var result = { locale: '' };\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(utils_1.UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale_1.BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            result.locale = availableLocale;\n            if (locale !== noExtensionLocale) {\n                result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n            }\n            return result;\n        }\n    }\n    result.locale = getDefaultLocale();\n    return result;\n}\nexports.LookupMatcher = LookupMatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LookupSupportedLocales = void 0;\nvar utils_1 = require(\"./utils\");\nvar BestAvailableLocale_1 = require(\"./BestAvailableLocale\");\n/**\n * https://tc39.es/ecma402/#sec-lookupsupportedlocales\n * @param availableLocales\n * @param requestedLocales\n */\nfunction LookupSupportedLocales(availableLocales, requestedLocales) {\n    var subset = [];\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(utils_1.UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale_1.BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            subset.push(availableLocale);\n        }\n    }\n    return subset;\n}\nexports.LookupSupportedLocales = LookupSupportedLocales;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResolveLocale = void 0;\nvar LookupMatcher_1 = require(\"./LookupMatcher\");\nvar BestFitMatcher_1 = require(\"./BestFitMatcher\");\nvar utils_1 = require(\"./utils\");\nvar UnicodeExtensionValue_1 = require(\"./UnicodeExtensionValue\");\n/**\n * https://tc39.es/ecma402/#sec-resolvelocale\n */\nfunction ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\n    var matcher = options.localeMatcher;\n    var r;\n    if (matcher === 'lookup') {\n        r = LookupMatcher_1.LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    else {\n        r = BestFitMatcher_1.BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    var foundLocale = r.locale;\n    var result = { locale: '', dataLocale: foundLocale };\n    var supportedExtension = '-u';\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n        var key = relevantExtensionKeys_1[_i];\n        utils_1.invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\n        var foundLocaleData = localeData[foundLocale];\n        utils_1.invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n        var keyLocaleData = foundLocaleData[key];\n        utils_1.invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n        var value = keyLocaleData[0];\n        utils_1.invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\n        var supportedExtensionAddition = '';\n        if (r.extension) {\n            var requestedValue = UnicodeExtensionValue_1.UnicodeExtensionValue(r.extension, key);\n            if (requestedValue !== undefined) {\n                if (requestedValue !== '') {\n                    if (~keyLocaleData.indexOf(requestedValue)) {\n                        value = requestedValue;\n                        supportedExtensionAddition = \"-\" + key + \"-\" + value;\n                    }\n                }\n                else if (~requestedValue.indexOf('true')) {\n                    value = 'true';\n                    supportedExtensionAddition = \"-\" + key;\n                }\n            }\n        }\n        if (key in options) {\n            var optionsValue = options[key];\n            utils_1.invariant(typeof optionsValue === 'string' ||\n                typeof optionsValue === 'undefined' ||\n                optionsValue === null, 'optionsValue must be String, Undefined or Null');\n            if (~keyLocaleData.indexOf(optionsValue)) {\n                if (optionsValue !== value) {\n                    value = optionsValue;\n                    supportedExtensionAddition = '';\n                }\n            }\n        }\n        result[key] = value;\n        supportedExtension += supportedExtensionAddition;\n    }\n    if (supportedExtension.length > 2) {\n        var privateIndex = foundLocale.indexOf('-x-');\n        if (privateIndex === -1) {\n            foundLocale = foundLocale + supportedExtension;\n        }\n        else {\n            var preExtension = foundLocale.slice(0, privateIndex);\n            var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n            foundLocale = preExtension + supportedExtension + postExtension;\n        }\n        foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\n    }\n    result.locale = foundLocale;\n    return result;\n}\nexports.ResolveLocale = ResolveLocale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnicodeExtensionValue = void 0;\nvar utils_1 = require(\"./utils\");\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\nfunction UnicodeExtensionValue(extension, key) {\n    utils_1.invariant(key.length === 2, 'key must have 2 elements');\n    var size = extension.length;\n    var searchValue = \"-\" + key + \"-\";\n    var pos = extension.indexOf(searchValue);\n    if (pos !== -1) {\n        var start = pos + 4;\n        var end = start;\n        var k = start;\n        var done = false;\n        while (!done) {\n            var e = extension.indexOf('-', k);\n            var len = void 0;\n            if (e === -1) {\n                len = size - k;\n            }\n            else {\n                len = e - k;\n            }\n            if (len === 2) {\n                done = true;\n            }\n            else if (e === -1) {\n                end = size;\n                done = true;\n            }\n            else {\n                end = e;\n                k = e + 1;\n            }\n        }\n        return extension.slice(start, end);\n    }\n    searchValue = \"-\" + key;\n    pos = extension.indexOf(searchValue);\n    if (pos !== -1 && pos + 3 === size) {\n        return '';\n    }\n    return undefined;\n}\nexports.UnicodeExtensionValue = UnicodeExtensionValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.invariant = exports.UNICODE_EXTENSION_SEQUENCE_REGEX = void 0;\nexports.UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\nfunction invariant(condition, message, Err) {\n    if (Err === void 0) { Err = Error; }\n    if (!condition) {\n        throw new Err(message);\n    }\n}\nexports.invariant = invariant;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResolveLocale = exports.LookupSupportedLocales = exports.match = void 0;\nvar ResolveLocale_1 = require(\"./abstract/ResolveLocale\");\nfunction match(requestedLocales, availableLocales, defaultLocale, opts) {\n    var locales = availableLocales.reduce(function (all, l) {\n        all.add(l);\n        return all;\n    }, new Set());\n    return ResolveLocale_1.ResolveLocale(locales, requestedLocales, {\n        localeMatcher: (opts === null || opts === void 0 ? void 0 : opts.algorithm) || 'best fit',\n    }, [], {}, function () { return defaultLocale; }).locale;\n}\nexports.match = match;\nvar LookupSupportedLocales_1 = require(\"./abstract/LookupSupportedLocales\");\nObject.defineProperty(exports, \"LookupSupportedLocales\", { enumerable: true, get: function () { return LookupSupportedLocales_1.LookupSupportedLocales; } });\nvar ResolveLocale_2 = require(\"./abstract/ResolveLocale\");\nObject.defineProperty(exports, \"ResolveLocale\", { enumerable: true, get: function () { return ResolveLocale_2.ResolveLocale; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluralRules = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar get_internal_slots_1 = tslib_1.__importDefault(require(\"./get_internal_slots\"));\nfunction validateInstance(instance, method) {\n    if (!(instance instanceof PluralRules)) {\n        throw new TypeError(\"Method Intl.PluralRules.prototype.\" + method + \" called on incompatible receiver \" + String(instance));\n    }\n}\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-pluralruleselect\n * @param locale\n * @param type\n * @param _n\n * @param param3\n */\nfunction PluralRuleSelect(locale, type, _n, _a) {\n    var IntegerDigits = _a.IntegerDigits, NumberOfFractionDigits = _a.NumberOfFractionDigits, FractionDigits = _a.FractionDigits;\n    return PluralRules.localeData[locale].fn(NumberOfFractionDigits\n        ? IntegerDigits + \".\" + FractionDigits\n        : IntegerDigits, type === 'ordinal');\n}\nvar PluralRules = /** @class */ (function () {\n    function PluralRules(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof PluralRules ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.PluralRules must be called with 'new'\");\n        }\n        return ecma402_abstract_1.InitializePluralRules(this, locales, options, {\n            availableLocales: PluralRules.availableLocales,\n            relevantExtensionKeys: PluralRules.relevantExtensionKeys,\n            localeData: PluralRules.localeData,\n            getDefaultLocale: PluralRules.getDefaultLocale,\n            getInternalSlots: get_internal_slots_1.default,\n        });\n    }\n    PluralRules.prototype.resolvedOptions = function () {\n        validateInstance(this, 'resolvedOptions');\n        var opts = Object.create(null);\n        var internalSlots = get_internal_slots_1.default(this);\n        opts.locale = internalSlots.locale;\n        opts.type = internalSlots.type;\n        [\n            'minimumIntegerDigits',\n            'minimumFractionDigits',\n            'maximumFractionDigits',\n            'minimumSignificantDigits',\n            'maximumSignificantDigits',\n        ].forEach(function (field) {\n            var val = internalSlots[field];\n            if (val !== undefined) {\n                opts[field] = val;\n            }\n        });\n        opts.pluralCategories = tslib_1.__spreadArrays(PluralRules.localeData[opts.locale].categories[opts.type]);\n        return opts;\n    };\n    PluralRules.prototype.select = function (val) {\n        var pr = this;\n        validateInstance(pr, 'select');\n        var n = ecma402_abstract_1.ToNumber(val);\n        return ecma402_abstract_1.ResolvePlural(pr, n, { getInternalSlots: get_internal_slots_1.default, PluralRuleSelect: PluralRuleSelect });\n    };\n    PluralRules.prototype.toString = function () {\n        return '[object Intl.PluralRules]';\n    };\n    PluralRules.supportedLocalesOf = function (locales, options) {\n        return ecma402_abstract_1.SupportedLocales(PluralRules.availableLocales, ecma402_abstract_1.CanonicalizeLocaleList(locales), options);\n    };\n    PluralRules.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            PluralRules.localeData[locale] = d;\n            PluralRules.availableLocales.add(locale);\n            if (!PluralRules.__defaultLocale) {\n                PluralRules.__defaultLocale = locale;\n            }\n        }\n    };\n    PluralRules.getDefaultLocale = function () {\n        return PluralRules.__defaultLocale;\n    };\n    PluralRules.localeData = {};\n    PluralRules.availableLocales = new Set();\n    PluralRules.__defaultLocale = '';\n    PluralRules.relevantExtensionKeys = [];\n    PluralRules.polyfilled = true;\n    return PluralRules;\n}());\nexports.PluralRules = PluralRules;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(PluralRules.prototype, Symbol.toStringTag, {\n            value: 'Intl.PluralRules',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    try {\n        // https://github.com/tc39/test262/blob/master/test/intl402/PluralRules/length.js\n        Object.defineProperty(PluralRules, 'length', {\n            value: 0,\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    catch (error) {\n        // IE 11 sets Function.prototype.length to be non-configurable which will cause the\n        // above Object.defineProperty to throw an error.\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(PluralRules.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(PluralRules.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (ex) {\n    // Meta fixes for test262\n}\n","/* @generated */\n// prettier-ignore\nif (Intl.PluralRules && typeof Intl.PluralRules.__addLocaleData === 'function') {\n  Intl.PluralRules.__addLocaleData({\"data\":{\"categories\":{\"cardinal\":[\"one\",\"other\"],\"ordinal\":[\"one\",\"two\",\"few\",\"other\"]},\"fn\":function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return n10 == 1 && n100 != 11 ? 'one'\n    : n10 == 2 && n100 != 12 ? 'two'\n    : n10 == 3 && n100 != 13 ? 'few'\n    : 'other';\n  return n == 1 && v0 ? 'one' : 'other';\n}},\"locale\":\"en\"})\n}\n","/**\n * Cannot do Math.log(x) / Math.log(10) bc if IEEE floating point issue\n * @param x number\n */\nexport function getMagnitude(x) {\n    // Cannot count string length via Number.toString because it may use scientific notation\n    // for very small or very large numbers.\n    return Math.floor(Math.log(x) * Math.LOG10E);\n}\nexport function repeat(s, times) {\n    if (typeof s.repeat === 'function') {\n        return s.repeat(times);\n    }\n    var arr = new Array(times);\n    for (var i = 0; i < arr.length; i++) {\n        arr[i] = s;\n    }\n    return arr.join('');\n}\nexport function setInternalSlot(map, pl, field, value) {\n    if (!map.get(pl)) {\n        map.set(pl, Object.create(null));\n    }\n    var slots = map.get(pl);\n    slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var k = _a[_i];\n        setInternalSlot(map, pl, k, props[k]);\n    }\n}\nexport function getInternalSlot(map, pl, field) {\n    return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n    var fields = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        fields[_i - 2] = arguments[_i];\n    }\n    var slots = map.get(pl);\n    if (!slots) {\n        throw new TypeError(pl + \" InternalSlot has not been initialized\");\n    }\n    return fields.reduce(function (all, f) {\n        all[f] = slots[f];\n        return all;\n    }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n    return patternPart.type === 'literal';\n}\n/*\n  17 ECMAScript Standard Built-in Objects:\n    Every built-in Function object, including constructors, that is not\n    identified as an anonymous function has a name property whose value\n    is a String.\n\n    Unless otherwise specified, the name property of a built-in Function\n    object, if it exists, has the attributes { [[Writable]]: false,\n    [[Enumerable]]: false, [[Configurable]]: true }.\n*/\nexport function defineProperty(target, name, _a) {\n    var value = _a.value;\n    Object.defineProperty(target, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value,\n    });\n}\nexport var UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\nexport function invariant(condition, message, Err) {\n    if (Err === void 0) { Err = Error; }\n    if (!condition) {\n        throw new Err(message);\n    }\n}\n","export var DATE_TIME_PROPS = [\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n];\nexport var removalPenalty = 120;\nexport var additionPenalty = 20;\nexport var differentNumericTypePenalty = 15;\nexport var longLessPenalty = 8;\nexport var longMorePenalty = 6;\nexport var shortLessPenalty = 6;\nexport var shortMorePenalty = 3;\n","import { __assign } from \"tslib\";\n/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n// trim patterns after transformations\nvar expPatternTrimmer = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\nfunction matchSkeletonPattern(match, result) {\n    var len = match.length;\n    switch (match[0]) {\n        // Era\n        case 'G':\n            result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{era}';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            result.year = len === 2 ? '2-digit' : 'numeric';\n            return '{year}';\n        // Quarter\n        case 'q':\n        case 'Q':\n            throw new RangeError('`w/Q` (quarter) patterns are not supported');\n        // Month\n        case 'M':\n        case 'L':\n            result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n            return '{month}';\n        // Week\n        case 'w':\n        case 'W':\n            throw new RangeError('`w/W` (week of year) patterns are not supported');\n        case 'd':\n            result.day = ['numeric', '2-digit'][len - 1];\n            return '{day}';\n        case 'D':\n        case 'F':\n        case 'g':\n            result.day = 'numeric';\n            return '{day}';\n        // Weekday\n        case 'E':\n            result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n            return '{weekday}';\n        case 'e':\n            result.weekday = [\n                'numeric',\n                '2-digit',\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        case 'c':\n            result.weekday = [\n                'numeric',\n                undefined,\n                'short',\n                'long',\n                'narrow',\n                'short',\n            ][len - 1];\n            return '{weekday}';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            result.hour12 = true;\n            return '{ampm}';\n        // Hour\n        case 'h':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'H':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'K':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            result.hour12 = true;\n            return '{hour}';\n        case 'k':\n            result.hour = ['numeric', '2-digit'][len - 1];\n            return '{hour}';\n        case 'j':\n        case 'J':\n        case 'C':\n            throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n        // Minute\n        case 'm':\n            result.minute = ['numeric', '2-digit'][len - 1];\n            return '{minute}';\n        // Second\n        case 's':\n            result.second = ['numeric', '2-digit'][len - 1];\n            return '{second}';\n        case 'S':\n        case 'A':\n            result.second = 'numeric';\n            return '{second}';\n        // Zone\n        case 'z': // 1..3, 4: specific non-location format\n        case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n        case 'O': // 1, 4: miliseconds in day short, long\n        case 'v': // 1, 4: generic non-location format\n        case 'V': // 1, 2, 3, 4: time zone ID or city\n        case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n        case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n            result.timeZoneName = len < 4 ? 'short' : 'long';\n            return '{timeZoneName}';\n    }\n    return '';\n}\nfunction skeletonTokenToTable2(c) {\n    switch (c) {\n        // Era\n        case 'G':\n            return 'era';\n        // Year\n        case 'y':\n        case 'Y':\n        case 'u':\n        case 'U':\n        case 'r':\n            return 'year';\n        // Month\n        case 'M':\n        case 'L':\n            return 'month';\n        // Day\n        case 'd':\n        case 'D':\n        case 'F':\n        case 'g':\n            return 'day';\n        // Period\n        case 'a': // AM, PM\n        case 'b': // am, pm, noon, midnight\n        case 'B': // flexible day periods\n            return 'ampm';\n        // Hour\n        case 'h':\n        case 'H':\n        case 'K':\n        case 'k':\n            return 'hour';\n        // Minute\n        case 'm':\n            return 'minute';\n        // Second\n        case 's':\n        case 'S':\n        case 'A':\n            return 'second';\n        default:\n            throw new RangeError('Invalid range pattern token');\n    }\n}\nexport function processDateTimePattern(pattern, result) {\n    var literals = [];\n    // Use skeleton to populate result, but use mapped pattern to populate pattern\n    var pattern12 = pattern\n        // Double apostrophe\n        .replace(/'{2}/g, '{apostrophe}')\n        // Apostrophe-escaped\n        .replace(/'(.*?)'/g, function (_, literal) {\n        literals.push(literal);\n        return \"$$\" + (literals.length - 1) + \"$$\";\n    })\n        .replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result || {}); });\n    //Restore literals\n    if (literals.length) {\n        pattern12 = pattern12\n            .replace(/\\$\\$(\\d+)\\$\\$/g, function (_, i) {\n            return literals[+i];\n        })\n            .replace(/\\{apostrophe\\}/g, \"'\");\n    }\n    // Handle apostrophe-escaped things\n    return [\n        pattern12\n            .replace(/([\\s\\uFEFF\\xA0])\\{ampm\\}([\\s\\uFEFF\\xA0])/, '$1')\n            .replace('{ampm}', '')\n            .replace(expPatternTrimmer, ''),\n        pattern12,\n    ];\n}\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton, rawPattern, rangePatterns, intervalFormatFallback) {\n    if (rawPattern === void 0) { rawPattern = skeleton; }\n    var result = {\n        pattern: '',\n        pattern12: '',\n        skeleton: skeleton,\n        rawPattern: rawPattern,\n        rangePatterns: {},\n        rangePatterns12: {},\n    };\n    if (rangePatterns) {\n        for (var k in rangePatterns) {\n            var key = skeletonTokenToTable2(k);\n            var rawPattern_1 = rangePatterns[k];\n            var intervalResult = {\n                patternParts: [],\n            };\n            var _a = processDateTimePattern(rawPattern_1, intervalResult), pattern_1 = _a[0], pattern12_1 = _a[1];\n            result.rangePatterns[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern_1) });\n            result.rangePatterns12[key] = __assign(__assign({}, intervalResult), { patternParts: splitRangePattern(pattern12_1) });\n        }\n    }\n    else if (intervalFormatFallback) {\n        var patternParts = splitFallbackRangePattern(intervalFormatFallback);\n        result.rangePatterns.default = {\n            patternParts: patternParts,\n        };\n        result.rangePatterns12.default = {\n            patternParts: patternParts,\n        };\n    }\n    // Process skeleton\n    skeleton.replace(DATE_TIME_REGEX, function (m) { return matchSkeletonPattern(m, result); });\n    var _b = processDateTimePattern(rawPattern), pattern = _b[0], pattern12 = _b[1];\n    result.pattern = pattern;\n    result.pattern12 = pattern12;\n    return result;\n}\nexport function splitFallbackRangePattern(pattern) {\n    var parts = pattern.split(/(\\{[0|1]\\})/g).filter(Boolean);\n    return parts.map(function (pattern) {\n        switch (pattern) {\n            case '{0}':\n                return {\n                    source: \"startRange\" /* startRange */,\n                    pattern: pattern,\n                };\n            case '{1}':\n                return {\n                    source: \"endRange\" /* endRange */,\n                    pattern: pattern,\n                };\n            default:\n                return {\n                    source: \"shared\" /* shared */,\n                    pattern: pattern,\n                };\n        }\n    });\n}\nexport function splitRangePattern(pattern) {\n    var PART_REGEX = /\\{(.*?)\\}/g;\n    // Map of part and index within the string\n    var parts = {};\n    var match;\n    var splitIndex = 0;\n    while ((match = PART_REGEX.exec(pattern))) {\n        if (!(match[0] in parts)) {\n            parts[match[0]] = match.index;\n        }\n        else {\n            splitIndex = match.index;\n            break;\n        }\n    }\n    if (!splitIndex) {\n        return [\n            {\n                source: \"startRange\" /* startRange */,\n                pattern: pattern,\n            },\n        ];\n    }\n    return [\n        {\n            source: \"startRange\" /* startRange */,\n            pattern: pattern.slice(0, splitIndex),\n        },\n        {\n            source: \"endRange\" /* endRange */,\n            pattern: pattern.slice(splitIndex),\n        },\n    ];\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, removalPenalty, additionPenalty, differentNumericTypePenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\nimport { processDateTimePattern } from './skeleton';\nfunction isNumericType(t) {\n    return t === 'numeric' || t === '2-digit';\n}\n/**\n * Credit: https://github.com/andyearnshaw/Intl.js/blob/0958dc1ad8153f1056653ea22b8208f0df289a4e/src/12.datetimeformat.js#L611\n * with some modifications\n * @param options\n * @param format\n */\nexport function bestFitFormatMatcherScore(options, format) {\n    var score = 0;\n    if (options.hour12 && !format.hour12) {\n        score -= removalPenalty;\n    }\n    else if (!options.hour12 && format.hour12) {\n        score -= additionPenalty;\n    }\n    for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n        var prop = DATE_TIME_PROPS_1[_i];\n        var optionsProp = options[prop];\n        var formatProp = format[prop];\n        if (optionsProp === undefined && formatProp !== undefined) {\n            score -= additionPenalty;\n        }\n        else if (optionsProp !== undefined && formatProp === undefined) {\n            score -= removalPenalty;\n        }\n        else if (optionsProp !== formatProp) {\n            // extra penalty for numeric vs non-numeric\n            if (isNumericType(optionsProp) !==\n                isNumericType(formatProp)) {\n                score -= differentNumericTypePenalty;\n            }\n            else {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n    }\n    return score;\n}\n/**\n * https://tc39.es/ecma402/#sec-bestfitformatmatcher\n * Just alias to basic for now\n * @param options\n * @param formats\n * @param implDetails Implementation details\n */\nexport function BestFitFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = bestFitFormatMatcherScore(options, format);\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    var skeletonFormat = __assign({}, bestFormat);\n    var patternFormat = { rawPattern: bestFormat.rawPattern };\n    processDateTimePattern(bestFormat.rawPattern, patternFormat);\n    // Kinda following https://github.com/unicode-org/icu/blob/dd50e38f459d84e9bf1b0c618be8483d318458ad/icu4j/main/classes/core/src/com/ibm/icu/text/DateTimePatternGenerator.java\n    // Method adjustFieldTypes\n    for (var prop in skeletonFormat) {\n        var skeletonValue = skeletonFormat[prop];\n        var patternValue = patternFormat[prop];\n        var requestedValue = options[prop];\n        // Don't mess with minute/second or we can get in the situation of\n        // 7:0:0 which is weird\n        if (prop === 'minute' || prop === 'second') {\n            continue;\n        }\n        // Nothing to do here\n        if (!requestedValue) {\n            continue;\n        }\n        // https://unicode.org/reports/tr35/tr35-dates.html#Matching_Skeletons\n        // Looks like we should not convert numeric to alphabetic but the other way\n        // around is ok\n        if (isNumericType(patternValue) &&\n            !isNumericType(requestedValue)) {\n            continue;\n        }\n        if (skeletonValue === requestedValue) {\n            continue;\n        }\n        patternFormat[prop] = requestedValue;\n    }\n    // Copy those over\n    patternFormat.pattern = skeletonFormat.pattern;\n    patternFormat.pattern12 = skeletonFormat.pattern12;\n    patternFormat.skeleton = skeletonFormat.skeleton;\n    patternFormat.rangePatterns = skeletonFormat.rangePatterns;\n    patternFormat.rangePatterns12 = skeletonFormat.rangePatterns12;\n    return patternFormat;\n}\n","/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-canonicalizelocalelist\n * @param locales\n */\nexport function CanonicalizeLocaleList(locales) {\n    // TODO\n    return Intl.getCanonicalLocales(locales);\n}\n","/**\n * https://tc39.es/ecma402/#sec-canonicalizetimezonename\n * @param tz\n */\nexport function CanonicalizeTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var uppercasedZones = Object.keys(tzData).reduce(function (all, z) {\n        all[z.toUpperCase()] = z;\n        return all;\n    }, {});\n    var ianaTimeZone = uppercaseLinks[uppercasedTz] || uppercasedZones[uppercasedTz];\n    if (ianaTimeZone === 'Etc/UTC' || ianaTimeZone === 'Etc/GMT') {\n        return 'UTC';\n    }\n    return ianaTimeZone;\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS, additionPenalty, removalPenalty, longMorePenalty, shortMorePenalty, shortLessPenalty, longLessPenalty, } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-basicformatmatcher\n * @param options\n * @param formats\n */\nexport function BasicFormatMatcher(options, formats) {\n    var bestScore = -Infinity;\n    var bestFormat = formats[0];\n    invariant(Array.isArray(formats), 'formats should be a list of things');\n    for (var _i = 0, formats_1 = formats; _i < formats_1.length; _i++) {\n        var format = formats_1[_i];\n        var score = 0;\n        for (var _a = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _a < DATE_TIME_PROPS_1.length; _a++) {\n            var prop = DATE_TIME_PROPS_1[_a];\n            var optionsProp = options[prop];\n            var formatProp = format[prop];\n            if (optionsProp === undefined && formatProp !== undefined) {\n                score -= additionPenalty;\n            }\n            else if (optionsProp !== undefined && formatProp === undefined) {\n                score -= removalPenalty;\n            }\n            else if (optionsProp !== formatProp) {\n                var values = ['2-digit', 'numeric', 'narrow', 'short', 'long'];\n                var optionsPropIndex = values.indexOf(optionsProp);\n                var formatPropIndex = values.indexOf(formatProp);\n                var delta = Math.max(-2, Math.min(formatPropIndex - optionsPropIndex, 2));\n                if (delta === 2) {\n                    score -= longMorePenalty;\n                }\n                else if (delta === 1) {\n                    score -= shortMorePenalty;\n                }\n                else if (delta === -1) {\n                    score -= shortLessPenalty;\n                }\n                else if (delta === -2) {\n                    score -= longLessPenalty;\n                }\n            }\n        }\n        if (score > bestScore) {\n            bestScore = score;\n            bestFormat = format;\n        }\n    }\n    return __assign({}, bestFormat);\n}\n","import { invariant } from '../utils';\nexport function DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData) {\n    var dateFormat, timeFormat;\n    if (timeStyle !== undefined) {\n        invariant(timeStyle === 'full' ||\n            timeStyle === 'long' ||\n            timeStyle === 'medium' ||\n            timeStyle === 'short', 'invalid timeStyle');\n        timeFormat = dataLocaleData.timeFormat[timeStyle];\n    }\n    if (dateStyle !== undefined) {\n        invariant(dateStyle === 'full' ||\n            dateStyle === 'long' ||\n            dateStyle === 'medium' ||\n            dateStyle === 'short', 'invalid dateStyle');\n        dateFormat = dataLocaleData.dateFormat[dateStyle];\n    }\n    if (dateStyle !== undefined && timeStyle !== undefined) {\n        var format = {};\n        for (var field in dateFormat) {\n            if (field !== 'pattern') {\n                // @ts-ignore\n                format[field] = dateFormat[field];\n            }\n        }\n        for (var field in timeFormat) {\n            if (field !== 'pattern' && field !== 'pattern12') {\n                // @ts-ignore\n                format[field] = timeFormat[field];\n            }\n        }\n        var connector = dataLocaleData.dateTimeFormat[dateStyle];\n        var pattern = connector\n            .replace('{0}', timeFormat.pattern)\n            .replace('{1}', dateFormat.pattern);\n        format.pattern = pattern;\n        if ('pattern12' in timeFormat) {\n            var pattern12 = connector\n                .replace('{0}', timeFormat.pattern12)\n                .replace('{1}', dateFormat.pattern);\n            format.pattern12 = pattern12;\n        }\n        return format;\n    }\n    if (timeStyle !== undefined) {\n        return timeFormat;\n    }\n    invariant(dateStyle !== undefined, 'dateStyle should not be undefined');\n    return dateFormat;\n}\n","/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function ToString(o) {\n    // Only symbol is irregular...\n    if (typeof o === 'symbol') {\n        throw TypeError('Cannot convert a Symbol value to a string');\n    }\n    return String(o);\n}\n/**\n * https://tc39.es/ecma262/#sec-tonumber\n * @param val\n */\nexport function ToNumber(val) {\n    if (val === undefined) {\n        return NaN;\n    }\n    if (val === null) {\n        return +0;\n    }\n    if (typeof val === 'boolean') {\n        return val ? 1 : +0;\n    }\n    if (typeof val === 'number') {\n        return val;\n    }\n    if (typeof val === 'symbol' || typeof val === 'bigint') {\n        throw new TypeError('Cannot convert symbol/bigint to number');\n    }\n    return Number(val);\n}\n/**\n * https://tc39.es/ecma262/#sec-tointeger\n * @param n\n */\nfunction ToInteger(n) {\n    var number = ToNumber(n);\n    if (isNaN(number) || SameValue(number, -0)) {\n        return 0;\n    }\n    if (isFinite(number)) {\n        return number;\n    }\n    var integer = Math.floor(Math.abs(number));\n    if (number < 0) {\n        integer = -integer;\n    }\n    if (SameValue(integer, -0)) {\n        return 0;\n    }\n    return integer;\n}\n/**\n * https://tc39.es/ecma262/#sec-timeclip\n * @param time\n */\nexport function TimeClip(time) {\n    if (!isFinite(time)) {\n        return NaN;\n    }\n    if (Math.abs(time) > 8.64 * 1e16) {\n        return NaN;\n    }\n    return ToInteger(time);\n}\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function ToObject(arg) {\n    if (arg == null) {\n        throw new TypeError('undefined/null cannot be converted to object');\n    }\n    return Object(arg);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-samevalue\n * @param x\n * @param y\n */\nexport function SameValue(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-arraycreate\n * @param len\n */\nexport function ArrayCreate(len) {\n    return new Array(len);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-hasownproperty\n * @param o\n * @param prop\n */\nexport function HasOwnProperty(o, prop) {\n    return Object.prototype.hasOwnProperty.call(o, prop);\n}\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#sec-type\n * @param x\n */\nexport function Type(x) {\n    if (x === null) {\n        return 'Null';\n    }\n    if (typeof x === 'undefined') {\n        return 'Undefined';\n    }\n    if (typeof x === 'function' || typeof x === 'object') {\n        return 'Object';\n    }\n    if (typeof x === 'number') {\n        return 'Number';\n    }\n    if (typeof x === 'boolean') {\n        return 'Boolean';\n    }\n    if (typeof x === 'string') {\n        return 'String';\n    }\n    if (typeof x === 'symbol') {\n        return 'Symbol';\n    }\n    if (typeof x === 'bigint') {\n        return 'BigInt';\n    }\n}\nvar MS_PER_DAY = 86400000;\n/**\n * https://www.ecma-international.org/ecma-262/11.0/index.html#eqn-modulo\n * @param x\n * @param y\n * @return k of the same sign as y\n */\nfunction mod(x, y) {\n    return x - Math.floor(x / y) * y;\n}\n/**\n * https://tc39.es/ecma262/#eqn-Day\n * @param t\n */\nexport function Day(t) {\n    return Math.floor(t / MS_PER_DAY);\n}\n/**\n * https://tc39.es/ecma262/#sec-week-day\n * @param t\n */\nexport function WeekDay(t) {\n    return mod(Day(t) + 4, 7);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function DayFromYear(y) {\n    return (365 * (y - 1970) +\n        Math.floor((y - 1969) / 4) -\n        Math.floor((y - 1901) / 100) +\n        Math.floor((y - 1601) / 400));\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param y\n */\nexport function TimeFromYear(y) {\n    return MS_PER_DAY * DayFromYear(y);\n}\n/**\n * https://tc39.es/ecma262/#sec-year-number\n * @param t\n */\nexport function YearFromTime(t) {\n    var min = Math.ceil(t / MS_PER_DAY / 366);\n    var y = min;\n    while (TimeFromYear(y) <= t) {\n        y++;\n    }\n    return y - 1;\n}\nexport function DaysInYear(y) {\n    if (y % 4 !== 0) {\n        return 365;\n    }\n    if (y % 100 !== 0) {\n        return 366;\n    }\n    if (y % 400 !== 0) {\n        return 365;\n    }\n    return 366;\n}\nexport function DayWithinYear(t) {\n    return Day(t) - DayFromYear(YearFromTime(t));\n}\nexport function InLeapYear(t) {\n    return DaysInYear(YearFromTime(t)) === 365 ? 0 : 1;\n}\n/**\n * https://tc39.es/ecma262/#sec-month-number\n * @param t\n */\nexport function MonthFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var leap = InLeapYear(t);\n    if (dwy >= 0 && dwy < 31) {\n        return 0;\n    }\n    if (dwy < 59 + leap) {\n        return 1;\n    }\n    if (dwy < 90 + leap) {\n        return 2;\n    }\n    if (dwy < 120 + leap) {\n        return 3;\n    }\n    if (dwy < 151 + leap) {\n        return 4;\n    }\n    if (dwy < 181 + leap) {\n        return 5;\n    }\n    if (dwy < 212 + leap) {\n        return 6;\n    }\n    if (dwy < 243 + leap) {\n        return 7;\n    }\n    if (dwy < 273 + leap) {\n        return 8;\n    }\n    if (dwy < 304 + leap) {\n        return 9;\n    }\n    if (dwy < 334 + leap) {\n        return 10;\n    }\n    if (dwy < 365 + leap) {\n        return 11;\n    }\n    throw new Error('Invalid time');\n}\nexport function DateFromTime(t) {\n    var dwy = DayWithinYear(t);\n    var mft = MonthFromTime(t);\n    var leap = InLeapYear(t);\n    if (mft === 0) {\n        return dwy + 1;\n    }\n    if (mft === 1) {\n        return dwy - 30;\n    }\n    if (mft === 2) {\n        return dwy - 58 - leap;\n    }\n    if (mft === 3) {\n        return dwy - 89 - leap;\n    }\n    if (mft === 4) {\n        return dwy - 119 - leap;\n    }\n    if (mft === 5) {\n        return dwy - 150 - leap;\n    }\n    if (mft === 6) {\n        return dwy - 180 - leap;\n    }\n    if (mft === 7) {\n        return dwy - 211 - leap;\n    }\n    if (mft === 8) {\n        return dwy - 242 - leap;\n    }\n    if (mft === 9) {\n        return dwy - 272 - leap;\n    }\n    if (mft === 10) {\n        return dwy - 303 - leap;\n    }\n    if (mft === 11) {\n        return dwy - 333 - leap;\n    }\n    throw new Error('Invalid time');\n}\nvar HOURS_PER_DAY = 24;\nvar MINUTES_PER_HOUR = 60;\nvar SECONDS_PER_MINUTE = 60;\nvar MS_PER_SECOND = 1e3;\nvar MS_PER_MINUTE = MS_PER_SECOND * SECONDS_PER_MINUTE;\nvar MS_PER_HOUR = MS_PER_MINUTE * MINUTES_PER_HOUR;\nexport function HourFromTime(t) {\n    return mod(Math.floor(t / MS_PER_HOUR), HOURS_PER_DAY);\n}\nexport function MinFromTime(t) {\n    return mod(Math.floor(t / MS_PER_MINUTE), MINUTES_PER_HOUR);\n}\nexport function SecFromTime(t) {\n    return mod(Math.floor(t / MS_PER_SECOND), SECONDS_PER_MINUTE);\n}\n","import { invariant } from '../utils';\nimport { Type, YearFromTime, WeekDay, MonthFromTime, DateFromTime, HourFromTime, MinFromTime, SecFromTime, } from '../262';\nfunction getApplicableZoneData(t, timeZone, tzData) {\n    var _a;\n    var zoneData = tzData[timeZone];\n    // We don't have data for this so just say it's UTC\n    if (!zoneData) {\n        return [0, false];\n    }\n    var i = 0;\n    var offset = 0;\n    var dst = false;\n    for (; i <= zoneData.length; i++) {\n        if (i === zoneData.length || zoneData[i][0] * 1e3 > t) {\n            _a = zoneData[i - 1], offset = _a[2], dst = _a[3];\n            break;\n        }\n    }\n    return [offset * 1e3, dst];\n}\n/**\n * https://tc39.es/ecma402/#sec-tolocaltime\n * @param t\n * @param calendar\n * @param timeZone\n */\nexport function ToLocalTime(t, calendar, timeZone, _a) {\n    var tzData = _a.tzData;\n    invariant(Type(t) === 'Number', 'invalid time');\n    invariant(calendar === 'gregory', 'We only support Gregory calendar right now');\n    var _b = getApplicableZoneData(t, timeZone, tzData), timeZoneOffset = _b[0], inDST = _b[1];\n    var tz = t + timeZoneOffset;\n    var year = YearFromTime(tz);\n    return {\n        weekday: WeekDay(tz),\n        era: year < 0 ? 'BC' : 'AD',\n        year: year,\n        relatedYear: undefined,\n        yearName: undefined,\n        month: MonthFromTime(tz),\n        day: DateFromTime(tz),\n        hour: HourFromTime(tz),\n        minute: MinFromTime(tz),\n        second: SecFromTime(tz),\n        inDST: inDST,\n        // IMPORTANT: Not in spec\n        timeZoneOffset: timeZoneOffset,\n    };\n}\n","import { DATE_TIME_PROPS } from './utils';\nimport { ToLocalTime } from './ToLocalTime';\nimport { TimeClip } from '../262';\nfunction pad(n) {\n    if (n < 10) {\n        return \"0\" + n;\n    }\n    return String(n);\n}\nfunction offsetToGmtString(gmtFormat, hourFormat, offsetInMs, style) {\n    var offsetInMinutes = Math.floor(offsetInMs / 60000);\n    var mins = Math.abs(offsetInMinutes) % 60;\n    var hours = Math.floor(Math.abs(offsetInMinutes) / 60);\n    var _a = hourFormat.split(';'), positivePattern = _a[0], negativePattern = _a[1];\n    var offsetStr = '';\n    var pattern = offsetInMs < 0 ? negativePattern : positivePattern;\n    if (style === 'long') {\n        offsetStr = pattern\n            .replace('HH', pad(hours))\n            .replace('H', String(hours))\n            .replace('mm', pad(mins))\n            .replace('m', String(mins));\n    }\n    else if (mins || hours) {\n        if (!mins) {\n            pattern = pattern.replace(/:?m+/, '');\n        }\n        offsetStr = pattern\n            .replace(/H+/, String(hours))\n            .replace(/m+/, String(mins));\n    }\n    return gmtFormat.replace('{0}', offsetStr);\n}\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function FormatDateTimePattern(dtf, patternParts, x, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, getDefaultTimeZone = _a.getDefaultTimeZone, tzData = _a.tzData;\n    x = TimeClip(x);\n    /** IMPL START */\n    var internalSlots = getInternalSlots(dtf);\n    var dataLocale = internalSlots.dataLocale;\n    var dataLocaleData = localeData[dataLocale];\n    /** IMPL END */\n    var locale = internalSlots.locale;\n    var nfOptions = Object.create(null);\n    nfOptions.useGrouping = false;\n    var nf = new Intl.NumberFormat(locale, nfOptions);\n    var nf2Options = Object.create(null);\n    nf2Options.minimumIntegerDigits = 2;\n    nf2Options.useGrouping = false;\n    var nf2 = new Intl.NumberFormat(locale, nf2Options);\n    var tm = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        var p = patternPart.type;\n        if (p === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else if (DATE_TIME_PROPS.indexOf(p) > -1) {\n            var fv = '';\n            var f = internalSlots[p];\n            // @ts-ignore\n            var v = tm[p];\n            if (p === 'year' && v <= 0) {\n                v = 1 - v;\n            }\n            if (p === 'month') {\n                v++;\n            }\n            var hourCycle = internalSlots.hourCycle;\n            if (p === 'hour' && (hourCycle === 'h11' || hourCycle === 'h12')) {\n                v = v % 12;\n                if (v === 0 && hourCycle === 'h12') {\n                    v = 12;\n                }\n            }\n            if (p === 'hour' && hourCycle === 'h24') {\n                if (v === 0) {\n                    v = 24;\n                }\n            }\n            if (f === 'numeric') {\n                fv = nf.format(v);\n            }\n            else if (f === '2-digit') {\n                fv = nf2.format(v);\n                if (fv.length > 2) {\n                    fv = fv.slice(fv.length - 2, fv.length);\n                }\n            }\n            else if (f === 'narrow' || f === 'short' || f === 'long') {\n                if (p === 'era') {\n                    fv = dataLocaleData[p][f][v];\n                }\n                else if (p === 'timeZoneName') {\n                    var timeZoneName = dataLocaleData.timeZoneName, gmtFormat = dataLocaleData.gmtFormat, hourFormat = dataLocaleData.hourFormat;\n                    var timeZone = internalSlots.timeZone || getDefaultTimeZone();\n                    var timeZoneData = timeZoneName[timeZone];\n                    if (timeZoneData && timeZoneData[f]) {\n                        fv = timeZoneData[f][+tm.inDST];\n                    }\n                    else {\n                        // Fallback to gmtFormat\n                        fv = offsetToGmtString(gmtFormat, hourFormat, tm.timeZoneOffset, f);\n                    }\n                }\n                else if (p === 'month') {\n                    fv = dataLocaleData.month[f][v - 1];\n                }\n                else {\n                    fv = dataLocaleData[p][f][v];\n                }\n            }\n            result.push({\n                type: p,\n                value: fv,\n            });\n        }\n        else if (p === 'ampm') {\n            var v = tm.hour;\n            var fv = void 0;\n            if (v > 11) {\n                fv = dataLocaleData.pm;\n            }\n            else {\n                fv = dataLocaleData.am;\n            }\n            result.push({\n                type: 'dayPeriod',\n                value: fv,\n            });\n        }\n        else if (p === 'relatedYear') {\n            var v = tm.relatedYear;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'relatedYear',\n                value: fv,\n            });\n        }\n        else if (p === 'yearName') {\n            var v = tm.yearName;\n            // @ts-ignore\n            var fv = nf.format(v);\n            result.push({\n                // @ts-ignore TODO: Fix TS type\n                type: 'yearName',\n                value: fv,\n            });\n        }\n    }\n    return result;\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-partitionpattern\n * @param pattern\n */\nexport function PartitionPattern(pattern) {\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var endIndex = 0;\n    var nextIndex = 0;\n    var length = pattern.length;\n    while (beginIndex < pattern.length && beginIndex > -1) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        result.push({\n            type: pattern.substring(beginIndex + 1, endIndex),\n            value: undefined,\n        });\n        nextIndex = endIndex + 1;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex, length),\n        });\n    }\n    return result;\n}\n","import { TimeClip } from '../262';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\n/**\n * https://tc39.es/ecma402/#sec-partitiondatetimepattern\n * @param dtf\n * @param x\n */\nexport function PartitionDateTimePattern(dtf, x, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('invalid time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var pattern = internalSlots.pattern;\n    return FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetime\n * @param dtf DateTimeFormat\n * @param x\n */\nexport function FormatDateTime(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { SameValue, TimeClip } from '../262';\nimport { ToLocalTime } from './ToLocalTime';\nimport { FormatDateTimePattern, } from './FormatDateTimePattern';\nimport { PartitionPattern } from '../PartitionPattern';\nvar TABLE_2_FIELDS = [\n    'era',\n    'year',\n    'month',\n    'day',\n    'ampm',\n    'hour',\n    'minute',\n    'second',\n];\nexport function PartitionDateTimeRangePattern(dtf, x, y, implDetails) {\n    x = TimeClip(x);\n    if (isNaN(x)) {\n        throw new RangeError('Invalid start time');\n    }\n    y = TimeClip(y);\n    if (isNaN(y)) {\n        throw new RangeError('Invalid end time');\n    }\n    /** IMPL START */\n    var getInternalSlots = implDetails.getInternalSlots, tzData = implDetails.tzData;\n    var internalSlots = getInternalSlots(dtf);\n    /** IMPL END */\n    var tm1 = ToLocalTime(x, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var tm2 = ToLocalTime(y, \n    // @ts-ignore\n    internalSlots.calendar, internalSlots.timeZone, { tzData: tzData });\n    var pattern = internalSlots.pattern, rangePatterns = internalSlots.rangePatterns;\n    var rangePattern;\n    var dateFieldsPracticallyEqual = true;\n    var patternContainsLargerDateField = false;\n    for (var _i = 0, TABLE_2_FIELDS_1 = TABLE_2_FIELDS; _i < TABLE_2_FIELDS_1.length; _i++) {\n        var fieldName = TABLE_2_FIELDS_1[_i];\n        if (dateFieldsPracticallyEqual && !patternContainsLargerDateField) {\n            if (fieldName === 'ampm') {\n                var rp = rangePatterns.ampm;\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1.hour;\n                    var v2 = tm2.hour;\n                    if ((v1 > 11 && v2 < 11) || (v1 < 11 && v2 > 11)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n            else {\n                var rp = rangePatterns[fieldName];\n                if (rangePattern !== undefined && rp === undefined) {\n                    patternContainsLargerDateField = true;\n                }\n                else {\n                    var v1 = tm1[fieldName];\n                    var v2 = tm2[fieldName];\n                    if (!SameValue(v1, v2)) {\n                        dateFieldsPracticallyEqual = false;\n                    }\n                    rangePattern = rp;\n                }\n            }\n        }\n    }\n    if (dateFieldsPracticallyEqual) {\n        var result_2 = FormatDateTimePattern(dtf, PartitionPattern(pattern), x, implDetails);\n        for (var _a = 0, result_1 = result_2; _a < result_1.length; _a++) {\n            var r = result_1[_a];\n            r.source = \"shared\" /* shared */;\n        }\n        return result_2;\n    }\n    var result = [];\n    if (rangePattern === undefined) {\n        rangePattern = rangePatterns.default;\n        /** IMPL DETAILS */\n        // Now we have to replace {0} & {1} with actual pattern\n        for (var _b = 0, _c = rangePattern.patternParts; _b < _c.length; _b++) {\n            var patternPart = _c[_b];\n            if (patternPart.pattern === '{0}' || patternPart.pattern === '{1}') {\n                patternPart.pattern = pattern;\n            }\n        }\n    }\n    for (var _d = 0, _e = rangePattern.patternParts; _d < _e.length; _d++) {\n        var rangePatternPart = _e[_d];\n        var source = rangePatternPart.source, pattern_1 = rangePatternPart.pattern;\n        var z = void 0;\n        if (source === \"startRange\" /* startRange */ ||\n            source === \"shared\" /* shared */) {\n            z = x;\n        }\n        else {\n            z = y;\n        }\n        var patternParts = PartitionPattern(pattern_1);\n        var partResult = FormatDateTimePattern(dtf, patternParts, z, implDetails);\n        for (var _f = 0, partResult_1 = partResult; _f < partResult_1.length; _f++) {\n            var r = partResult_1[_f];\n            r.source = source;\n        }\n        result = result.concat(partResult);\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRange(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionDateTimeRangePattern } from './PartitionDateTimeRangePattern';\nexport function FormatDateTimeRangeToParts(dtf, x, y, implDetails) {\n    var parts = PartitionDateTimeRangePattern(dtf, x, y, implDetails);\n    var result = new Array(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n            source: part.source,\n        });\n    }\n    return result;\n}\n","import { PartitionDateTimePattern } from './PartitionDateTimePattern';\nimport { ArrayCreate } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-formatdatetimetoparts\n *\n * @param dtf\n * @param x\n * @param implDetails\n */\nexport function FormatDateTimeToParts(dtf, x, implDetails) {\n    var parts = PartitionDateTimePattern(dtf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { ToObject } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-todatetimeoptions\n * @param options\n * @param required\n * @param defaults\n */\nexport function ToDateTimeOptions(options, required, defaults) {\n    if (options === undefined) {\n        options = null;\n    }\n    else {\n        options = ToObject(options);\n    }\n    options = Object.create(options);\n    var needDefaults = true;\n    if (required === 'date' || required === 'any') {\n        for (var _i = 0, _a = ['weekday', 'year', 'month', 'day']; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (required === 'time' || required === 'any') {\n        for (var _b = 0, _c = ['hour', 'minute', 'second']; _b < _c.length; _b++) {\n            var prop = _c[_b];\n            var value = options[prop];\n            if (value !== undefined) {\n                needDefaults = false;\n            }\n        }\n    }\n    if (options.dateStyle !== undefined || options.timeStyle !== undefined) {\n        needDefaults = false;\n    }\n    if (required === 'date' && options.timeStyle) {\n        throw new TypeError('Intl.DateTimeFormat date was required but timeStyle was included');\n    }\n    if (required === 'time' && options.dateStyle) {\n        throw new TypeError('Intl.DateTimeFormat time was required but dateStyle was included');\n    }\n    if (needDefaults && (defaults === 'date' || defaults === 'all')) {\n        for (var _d = 0, _e = ['year', 'month', 'day']; _d < _e.length; _d++) {\n            var prop = _e[_d];\n            options[prop] = 'numeric';\n        }\n    }\n    if (needDefaults && (defaults === 'time' || defaults === 'all')) {\n        for (var _f = 0, _g = ['hour', 'minute', 'second']; _f < _g.length; _f++) {\n            var prop = _g[_f];\n            options[prop] = 'numeric';\n        }\n    }\n    return options;\n}\n","import { ToString } from './262';\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function GetOption(opts, prop, type, values, fallback) {\n    // const descriptor = Object.getOwnPropertyDescriptor(opts, prop);\n    var value = opts[prop];\n    if (value !== undefined) {\n        if (type !== 'boolean' && type !== 'string') {\n            throw new TypeError('invalid type');\n        }\n        if (type === 'boolean') {\n            value = Boolean(value);\n        }\n        if (type === 'string') {\n            value = ToString(value);\n        }\n        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {\n            throw new RangeError(value + \" is not within \" + values.join(', '));\n        }\n        return value;\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\nexport function BestAvailableLocale(availableLocales, locale) {\n    var candidate = locale;\n    while (true) {\n        if (availableLocales.has(candidate)) {\n            return candidate;\n        }\n        var pos = candidate.lastIndexOf('-');\n        if (!~pos) {\n            return undefined;\n        }\n        if (pos >= 2 && candidate[pos - 2] === '-') {\n            pos -= 2;\n        }\n        candidate = candidate.slice(0, pos);\n    }\n}\n","import { invariant } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\nexport function UnicodeExtensionValue(extension, key) {\n    invariant(key.length === 2, 'key must have 2 elements');\n    var size = extension.length;\n    var searchValue = \"-\" + key + \"-\";\n    var pos = extension.indexOf(searchValue);\n    if (pos !== -1) {\n        var start = pos + 4;\n        var end = start;\n        var k = start;\n        var done = false;\n        while (!done) {\n            var e = extension.indexOf('-', k);\n            var len = void 0;\n            if (e === -1) {\n                len = size - k;\n            }\n            else {\n                len = e - k;\n            }\n            if (len === 2) {\n                done = true;\n            }\n            else if (e === -1) {\n                end = size;\n                done = true;\n            }\n            else {\n                end = e;\n                k = e + 1;\n            }\n        }\n        return extension.slice(start, end);\n    }\n    searchValue = \"-\" + key;\n    pos = extension.indexOf(searchValue);\n    if (pos !== -1 && pos + 3 === size) {\n        return '';\n    }\n    return undefined;\n}\n","import { LookupMatcher } from './LookupMatcher';\nimport { BestFitMatcher } from './BestFitMatcher';\nimport { invariant } from './utils';\nimport { UnicodeExtensionValue } from './UnicodeExtensionValue';\n/**\n * https://tc39.es/ecma402/#sec-resolvelocale\n */\nexport function ResolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData, getDefaultLocale) {\n    var matcher = options.localeMatcher;\n    var r;\n    if (matcher === 'lookup') {\n        r = LookupMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    else {\n        r = BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale);\n    }\n    var foundLocale = r.locale;\n    var result = { locale: '', dataLocale: foundLocale };\n    var supportedExtension = '-u';\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n        var key = relevantExtensionKeys_1[_i];\n        invariant(foundLocale in localeData, \"Missing locale data for \" + foundLocale);\n        var foundLocaleData = localeData[foundLocale];\n        invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n        var keyLocaleData = foundLocaleData[key];\n        invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n        var value = keyLocaleData[0];\n        invariant(typeof value === 'string' || value === null, \"value must be string or null but got \" + typeof value + \" in key \" + key);\n        var supportedExtensionAddition = '';\n        if (r.extension) {\n            var requestedValue = UnicodeExtensionValue(r.extension, key);\n            if (requestedValue !== undefined) {\n                if (requestedValue !== '') {\n                    if (~keyLocaleData.indexOf(requestedValue)) {\n                        value = requestedValue;\n                        supportedExtensionAddition = \"-\" + key + \"-\" + value;\n                    }\n                }\n                else if (~requestedValue.indexOf('true')) {\n                    value = 'true';\n                    supportedExtensionAddition = \"-\" + key;\n                }\n            }\n        }\n        if (key in options) {\n            var optionsValue = options[key];\n            invariant(typeof optionsValue === 'string' ||\n                typeof optionsValue === 'undefined' ||\n                optionsValue === null, 'optionsValue must be String, Undefined or Null');\n            if (~keyLocaleData.indexOf(optionsValue)) {\n                if (optionsValue !== value) {\n                    value = optionsValue;\n                    supportedExtensionAddition = '';\n                }\n            }\n        }\n        result[key] = value;\n        supportedExtension += supportedExtensionAddition;\n    }\n    if (supportedExtension.length > 2) {\n        var privateIndex = foundLocale.indexOf('-x-');\n        if (privateIndex === -1) {\n            foundLocale = foundLocale + supportedExtension;\n        }\n        else {\n            var preExtension = foundLocale.slice(0, privateIndex);\n            var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n            foundLocale = preExtension + supportedExtension + postExtension;\n        }\n        foundLocale = Intl.getCanonicalLocales(foundLocale)[0];\n    }\n    result.locale = foundLocale;\n    return result;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function LookupMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var result = { locale: '' };\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            result.locale = availableLocale;\n            if (locale !== noExtensionLocale) {\n                result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n            }\n            return result;\n        }\n    }\n    result.locale = getDefaultLocale();\n    return result;\n}\n","import { BestAvailableLocale } from './BestAvailableLocale';\nimport { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\n/**\n * https://tc39.es/ecma402/#sec-bestfitmatcher\n * @param availableLocales\n * @param requestedLocales\n * @param getDefaultLocale\n */\nexport function BestFitMatcher(availableLocales, requestedLocales, getDefaultLocale) {\n    var minimizedAvailableLocaleMap = {};\n    var minimizedAvailableLocales = new Set();\n    availableLocales.forEach(function (locale) {\n        var minimizedLocale = new Intl.Locale(locale)\n            .minimize()\n            .toString();\n        minimizedAvailableLocaleMap[minimizedLocale] = locale;\n        minimizedAvailableLocales.add(minimizedLocale);\n    });\n    var foundLocale;\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var l = requestedLocales_1[_i];\n        if (foundLocale) {\n            break;\n        }\n        var noExtensionLocale = l.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        if (availableLocales.has(noExtensionLocale)) {\n            foundLocale = noExtensionLocale;\n            break;\n        }\n        if (minimizedAvailableLocales.has(noExtensionLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[noExtensionLocale];\n            break;\n        }\n        var locale = new Intl.Locale(noExtensionLocale);\n        var maximizedRequestedLocale = locale.maximize().toString();\n        var minimizedRequestedLocale = locale.minimize().toString();\n        // Check minimized locale\n        if (minimizedAvailableLocales.has(minimizedRequestedLocale)) {\n            foundLocale = minimizedAvailableLocaleMap[minimizedRequestedLocale];\n            break;\n        }\n        // Lookup algo on maximized locale\n        foundLocale = BestAvailableLocale(minimizedAvailableLocales, maximizedRequestedLocale);\n    }\n    return {\n        locale: foundLocale || getDefaultLocale(),\n    };\n}\n","/**\n * https://tc39.es/ecma402/#sec-isvalidtimezonename\n * @param tz\n * @param implDetails implementation details\n */\nexport function IsValidTimeZoneName(tz, _a) {\n    var tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    var uppercasedTz = tz.toUpperCase();\n    var zoneNames = new Set();\n    Object.keys(tzData)\n        .map(function (z) { return z.toUpperCase(); })\n        .forEach(function (z) { return zoneNames.add(z); });\n    return zoneNames.has(uppercasedTz) || uppercasedTz in uppercaseLinks;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToDateTimeOptions } from './ToDateTimeOptions';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { IsValidTimeZoneName } from '../IsValidTimeZoneName';\nimport { CanonicalizeTimeZoneName } from '../CanonicalizeTimeZoneName';\nimport { BasicFormatMatcher } from './BasicFormatMatcher';\nimport { BestFitFormatMatcher } from './BestFitFormatMatcher';\nimport { invariant } from '../utils';\nimport { DATE_TIME_PROPS } from './utils';\nimport { DateTimeStyleFormat } from './DateTimeStyleFormat';\nfunction isTimeRelated(opt) {\n    for (var _i = 0, _a = ['hour', 'minute', 'second']; _i < _a.length; _i++) {\n        var prop = _a[_i];\n        var value = opt[prop];\n        if (value !== undefined) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resolveHourCycle(hc, hcDefault, hour12) {\n    if (hc == null) {\n        hc = hcDefault;\n    }\n    if (hour12 !== undefined) {\n        if (hour12) {\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h11';\n            }\n            else {\n                hc = 'h12';\n            }\n        }\n        else {\n            invariant(!hour12, 'hour12 must not be set');\n            if (hcDefault === 'h11' || hcDefault === 'h23') {\n                hc = 'h23';\n            }\n            else {\n                hc = 'h24';\n            }\n        }\n    }\n    return hc;\n}\nvar TYPE_REGEX = /^[a-z0-9]{3,8}$/i;\n/**\n * https://tc39.es/ecma402/#sec-initializedatetimeformat\n * @param dtf DateTimeFormat\n * @param locales locales\n * @param opts options\n */\nexport function InitializeDateTimeFormat(dtf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getDefaultTimeZone = _a.getDefaultTimeZone, relevantExtensionKeys = _a.relevantExtensionKeys, tzData = _a.tzData, uppercaseLinks = _a.uppercaseLinks;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = ToDateTimeOptions(opts, 'any', 'date');\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var calendar = GetOption(options, 'calendar', 'string', undefined, undefined);\n    if (calendar !== undefined && !TYPE_REGEX.test(calendar)) {\n        throw new RangeError('Malformed calendar');\n    }\n    var internalSlots = getInternalSlots(dtf);\n    opt.ca = calendar;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined && !TYPE_REGEX.test(numberingSystem)) {\n        throw new RangeError('Malformed numbering system');\n    }\n    opt.nu = numberingSystem;\n    var hour12 = GetOption(options, 'hour12', 'boolean', undefined, undefined);\n    var hourCycle = GetOption(options, 'hourCycle', 'string', ['h11', 'h12', 'h23', 'h24'], undefined);\n    if (hour12 !== undefined) {\n        // @ts-ignore\n        hourCycle = null;\n    }\n    opt.hc = hourCycle;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    calendar = r.ca;\n    internalSlots.calendar = calendar;\n    internalSlots.hourCycle = r.hc;\n    internalSlots.numberingSystem = r.nu;\n    var dataLocale = r.dataLocale;\n    internalSlots.dataLocale = dataLocale;\n    var timeZone = options.timeZone;\n    if (timeZone !== undefined) {\n        timeZone = String(timeZone);\n        if (!IsValidTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks })) {\n            throw new RangeError('Invalid timeZoneName');\n        }\n        timeZone = CanonicalizeTimeZoneName(timeZone, { tzData: tzData, uppercaseLinks: uppercaseLinks });\n    }\n    else {\n        timeZone = getDefaultTimeZone();\n    }\n    internalSlots.timeZone = timeZone;\n    opt = Object.create(null);\n    opt.weekday = GetOption(options, 'weekday', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.era = GetOption(options, 'era', 'string', ['narrow', 'short', 'long'], undefined);\n    opt.year = GetOption(options, 'year', 'string', ['2-digit', 'numeric'], undefined);\n    opt.month = GetOption(options, 'month', 'string', ['2-digit', 'numeric', 'narrow', 'short', 'long'], undefined);\n    opt.day = GetOption(options, 'day', 'string', ['2-digit', 'numeric'], undefined);\n    opt.hour = GetOption(options, 'hour', 'string', ['2-digit', 'numeric'], undefined);\n    opt.minute = GetOption(options, 'minute', 'string', ['2-digit', 'numeric'], undefined);\n    opt.second = GetOption(options, 'second', 'string', ['2-digit', 'numeric'], undefined);\n    opt.timeZoneName = GetOption(options, 'timeZoneName', 'string', ['short', 'long'], undefined);\n    var dataLocaleData = localeData[dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + dataLocale);\n    var formats = dataLocaleData.formats[calendar];\n    // UNSPECCED: IMPLEMENTATION DETAILS\n    if (!formats) {\n        throw new RangeError(\"Calendar \\\"\" + calendar + \"\\\" is not supported. Try setting \\\"calendar\\\" to 1 of the following: \" + Object.keys(dataLocaleData.formats).join(', '));\n    }\n    matcher = GetOption(options, 'formatMatcher', 'string', ['basic', 'best fit'], 'best fit');\n    var dateStyle = GetOption(options, 'dateStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.dateStyle = dateStyle;\n    var timeStyle = GetOption(options, 'timeStyle', 'string', ['full', 'long', 'medium', 'short'], undefined);\n    internalSlots.timeStyle = timeStyle;\n    var bestFormat;\n    if (dateStyle === undefined && timeStyle === undefined) {\n        if (matcher === 'basic') {\n            bestFormat = BasicFormatMatcher(opt, formats);\n        }\n        else {\n            // IMPL DETAILS START\n            if (isTimeRelated(opt)) {\n                var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n                opt.hour12 = hc === 'h11' || hc === 'h12';\n            }\n            // IMPL DETAILS END\n            bestFormat = BestFitFormatMatcher(opt, formats);\n        }\n    }\n    else {\n        for (var _i = 0, DATE_TIME_PROPS_1 = DATE_TIME_PROPS; _i < DATE_TIME_PROPS_1.length; _i++) {\n            var prop = DATE_TIME_PROPS_1[_i];\n            var p = opt[prop];\n            if (p !== undefined) {\n                throw new TypeError(\"Intl.DateTimeFormat can't set option \" + prop + \" when \" + (dateStyle ? 'dateStyle' : 'timeStyle') + \" is used\");\n            }\n        }\n        bestFormat = DateTimeStyleFormat(dateStyle, timeStyle, dataLocaleData);\n    }\n    // IMPL DETAIL START\n    // For debugging\n    internalSlots.format = bestFormat;\n    // IMPL DETAIL END\n    for (var prop in opt) {\n        var p = bestFormat[prop];\n        if (p !== undefined) {\n            internalSlots[prop] = p;\n        }\n    }\n    var pattern;\n    var rangePatterns;\n    if (internalSlots.hour !== undefined) {\n        var hc = resolveHourCycle(internalSlots.hourCycle, dataLocaleData.hourCycle, hour12);\n        internalSlots.hourCycle = hc;\n        if (hc === 'h11' || hc === 'h12') {\n            pattern = bestFormat.pattern12;\n            rangePatterns = bestFormat.rangePatterns12;\n        }\n        else {\n            pattern = bestFormat.pattern;\n            rangePatterns = bestFormat.rangePatterns;\n        }\n    }\n    else {\n        // @ts-ignore\n        internalSlots.hourCycle = undefined;\n        pattern = bestFormat.pattern;\n        rangePatterns = bestFormat.rangePatterns;\n    }\n    internalSlots.pattern = pattern;\n    internalSlots.rangePatterns = rangePatterns;\n    return dtf;\n}\n","/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * https://tc39.es/ecma402/#sec-iswellformedcurrencycode\n */\nexport function IsWellFormedCurrencyCode(currency) {\n    currency = toUpperCase(currency);\n    if (currency.length !== 3) {\n        return false;\n    }\n    if (NOT_A_Z_REGEX.test(currency)) {\n        return false;\n    }\n    return true;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { invariant } from '../utils';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nvar UNICODE_REGION_SUBTAG_REGEX = /^([a-z]{2}|[0-9]{3})$/i;\nvar ALPHA_4 = /^[a-z]{4}$/i;\nfunction isUnicodeRegionSubtag(region) {\n    return UNICODE_REGION_SUBTAG_REGEX.test(region);\n}\nfunction isUnicodeScriptSubtag(script) {\n    return ALPHA_4.test(script);\n}\nexport function CanonicalCodeForDisplayNames(type, code) {\n    if (type === 'language') {\n        return CanonicalizeLocaleList([code])[0];\n    }\n    if (type === 'region') {\n        if (!isUnicodeRegionSubtag(code)) {\n            throw RangeError('invalid region');\n        }\n        return code.toUpperCase();\n    }\n    if (type === 'script') {\n        if (!isUnicodeScriptSubtag(code)) {\n            throw RangeError('invalid script');\n        }\n        return \"\" + code[0].toUpperCase() + code.slice(1);\n    }\n    invariant(type === 'currency', 'invalid type');\n    if (!IsWellFormedCurrencyCode(code)) {\n        throw RangeError('invalid currency');\n    }\n    return code.toUpperCase();\n}\n","/**\n * https://tc39.es/ecma402/#sec-defaultnumberoption\n * @param val\n * @param min\n * @param max\n * @param fallback\n */\nexport function DefaultNumberOption(val, min, max, fallback) {\n    if (val !== undefined) {\n        val = Number(val);\n        if (isNaN(val) || val < min || val > max) {\n            throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n        }\n        return Math.floor(val);\n    }\n    return fallback;\n}\n","/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nimport { DefaultNumberOption } from './DefaultNumberOption';\nexport function GetNumberOption(options, property, minimum, maximum, fallback) {\n    var val = options[property];\n    return DefaultNumberOption(val, minimum, maximum, fallback);\n}\n","/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SANCTIONED_UNITS = [\n    'angle-degree',\n    'area-acre',\n    'area-hectare',\n    'concentr-percent',\n    'digital-bit',\n    'digital-byte',\n    'digital-gigabit',\n    'digital-gigabyte',\n    'digital-kilobit',\n    'digital-kilobyte',\n    'digital-megabit',\n    'digital-megabyte',\n    'digital-petabyte',\n    'digital-terabit',\n    'digital-terabyte',\n    'duration-day',\n    'duration-hour',\n    'duration-millisecond',\n    'duration-minute',\n    'duration-month',\n    'duration-second',\n    'duration-week',\n    'duration-year',\n    'length-centimeter',\n    'length-foot',\n    'length-inch',\n    'length-kilometer',\n    'length-meter',\n    'length-mile-scandinavian',\n    'length-mile',\n    'length-millimeter',\n    'length-yard',\n    'mass-gram',\n    'mass-kilogram',\n    'mass-ounce',\n    'mass-pound',\n    'mass-stone',\n    'temperature-celsius',\n    'temperature-fahrenheit',\n    'volume-fluid-ounce',\n    'volume-gallon',\n    'volume-liter',\n    'volume-milliliter',\n];\n// In CLDR, the unit name always follows the form `namespace-unit` pattern.\n// For example: `digital-bit` instead of `bit`. This function removes the namespace prefix.\nexport function removeUnitNamespace(unit) {\n    return unit.slice(unit.indexOf('-') + 1);\n}\n/**\n * https://tc39.es/ecma402/#table-sanctioned-simple-unit-identifiers\n */\nexport var SIMPLE_UNITS = SANCTIONED_UNITS.map(removeUnitNamespace);\n/**\n * https://tc39.es/ecma402/#sec-issanctionedsimpleunitidentifier\n */\nexport function IsSanctionedSimpleUnitIdentifier(unitIdentifier) {\n    return SIMPLE_UNITS.indexOf(unitIdentifier) > -1;\n}\n","import { IsSanctionedSimpleUnitIdentifier } from './IsSanctionedSimpleUnitIdentifier';\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toLowerCase(str) {\n    return str.replace(/([A-Z])/g, function (_, c) { return c.toLowerCase(); });\n}\n/**\n * https://tc39.es/ecma402/#sec-iswellformedunitidentifier\n * @param unit\n */\nexport function IsWellFormedUnitIdentifier(unit) {\n    unit = toLowerCase(unit);\n    if (IsSanctionedSimpleUnitIdentifier(unit)) {\n        return true;\n    }\n    var units = unit.split('-per-');\n    if (units.length !== 2) {\n        return false;\n    }\n    var numerator = units[0], denominator = units[1];\n    if (!IsSanctionedSimpleUnitIdentifier(numerator) ||\n        !IsSanctionedSimpleUnitIdentifier(denominator)) {\n        return false;\n    }\n    return true;\n}\n","/**\n * The abstract operation ComputeExponentForMagnitude computes an exponent by which to scale a\n * number of the given magnitude (power of ten of the most significant digit) according to the\n * locale and the desired notation (scientific, engineering, or compact).\n */\nexport function ComputeExponentForMagnitude(numberFormat, magnitude, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var notation = internalSlots.notation, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    switch (notation) {\n        case 'standard':\n            return 0;\n        case 'scientific':\n            return magnitude;\n        case 'engineering':\n            return Math.floor(magnitude / 3) * 3;\n        default: {\n            // Let exponent be an implementation- and locale-dependent (ILD) integer by which to scale a\n            // number of the given magnitude in compact notation for the current locale.\n            var compactDisplay = internalSlots.compactDisplay, style = internalSlots.style, currencyDisplay = internalSlots.currencyDisplay;\n            var thresholdMap = void 0;\n            if (style === 'currency' && currencyDisplay !== 'name') {\n                var currency = dataLocaleData.numbers.currency[numberingSystem] ||\n                    dataLocaleData.numbers.currency[dataLocaleData.numbers.nu[0]];\n                thresholdMap = currency.short;\n            }\n            else {\n                var decimal = dataLocaleData.numbers.decimal[numberingSystem] ||\n                    dataLocaleData.numbers.decimal[dataLocaleData.numbers.nu[0]];\n                thresholdMap = compactDisplay === 'long' ? decimal.long : decimal.short;\n            }\n            if (!thresholdMap) {\n                return 0;\n            }\n            var num = String(Math.pow(10, magnitude));\n            var thresholds = Object.keys(thresholdMap); // TODO: this can be pre-processed\n            if (num < thresholds[0]) {\n                return 0;\n            }\n            if (num > thresholds[thresholds.length - 1]) {\n                return thresholds[thresholds.length - 1].length - 1;\n            }\n            var i = thresholds.indexOf(num);\n            if (i === -1) {\n                return 0;\n            }\n            // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n            // Special handling if the pattern is precisely `0`.\n            var magnitudeKey = thresholds[i];\n            // TODO: do we need to handle plural here?\n            var compactPattern = thresholdMap[magnitudeKey].other;\n            if (compactPattern === '0') {\n                return 0;\n            }\n            // Example: in zh-TW, `10000000` maps to `0000`. So we need to return 8 - 4 = 4 here.\n            return (magnitudeKey.length -\n                thresholdMap[magnitudeKey].other.match(/0+/)[0].length);\n        }\n    }\n}\n","import { repeat, getMagnitude } from '../utils';\nexport function ToRawPrecision(x, minPrecision, maxPrecision) {\n    var p = maxPrecision;\n    var m;\n    var e;\n    var xFinal;\n    if (x === 0) {\n        m = repeat('0', p);\n        e = 0;\n        xFinal = 0;\n    }\n    else {\n        var xToString = x.toString();\n        // If xToString is formatted as scientific notation, the number is either very small or very\n        // large. If the precision of the formatted string is lower that requested max precision, we\n        // should still infer them from the formatted string, otherwise the formatted result might have\n        // precision loss (e.g. 1e41 will not have 0 in every trailing digits).\n        var xToStringExponentIndex = xToString.indexOf('e');\n        var _a = xToString.split('e'), xToStringMantissa = _a[0], xToStringExponent = _a[1];\n        var xToStringMantissaWithoutDecimalPoint = xToStringMantissa.replace('.', '');\n        if (xToStringExponentIndex >= 0 &&\n            xToStringMantissaWithoutDecimalPoint.length <= p) {\n            e = +xToStringExponent;\n            m =\n                xToStringMantissaWithoutDecimalPoint +\n                    repeat('0', p - xToStringMantissaWithoutDecimalPoint.length);\n            xFinal = x;\n        }\n        else {\n            e = getMagnitude(x);\n            var decimalPlaceOffset = e - p + 1;\n            // n is the integer containing the required precision digits. To derive the formatted string,\n            // we will adjust its decimal place in the logic below.\n            var n = Math.round(adjustDecimalPlace(x, decimalPlaceOffset));\n            // The rounding caused the change of magnitude, so we should increment `e` by 1.\n            if (adjustDecimalPlace(n, p - 1) >= 10) {\n                e = e + 1;\n                // Divide n by 10 to swallow one precision.\n                n = Math.floor(n / 10);\n            }\n            m = n.toString();\n            // Equivalent of n * 10 ** (e - p + 1)\n            xFinal = adjustDecimalPlace(n, p - 1 - e);\n        }\n    }\n    var int;\n    if (e >= p - 1) {\n        m = m + repeat('0', e - p + 1);\n        int = e + 1;\n    }\n    else if (e >= 0) {\n        m = m.slice(0, e + 1) + \".\" + m.slice(e + 1);\n        int = e + 1;\n    }\n    else {\n        m = \"0.\" + repeat('0', -e - 1) + m;\n        int = 1;\n    }\n    if (m.indexOf('.') >= 0 && maxPrecision > minPrecision) {\n        var cut = maxPrecision - minPrecision;\n        while (cut > 0 && m[m.length - 1] === '0') {\n            m = m.slice(0, -1);\n            cut--;\n        }\n        if (m[m.length - 1] === '.') {\n            m = m.slice(0, -1);\n        }\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n    // x / (10 ** magnitude), but try to preserve as much floating point precision as possible.\n    function adjustDecimalPlace(x, magnitude) {\n        return magnitude < 0 ? x * Math.pow(10, -magnitude) : x / Math.pow(10, magnitude);\n    }\n}\n","import { repeat } from '../utils';\n/**\n * TODO: dedup with intl-pluralrules and support BigInt\n * https://tc39.es/ecma402/#sec-torawfixed\n * @param x a finite non-negative Number or BigInt\n * @param minFraction and integer between 0 and 20\n * @param maxFraction and integer between 0 and 20\n */\nexport function ToRawFixed(x, minFraction, maxFraction) {\n    var f = maxFraction;\n    var n = Math.round(x * Math.pow(10, f));\n    var xFinal = n / Math.pow(10, f);\n    // n is a positive integer, but it is possible to be greater than 1e21.\n    // In such case we will go the slow path.\n    // See also: https://tc39.es/ecma262/#sec-numeric-types-number-tostring\n    var m;\n    if (n < 1e21) {\n        m = n.toString();\n    }\n    else {\n        m = n.toString();\n        var _a = m.split('e'), mantissa = _a[0], exponent = _a[1];\n        m = mantissa.replace('.', '');\n        m = m + repeat('0', Math.max(+exponent - m.length + 1, 0));\n    }\n    var int;\n    if (f !== 0) {\n        var k = m.length;\n        if (k <= f) {\n            var z = repeat('0', f + 1 - k);\n            m = z + m;\n            k = f + 1;\n        }\n        var a = m.slice(0, k - f);\n        var b = m.slice(k - f);\n        m = a + \".\" + b;\n        int = a.length;\n    }\n    else {\n        int = m.length;\n    }\n    var cut = maxFraction - minFraction;\n    while (cut > 0 && m[m.length - 1] === '0') {\n        m = m.slice(0, -1);\n        cut--;\n    }\n    if (m[m.length - 1] === '.') {\n        m = m.slice(0, -1);\n    }\n    return { formattedString: m, roundedNumber: xFinal, integerDigitsCount: int };\n}\n","import { SameValue } from '../262';\nimport { ToRawPrecision } from './ToRawPrecision';\nimport { repeat } from '../utils';\nimport { ToRawFixed } from './ToRawFixed';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function FormatNumericToString(intlObject, x) {\n    var isNegative = x < 0 || SameValue(x, -0);\n    if (isNegative) {\n        x = -x;\n    }\n    var result;\n    var rourndingType = intlObject.roundingType;\n    switch (rourndingType) {\n        case 'significantDigits':\n            result = ToRawPrecision(x, intlObject.minimumSignificantDigits, intlObject.maximumSignificantDigits);\n            break;\n        case 'fractionDigits':\n            result = ToRawFixed(x, intlObject.minimumFractionDigits, intlObject.maximumFractionDigits);\n            break;\n        default:\n            result = ToRawPrecision(x, 1, 2);\n            if (result.integerDigitsCount > 1) {\n                result = ToRawFixed(x, 0, 0);\n            }\n            break;\n    }\n    x = result.roundedNumber;\n    var string = result.formattedString;\n    var int = result.integerDigitsCount;\n    var minInteger = intlObject.minimumIntegerDigits;\n    if (int < minInteger) {\n        var forwardZeros = repeat('0', minInteger - int);\n        string = forwardZeros + string;\n    }\n    if (isNegative) {\n        x = -x;\n    }\n    return { roundedNumber: x, formattedString: string };\n}\n","import { getMagnitude } from '../utils';\nimport { ComputeExponentForMagnitude } from './ComputeExponentForMagnitude';\nimport { FormatNumericToString } from './FormatNumericToString';\n/**\n * The abstract operation ComputeExponent computes an exponent (power of ten) by which to scale x\n * according to the number formatting settings. It handles cases such as 999 rounding up to 1000,\n * requiring a different exponent.\n *\n * NOT IN SPEC: it returns [exponent, magnitude].\n */\nexport function ComputeExponent(numberFormat, x, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    if (x === 0) {\n        return [0, 0];\n    }\n    if (x < 0) {\n        x = -x;\n    }\n    var magnitude = getMagnitude(x);\n    var exponent = ComputeExponentForMagnitude(numberFormat, magnitude, {\n        getInternalSlots: getInternalSlots,\n    });\n    // Preserve more precision by doing multiplication when exponent is negative.\n    x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n    var formatNumberResult = FormatNumericToString(getInternalSlots(numberFormat), x);\n    if (formatNumberResult.roundedNumber === 0) {\n        return [exponent, magnitude];\n    }\n    var newMagnitude = getMagnitude(formatNumberResult.roundedNumber);\n    if (newMagnitude === magnitude - exponent) {\n        return [exponent, magnitude];\n    }\n    return [\n        ComputeExponentForMagnitude(numberFormat, magnitude + 1, {\n            getInternalSlots: getInternalSlots,\n        }),\n        magnitude + 1,\n    ];\n}\n","import { HasOwnProperty } from '../262';\n/**\n * https://tc39.es/ecma402/#sec-currencydigits\n */\nexport function CurrencyDigits(c, _a) {\n    var currencyDigitsData = _a.currencyDigitsData;\n    return HasOwnProperty(currencyDigitsData, c)\n        ? currencyDigitsData[c]\n        : 2;\n}\n","import { ToRawFixed } from './ToRawFixed';\nimport * as digitMapping from './digit-mapping.json';\n// This is from: unicode-12.1.0/General_Category/Symbol/regex.js\n// IE11 does not support unicode flag, otherwise this is just /\\p{S}/u.\nvar S_UNICODE_REGEX = /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B98-\\u2BFF\\u2CE5-\\u2CEA\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9B\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD10-\\uDD6C\\uDD70-\\uDDAC\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED5\\uDEE0-\\uDEEC\\uDEF0-\\uDEFA\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDD00-\\uDD0B\\uDD0D-\\uDD71\\uDD73-\\uDD76\\uDD7A-\\uDDA2\\uDDA5-\\uDDAA\\uDDAE-\\uDDCA\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE73\\uDE78-\\uDE7A\\uDE80-\\uDE82\\uDE90-\\uDE95]/;\n// /^\\p{S}/u\nvar CARET_S_UNICODE_REGEX = new RegExp(\"^\" + S_UNICODE_REGEX.source);\n// /\\p{S}$/u\nvar S_DOLLAR_UNICODE_REGEX = new RegExp(S_UNICODE_REGEX.source + \"$\");\nvar CLDR_NUMBER_PATTERN = /[#0](?:[\\.,][#0]+)*/g;\nexport default function formatToParts(numberResult, data, pl, options) {\n    var sign = numberResult.sign, exponent = numberResult.exponent, magnitude = numberResult.magnitude;\n    var notation = options.notation, style = options.style, numberingSystem = options.numberingSystem;\n    var defaultNumberingSystem = data.numbers.nu[0];\n    // #region Part 1: partition and interpolate the CLDR number pattern.\n    // ----------------------------------------------------------\n    var compactNumberPattern = null;\n    if (notation === 'compact' && magnitude) {\n        compactNumberPattern = getCompactDisplayPattern(numberResult, pl, data, style, options.compactDisplay, options.currencyDisplay, numberingSystem);\n    }\n    // This is used multiple times\n    var nonNameCurrencyPart;\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var byCurrencyDisplay = data.currencies[options.currency];\n        if (byCurrencyDisplay) {\n            switch (options.currencyDisplay) {\n                case 'code':\n                    nonNameCurrencyPart = options.currency;\n                    break;\n                case 'symbol':\n                    nonNameCurrencyPart = byCurrencyDisplay.symbol;\n                    break;\n                default:\n                    nonNameCurrencyPart = byCurrencyDisplay.narrow;\n                    break;\n            }\n        }\n        else {\n            // Fallback for unknown currency\n            nonNameCurrencyPart = options.currency;\n        }\n    }\n    var numberPattern;\n    if (!compactNumberPattern) {\n        // Note: if the style is unit, or is currency and the currency display is name,\n        // its unit parts will be interpolated in part 2. So here we can fallback to decimal.\n        if (style === 'decimal' ||\n            style === 'unit' ||\n            (style === 'currency' && options.currencyDisplay === 'name')) {\n            // Shortcut for decimal\n            var decimalData = data.numbers.decimal[numberingSystem] ||\n                data.numbers.decimal[defaultNumberingSystem];\n            numberPattern = getPatternForSign(decimalData.standard, sign);\n        }\n        else if (style === 'currency') {\n            var currencyData = data.numbers.currency[numberingSystem] ||\n                data.numbers.currency[defaultNumberingSystem];\n            // We replace number pattern part with `0` for easier postprocessing.\n            numberPattern = getPatternForSign(currencyData[options.currencySign], sign);\n        }\n        else {\n            // percent\n            var percentPattern = data.numbers.percent[numberingSystem] ||\n                data.numbers.percent[defaultNumberingSystem];\n            numberPattern = getPatternForSign(percentPattern, sign);\n        }\n    }\n    else {\n        numberPattern = compactNumberPattern;\n    }\n    // Extract the decimal number pattern string. It looks like \"#,##0,00\", which will later be\n    // used to infer decimal group sizes.\n    var decimalNumberPattern = CLDR_NUMBER_PATTERN.exec(numberPattern)[0];\n    // Now we start to substitute patterns\n    // 1. replace strings like `0` and `#,##0.00` with `{0}`\n    // 2. unquote characters (invariant: the quoted characters does not contain the special tokens)\n    numberPattern = numberPattern\n        .replace(CLDR_NUMBER_PATTERN, '{0}')\n        .replace(/'(.)'/g, '$1');\n    // Handle currency spacing (both compact and non-compact).\n    if (style === 'currency' && options.currencyDisplay !== 'name') {\n        var currencyData = data.numbers.currency[numberingSystem] ||\n            data.numbers.currency[defaultNumberingSystem];\n        // See `currencySpacing` substitution rule in TR-35.\n        // Here we always assume the currencyMatch is \"[:^S:]\" and surroundingMatch is \"[:digit:]\".\n        //\n        // Example 1: for pattern \"#,##0.00\" with symbol \"US$\", we replace \"\" with the symbol,\n        // but insert an extra non-break space before the symbol, because \"[:^S:]\" matches \"U\" in\n        // \"US$\" and \"[:digit:]\" matches the latn numbering system digits.\n        //\n        // Example 2: for pattern \"#,##0.00\" with symbol \"US$\", there is no spacing between symbol\n        // and number, because `$` does not match \"[:^S:]\".\n        //\n        // Implementation note: here we do the best effort to infer the insertion.\n        // We also assume that `beforeInsertBetween` and `afterInsertBetween` will never be `;`.\n        var afterCurrency = currencyData.currencySpacing.afterInsertBetween;\n        if (afterCurrency && !S_DOLLAR_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}', \"\\u00A4\" + afterCurrency + \"{0}\");\n        }\n        var beforeCurrency = currencyData.currencySpacing.beforeInsertBetween;\n        if (beforeCurrency && !CARET_S_UNICODE_REGEX.test(nonNameCurrencyPart)) {\n            numberPattern = numberPattern.replace('{0}', \"{0}\" + beforeCurrency + \"\\u00A4\");\n        }\n    }\n    // The following tokens are special: `{0}`, ``, `%`, `-`, `+`, `{c:...}.\n    var numberPatternParts = numberPattern.split(/({c:[^}]+}|\\{0\\}|[%\\-\\+])/g);\n    var numberParts = [];\n    var symbols = data.numbers.symbols[numberingSystem] ||\n        data.numbers.symbols[defaultNumberingSystem];\n    for (var _i = 0, numberPatternParts_1 = numberPatternParts; _i < numberPatternParts_1.length; _i++) {\n        var part = numberPatternParts_1[_i];\n        if (!part) {\n            continue;\n        }\n        switch (part) {\n            case '{0}': {\n                // We only need to handle scientific and engineering notation here.\n                numberParts.push.apply(numberParts, paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, \n                // If compact number pattern exists, do not insert group separators.\n                !compactNumberPattern && options.useGrouping, decimalNumberPattern));\n                break;\n            }\n            case '-':\n                numberParts.push({ type: 'minusSign', value: symbols.minusSign });\n                break;\n            case '+':\n                numberParts.push({ type: 'plusSign', value: symbols.plusSign });\n                break;\n            case '%':\n                numberParts.push({ type: 'percentSign', value: symbols.percentSign });\n                break;\n            case '':\n                // Computed above when handling currency spacing.\n                numberParts.push({ type: 'currency', value: nonNameCurrencyPart });\n                break;\n            default:\n                if (/^\\{c:/.test(part)) {\n                    numberParts.push({\n                        type: 'compact',\n                        value: part.substring(3, part.length - 1),\n                    });\n                }\n                else {\n                    // literal\n                    numberParts.push({ type: 'literal', value: part });\n                }\n                break;\n        }\n    }\n    // #endregion\n    // #region Part 2: interpolate unit pattern if necessary.\n    // ----------------------------------------------\n    switch (style) {\n        case 'currency': {\n            // `currencyDisplay: 'name'` has similar pattern handling as units.\n            if (options.currencyDisplay === 'name') {\n                var unitPattern = (data.numbers.currency[numberingSystem] ||\n                    data.numbers.currency[defaultNumberingSystem]).unitPattern;\n                // Select plural\n                var unitName = void 0;\n                var currencyNameData = data.currencies[options.currency];\n                if (currencyNameData) {\n                    unitName = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), currencyNameData.displayName);\n                }\n                else {\n                    // Fallback for unknown currency\n                    unitName = options.currency;\n                }\n                // Do {0} and {1} substitution\n                var unitPatternParts = unitPattern.split(/(\\{[01]\\})/g);\n                var result = [];\n                for (var _a = 0, unitPatternParts_1 = unitPatternParts; _a < unitPatternParts_1.length; _a++) {\n                    var part = unitPatternParts_1[_a];\n                    switch (part) {\n                        case '{0}':\n                            result.push.apply(result, numberParts);\n                            break;\n                        case '{1}':\n                            result.push({ type: 'currency', value: unitName });\n                            break;\n                        default:\n                            if (part) {\n                                result.push({ type: 'literal', value: part });\n                            }\n                            break;\n                    }\n                }\n                return result;\n            }\n            else {\n                return numberParts;\n            }\n        }\n        case 'unit': {\n            var unit = options.unit, unitDisplay = options.unitDisplay;\n            var unitData = data.units.simple[unit];\n            var unitPattern = void 0;\n            if (unitData) {\n                // Simple unit pattern\n                unitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[unit][unitDisplay]);\n            }\n            else {\n                // See: http://unicode.org/reports/tr35/tr35-general.html#perUnitPatterns\n                // If cannot find unit in the simple pattern, it must be \"per\" compound pattern.\n                // Implementation note: we are not following TR-35 here because we need to format to parts!\n                var _b = unit.split('-per-'), numeratorUnit = _b[0], denominatorUnit = _b[1];\n                unitData = data.units.simple[numeratorUnit];\n                var numeratorUnitPattern = selectPlural(pl, numberResult.roundedNumber * Math.pow(10, exponent), data.units.simple[numeratorUnit][unitDisplay]);\n                var perUnitPattern = data.units.simple[denominatorUnit].perUnit[unitDisplay];\n                if (perUnitPattern) {\n                    // perUnitPattern exists, combine it with numeratorUnitPattern\n                    unitPattern = perUnitPattern.replace('{0}', numeratorUnitPattern);\n                }\n                else {\n                    // get compoundUnit pattern (e.g. \"{0} per {1}\"), repalce {0} with numerator pattern and {1} with\n                    // the denominator pattern in singular form.\n                    var perPattern = data.units.compound.per[unitDisplay];\n                    var denominatorPattern = selectPlural(pl, 1, data.units.simple[denominatorUnit][unitDisplay]);\n                    unitPattern = unitPattern = perPattern\n                        .replace('{0}', numeratorUnitPattern)\n                        .replace('{1}', denominatorPattern.replace('{0}', ''));\n                }\n            }\n            var result = [];\n            // We need spacing around \"{0}\" because they are not treated as \"unit\" parts, but \"literal\".\n            for (var _c = 0, _d = unitPattern.split(/(\\s*\\{0\\}\\s*)/); _c < _d.length; _c++) {\n                var part = _d[_c];\n                var interpolateMatch = /^(\\s*)\\{0\\}(\\s*)$/.exec(part);\n                if (interpolateMatch) {\n                    // Space before \"{0}\"\n                    if (interpolateMatch[1]) {\n                        result.push({ type: 'literal', value: interpolateMatch[1] });\n                    }\n                    // \"{0}\" itself\n                    result.push.apply(result, numberParts);\n                    // Space after \"{0}\"\n                    if (interpolateMatch[2]) {\n                        result.push({ type: 'literal', value: interpolateMatch[2] });\n                    }\n                }\n                else if (part) {\n                    result.push({ type: 'unit', value: part });\n                }\n            }\n            return result;\n        }\n        default:\n            return numberParts;\n    }\n    // #endregion\n}\n// A subset of https://tc39.es/ecma402/#sec-partitionnotationsubpattern\n// Plus the exponent parts handling.\nfunction paritionNumberIntoParts(symbols, numberResult, notation, exponent, numberingSystem, useGrouping, \n/**\n * This is the decimal number pattern without signs or symbols.\n * It is used to infer the group size when `useGrouping` is true.\n *\n * A typical value looks like \"#,##0.00\" (primary group size is 3).\n * Some locales like Hindi has secondary group size of 2 (e.g. \"#,##,##0.00\").\n */\ndecimalNumberPattern) {\n    var result = [];\n    // eslint-disable-next-line prefer-const\n    var n = numberResult.formattedString, x = numberResult.roundedNumber;\n    if (isNaN(x)) {\n        return [{ type: 'nan', value: n }];\n    }\n    else if (!isFinite(x)) {\n        return [{ type: 'infinity', value: n }];\n    }\n    var digitReplacementTable = digitMapping[numberingSystem];\n    if (digitReplacementTable) {\n        n = n.replace(/\\d/g, function (digit) { return digitReplacementTable[+digit] || digit; });\n    }\n    // TODO: Else use an implementation dependent algorithm to map n to the appropriate\n    // representation of n in the given numbering system.\n    var decimalSepIndex = n.indexOf('.');\n    var integer;\n    var fraction;\n    if (decimalSepIndex > 0) {\n        integer = n.slice(0, decimalSepIndex);\n        fraction = n.slice(decimalSepIndex + 1);\n    }\n    else {\n        integer = n;\n    }\n    // #region Grouping integer digits\n    // The weird compact and x >= 10000 check is to ensure consistency with Node.js and Chrome.\n    // Note that `de` does not have compact form for thousands, but Node.js does not insert grouping separator\n    // unless the rounded number is greater than 10000:\n    //   NumberFormat('de', {notation: 'compact', compactDisplay: 'short'}).format(1234) //=> \"1234\"\n    //   NumberFormat('de').format(1234) //=> \"1.234\"\n    if (useGrouping && (notation !== 'compact' || x >= 10000)) {\n        var groupSepSymbol = symbols.group;\n        var groups = [];\n        // > There may be two different grouping sizes: The primary grouping size used for the least\n        // > significant integer group, and the secondary grouping size used for more significant groups.\n        // > If a pattern contains multiple grouping separators, the interval between the last one and the\n        // > end of the integer defines the primary grouping size, and the interval between the last two\n        // > defines the secondary grouping size. All others are ignored.\n        var integerNumberPattern = decimalNumberPattern.split('.')[0];\n        var patternGroups = integerNumberPattern.split(',');\n        var primaryGroupingSize = 3;\n        var secondaryGroupingSize = 3;\n        if (patternGroups.length > 1) {\n            primaryGroupingSize = patternGroups[patternGroups.length - 1].length;\n        }\n        if (patternGroups.length > 2) {\n            secondaryGroupingSize = patternGroups[patternGroups.length - 2].length;\n        }\n        var i = integer.length - primaryGroupingSize;\n        if (i > 0) {\n            // Slice the least significant integer group\n            groups.push(integer.slice(i, i + primaryGroupingSize));\n            // Then iteratively push the more signicant groups\n            // TODO: handle surrogate pairs in some numbering system digits\n            for (i -= secondaryGroupingSize; i > 0; i -= secondaryGroupingSize) {\n                groups.push(integer.slice(i, i + secondaryGroupingSize));\n            }\n            groups.push(integer.slice(0, i + secondaryGroupingSize));\n        }\n        else {\n            groups.push(integer);\n        }\n        while (groups.length > 0) {\n            var integerGroup = groups.pop();\n            result.push({ type: 'integer', value: integerGroup });\n            if (groups.length > 0) {\n                result.push({ type: 'group', value: groupSepSymbol });\n            }\n        }\n    }\n    else {\n        result.push({ type: 'integer', value: integer });\n    }\n    // #endregion\n    if (fraction !== undefined) {\n        result.push({ type: 'decimal', value: symbols.decimal }, { type: 'fraction', value: fraction });\n    }\n    if ((notation === 'scientific' || notation === 'engineering') &&\n        isFinite(x)) {\n        result.push({ type: 'exponentSeparator', value: symbols.exponential });\n        if (exponent < 0) {\n            result.push({ type: 'exponentMinusSign', value: symbols.minusSign });\n            exponent = -exponent;\n        }\n        var exponentResult = ToRawFixed(exponent, 0, 0);\n        result.push({\n            type: 'exponentInteger',\n            value: exponentResult.formattedString,\n        });\n    }\n    return result;\n}\nfunction getPatternForSign(pattern, sign) {\n    if (pattern.indexOf(';') < 0) {\n        pattern = pattern + \";-\" + pattern;\n    }\n    var _a = pattern.split(';'), zeroPattern = _a[0], negativePattern = _a[1];\n    switch (sign) {\n        case 0:\n            return zeroPattern;\n        case -1:\n            return negativePattern;\n        default:\n            return negativePattern.indexOf('-') >= 0\n                ? negativePattern.replace(/-/g, '+')\n                : \"+\" + zeroPattern;\n    }\n}\n// Find the CLDR pattern for compact notation based on the magnitude of data and style.\n//\n// Example return value: \"{c:laki}000;{c:laki}-0\" (`sw` locale):\n// - Notice the `{c:...}` token that wraps the compact literal.\n// - The consecutive zeros are normalized to single zero to match CLDR_NUMBER_PATTERN.\n//\n// Returning null means the compact display pattern cannot be found.\nfunction getCompactDisplayPattern(numberResult, pl, data, style, compactDisplay, currencyDisplay, numberingSystem) {\n    var _a;\n    var roundedNumber = numberResult.roundedNumber, sign = numberResult.sign, magnitude = numberResult.magnitude;\n    var magnitudeKey = String(Math.pow(10, magnitude));\n    var defaultNumberingSystem = data.numbers.nu[0];\n    var pattern;\n    if (style === 'currency' && currencyDisplay !== 'name') {\n        var byNumberingSystem = data.numbers.currency;\n        var currencyData = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        // NOTE: compact notation ignores currencySign!\n        var compactPluralRules = (_a = currencyData.short) === null || _a === void 0 ? void 0 : _a[magnitudeKey];\n        if (!compactPluralRules) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPluralRules);\n    }\n    else {\n        var byNumberingSystem = data.numbers.decimal;\n        var byCompactDisplay = byNumberingSystem[numberingSystem] ||\n            byNumberingSystem[defaultNumberingSystem];\n        var compactPlaralRule = byCompactDisplay[compactDisplay][magnitudeKey];\n        if (!compactPlaralRule) {\n            return null;\n        }\n        pattern = selectPlural(pl, roundedNumber, compactPlaralRule);\n    }\n    // See https://unicode.org/reports/tr35/tr35-numbers.html#Compact_Number_Formats\n    // > If the value is precisely 0, either explicit or defaulted, then the normal number format\n    // > pattern for that sort of object is supplied.\n    if (pattern === '0') {\n        return null;\n    }\n    pattern = getPatternForSign(pattern, sign)\n        // Extract compact literal from the pattern\n        .replace(/([^\\s;\\-\\+\\d]+)/g, '{c:$1}')\n        // We replace one or more zeros with a single zero so it matches `CLDR_NUMBER_PATTERN`.\n        .replace(/0+/, '0');\n    return pattern;\n}\nfunction selectPlural(pl, x, rules) {\n    return rules[pl.select(x)] || rules.other;\n}\n","import { FormatNumericToString } from './FormatNumericToString';\nimport { SameValue } from '../262';\nimport { ComputeExponent } from './ComputeExponent';\nimport formatToParts from './format_to_parts';\n/**\n * https://tc39.es/ecma402/#sec-formatnumberstring\n */\nexport function PartitionNumberPattern(numberFormat, x, _a) {\n    var _b;\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(numberFormat);\n    var pl = internalSlots.pl, dataLocaleData = internalSlots.dataLocaleData, numberingSystem = internalSlots.numberingSystem;\n    var symbols = dataLocaleData.numbers.symbols[numberingSystem] ||\n        dataLocaleData.numbers.symbols[dataLocaleData.numbers.nu[0]];\n    var magnitude = 0;\n    var exponent = 0;\n    var n;\n    if (isNaN(x)) {\n        n = symbols.nan;\n    }\n    else if (!isFinite(x)) {\n        n = symbols.infinity;\n    }\n    else {\n        if (internalSlots.style === 'percent') {\n            x *= 100;\n        }\n        _b = ComputeExponent(numberFormat, x, {\n            getInternalSlots: getInternalSlots,\n        }), exponent = _b[0], magnitude = _b[1];\n        // Preserve more precision by doing multiplication when exponent is negative.\n        x = exponent < 0 ? x * Math.pow(10, -exponent) : x / Math.pow(10, exponent);\n        var formatNumberResult = FormatNumericToString(internalSlots, x);\n        n = formatNumberResult.formattedString;\n        x = formatNumberResult.roundedNumber;\n    }\n    // Based on https://tc39.es/ecma402/#sec-getnumberformatpattern\n    // We need to do this before `x` is rounded.\n    var sign;\n    var signDisplay = internalSlots.signDisplay;\n    switch (signDisplay) {\n        case 'never':\n            sign = 0;\n            break;\n        case 'auto':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        case 'always':\n            if (SameValue(x, 0) || x > 0 || isNaN(x)) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n            break;\n        default:\n            // x === 0 -> x is 0 or x is -0\n            if (x === 0 || isNaN(x)) {\n                sign = 0;\n            }\n            else if (x > 0) {\n                sign = 1;\n            }\n            else {\n                sign = -1;\n            }\n    }\n    return formatToParts({ roundedNumber: x, formattedString: n, exponent: exponent, magnitude: magnitude, sign: sign }, internalSlots.dataLocaleData, pl, internalSlots);\n}\n","import { PartitionNumberPattern } from './PartitionNumberPattern';\nimport { ArrayCreate } from '../262';\nexport function FormatNumericToParts(nf, x, implDetails) {\n    var parts = PartitionNumberPattern(nf, x, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result.push({\n            type: part.type,\n            value: part.value,\n        });\n    }\n    return result;\n}\n","import { GetOption } from '../GetOption';\nimport { IsWellFormedCurrencyCode } from '../IsWellFormedCurrencyCode';\nimport { IsWellFormedUnitIdentifier } from '../IsWellFormedUnitIdentifier';\n/**\n * https://tc39.es/ecma402/#sec-setnumberformatunitoptions\n */\nexport function SetNumberFormatUnitOptions(nf, options, _a) {\n    if (options === void 0) { options = Object.create(null); }\n    var getInternalSlots = _a.getInternalSlots;\n    var internalSlots = getInternalSlots(nf);\n    var style = GetOption(options, 'style', 'string', ['decimal', 'percent', 'currency', 'unit'], 'decimal');\n    internalSlots.style = style;\n    var currency = GetOption(options, 'currency', 'string', undefined, undefined);\n    if (currency !== undefined && !IsWellFormedCurrencyCode(currency)) {\n        throw RangeError('Malformed currency code');\n    }\n    if (style === 'currency' && currency === undefined) {\n        throw TypeError('currency cannot be undefined');\n    }\n    var currencyDisplay = GetOption(options, 'currencyDisplay', 'string', ['code', 'symbol', 'narrowSymbol', 'name'], 'symbol');\n    var currencySign = GetOption(options, 'currencySign', 'string', ['standard', 'accounting'], 'standard');\n    var unit = GetOption(options, 'unit', 'string', undefined, undefined);\n    if (unit !== undefined && !IsWellFormedUnitIdentifier(unit)) {\n        throw RangeError('Invalid unit argument for Intl.NumberFormat()');\n    }\n    if (style === 'unit' && unit === undefined) {\n        throw TypeError('unit cannot be undefined');\n    }\n    var unitDisplay = GetOption(options, 'unitDisplay', 'string', ['short', 'narrow', 'long'], 'short');\n    if (style === 'currency') {\n        internalSlots.currency = currency.toUpperCase();\n        internalSlots.currencyDisplay = currencyDisplay;\n        internalSlots.currencySign = currencySign;\n    }\n    if (style === 'unit') {\n        internalSlots.unit = unit;\n        internalSlots.unitDisplay = unitDisplay;\n    }\n}\n","import { GetNumberOption } from '../GetNumberOption';\nimport { DefaultNumberOption } from '../DefaultNumberOption';\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n */\nexport function SetNumberFormatDigitOptions(internalSlots, opts, mnfdDefault, mxfdDefault, notation) {\n    var mnid = GetNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n    var mnfd = opts.minimumFractionDigits;\n    var mxfd = opts.maximumFractionDigits;\n    var mnsd = opts.minimumSignificantDigits;\n    var mxsd = opts.maximumSignificantDigits;\n    internalSlots.minimumIntegerDigits = mnid;\n    if (mnsd !== undefined || mxsd !== undefined) {\n        internalSlots.roundingType = 'significantDigits';\n        mnsd = DefaultNumberOption(mnsd, 1, 21, 1);\n        mxsd = DefaultNumberOption(mxsd, mnsd, 21, 21);\n        internalSlots.minimumSignificantDigits = mnsd;\n        internalSlots.maximumSignificantDigits = mxsd;\n    }\n    else if (mnfd !== undefined || mxfd !== undefined) {\n        internalSlots.roundingType = 'fractionDigits';\n        mnfd = DefaultNumberOption(mnfd, 0, 20, mnfdDefault);\n        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n        mxfd = DefaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n        internalSlots.minimumFractionDigits = mnfd;\n        internalSlots.maximumFractionDigits = mxfd;\n    }\n    else if (notation === 'compact') {\n        internalSlots.roundingType = 'compactRounding';\n    }\n    else {\n        internalSlots.roundingType = 'fractionDigits';\n        internalSlots.minimumFractionDigits = mnfdDefault;\n        internalSlots.maximumFractionDigits = mxfdDefault;\n    }\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { SetNumberFormatUnitOptions } from './SetNumberFormatUnitOptions';\nimport { CurrencyDigits } from './CurrencyDigits';\nimport { SetNumberFormatDigitOptions } from './SetNumberFormatDigitOptions';\nimport { invariant } from '../utils';\n/**\n * https://tc39.es/ecma402/#sec-initializenumberformat\n */\nexport function InitializeNumberFormat(nf, locales, opts, _a) {\n    var getInternalSlots = _a.getInternalSlots, localeData = _a.localeData, availableLocales = _a.availableLocales, numberingSystemNames = _a.numberingSystemNames, getDefaultLocale = _a.getDefaultLocale, currencyDigitsData = _a.currencyDigitsData;\n    // @ts-ignore\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var options = opts === undefined ? Object.create(null) : ToObject(opts);\n    var opt = Object.create(null);\n    var matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(options, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined &&\n        numberingSystemNames.indexOf(numberingSystem) < 0) {\n        // 8.a. If numberingSystem does not match the Unicode Locale Identifier type nonterminal,\n        // throw a RangeError exception.\n        throw RangeError(\"Invalid numberingSystems: \" + numberingSystem);\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, \n    // [[RelevantExtensionKeys]] slot, which is a constant\n    ['nu'], localeData, getDefaultLocale);\n    var dataLocaleData = localeData[r.dataLocale];\n    invariant(!!dataLocaleData, \"Missing locale data for \" + r.dataLocale);\n    var internalSlots = getInternalSlots(nf);\n    internalSlots.locale = r.locale;\n    internalSlots.dataLocale = r.dataLocale;\n    internalSlots.numberingSystem = r.nu;\n    internalSlots.dataLocaleData = dataLocaleData;\n    SetNumberFormatUnitOptions(nf, options, { getInternalSlots: getInternalSlots });\n    var style = internalSlots.style;\n    var mnfdDefault;\n    var mxfdDefault;\n    if (style === 'currency') {\n        var currency = internalSlots.currency;\n        var cDigits = CurrencyDigits(currency, { currencyDigitsData: currencyDigitsData });\n        mnfdDefault = cDigits;\n        mxfdDefault = cDigits;\n    }\n    else {\n        mnfdDefault = 0;\n        mxfdDefault = style === 'percent' ? 0 : 3;\n    }\n    var notation = GetOption(options, 'notation', 'string', ['standard', 'scientific', 'engineering', 'compact'], 'standard');\n    internalSlots.notation = notation;\n    SetNumberFormatDigitOptions(internalSlots, options, mnfdDefault, mxfdDefault, notation);\n    var compactDisplay = GetOption(options, 'compactDisplay', 'string', ['short', 'long'], 'short');\n    if (notation === 'compact') {\n        internalSlots.compactDisplay = compactDisplay;\n    }\n    var useGrouping = GetOption(options, 'useGrouping', 'boolean', undefined, true);\n    internalSlots.useGrouping = useGrouping;\n    var signDisplay = GetOption(options, 'signDisplay', 'string', ['auto', 'never', 'always', 'exceptZero'], 'auto');\n    internalSlots.signDisplay = signDisplay;\n    return nf;\n}\n","import { invariant } from '../utils';\nimport { ToNumber } from '../262';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-getoperands\n * @param s\n */\nexport function GetOperands(s) {\n    invariant(typeof s === 'string', \"GetOperands should have been called with a string\");\n    var n = ToNumber(s);\n    invariant(isFinite(n), 'n should be finite');\n    var dp = s.indexOf('.');\n    var iv;\n    var f;\n    var v;\n    var fv = '';\n    if (dp === -1) {\n        iv = n;\n        f = 0;\n        v = 0;\n    }\n    else {\n        iv = s.slice(0, dp);\n        fv = s.slice(dp, s.length);\n        f = ToNumber(fv);\n        v = fv.length;\n    }\n    var i = Math.abs(ToNumber(iv));\n    var w;\n    var t;\n    if (f !== 0) {\n        var ft = fv.replace(/0+$/, '');\n        w = ft.length;\n        t = ToNumber(ft);\n    }\n    else {\n        w = 0;\n        t = 0;\n    }\n    return {\n        Number: n,\n        IntegerDigits: i,\n        NumberOfFractionDigits: v,\n        NumberOfFractionDigitsWithoutTrailing: w,\n        FractionDigits: f,\n        FractionDigitsWithoutTrailing: t,\n    };\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { SetNumberFormatDigitOptions } from '../NumberFormat/SetNumberFormatDigitOptions';\nimport { ResolveLocale } from '../ResolveLocale';\nexport function InitializePluralRules(pl, locales, options, _a) {\n    var availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale, getInternalSlots = _a.getInternalSlots;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : ToObject(options);\n    var internalSlots = getInternalSlots(pl);\n    internalSlots.initializedPluralRules = true;\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    internalSlots.type = GetOption(opts, 'type', 'string', ['cardinal', 'ordinal'], 'cardinal');\n    SetNumberFormatDigitOptions(internalSlots, opts, 0, 3, 'standard');\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    internalSlots.locale = r.locale;\n    return pl;\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\nimport { FormatNumericToString } from '../NumberFormat/FormatNumericToString';\nimport { GetOperands } from './GetOperands';\n/**\n * http://ecma-international.org/ecma-402/7.0/index.html#sec-resolveplural\n * @param pl\n * @param n\n * @param PluralRuleSelect Has to pass in bc it's implementation-specific\n */\nexport function ResolvePlural(pl, n, _a) {\n    var getInternalSlots = _a.getInternalSlots, PluralRuleSelect = _a.PluralRuleSelect;\n    var internalSlots = getInternalSlots(pl);\n    invariant(Type(internalSlots) === 'Object', 'pl has to be an object');\n    invariant('initializedPluralRules' in internalSlots, 'pluralrules must be initialized');\n    invariant(Type(n) === 'Number', 'n must be a number');\n    if (!isFinite(n)) {\n        return 'other';\n    }\n    var locale = internalSlots.locale, type = internalSlots.type;\n    var res = FormatNumericToString(internalSlots, n);\n    var s = res.formattedString;\n    var operands = GetOperands(s);\n    return PluralRuleSelect(locale, type, n, operands);\n}\n","import { invariant } from '../utils';\nimport { Type } from '../262';\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nexport function SingularRelativeTimeUnit(unit) {\n    invariant(Type(unit) === 'String', 'unit must be a string');\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError('invalid unit');\n    }\n    return unit;\n}\n","import { PartitionPattern } from '../PartitionPattern';\nimport { invariant } from '../utils';\nexport function MakePartsList(pattern, unit, parts) {\n    var patternParts = PartitionPattern(pattern);\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        if (patternPart.type === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else {\n            invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n            for (var _a = 0, parts_1 = parts; _a < parts_1.length; _a++) {\n                var part = parts_1[_a];\n                result.push({\n                    type: part.type,\n                    value: part.value,\n                    unit: unit,\n                });\n            }\n        }\n    }\n    return result;\n}\n","import { invariant } from '../utils';\nimport { SingularRelativeTimeUnit } from './SingularRelativeTimeUnit';\nimport { MakePartsList } from './MakePartsList';\nimport { ToString, Type, SameValue } from '../262';\nexport function PartitionRelativeTimePattern(rtf, value, unit, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    invariant(Type(value) === 'Number', \"value must be number, instead got \" + typeof value, TypeError);\n    invariant(Type(unit) === 'String', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || !isFinite(value)) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = SingularRelativeTimeUnit(unit);\n    var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = resolvedUnit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = resolvedUnit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = resolvedUnit;\n    }\n    var patterns = fields[entry];\n    if (numeric === 'auto') {\n        if (ToString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[ToString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (SameValue(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return MakePartsList(pattern, resolvedUnit, fv);\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nexport function FormatRelativeTime(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = '';\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        result += part.value;\n    }\n    return result;\n}\n","import { PartitionRelativeTimePattern } from './PartitionRelativeTimePattern';\nimport { ArrayCreate } from '../262';\nexport function FormatRelativeTimeToParts(rtf, value, unit, implDetails) {\n    var parts = PartitionRelativeTimePattern(rtf, value, unit, implDetails);\n    var result = ArrayCreate(0);\n    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n        var part = parts_1[_i];\n        var o = {\n            type: part.type,\n            value: part.value,\n        };\n        if ('unit' in part) {\n            o.unit = part.unit;\n        }\n        result.push(o);\n    }\n    return result;\n}\n","import { CanonicalizeLocaleList } from '../CanonicalizeLocaleList';\nimport { ToObject } from '../262';\nimport { GetOption } from '../GetOption';\nimport { ResolveLocale } from '../ResolveLocale';\nimport { invariant } from '../utils';\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nexport function InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n    var internalSlots = getInternalSlots(rtf);\n    internalSlots.initializedRelativeTimeFormat = true;\n    var requestedLocales = CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : ToObject(options);\n    var matcher = GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = GetOption(opts, 'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined) {\n        if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n            throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n        }\n    }\n    opt.nu = numberingSystem;\n    var r = ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    var locale = r.locale, nu = r.nu;\n    internalSlots.locale = locale;\n    internalSlots.style = GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n    internalSlots.numeric = GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n    var fields = localeData[r.dataLocale];\n    invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n    internalSlots.fields = fields;\n    internalSlots.numberFormat = new Intl.NumberFormat(locales);\n    internalSlots.pluralRules = new Intl.PluralRules(locales);\n    internalSlots.numberingSystem = nu;\n    return rtf;\n}\n","import { UNICODE_EXTENSION_SEQUENCE_REGEX } from './utils';\nimport { BestAvailableLocale } from './BestAvailableLocale';\n/**\n * https://tc39.es/ecma402/#sec-lookupsupportedlocales\n * @param availableLocales\n * @param requestedLocales\n */\nexport function LookupSupportedLocales(availableLocales, requestedLocales) {\n    var subset = [];\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n        var locale = requestedLocales_1[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = BestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            subset.push(availableLocale);\n        }\n    }\n    return subset;\n}\n","import { ToObject } from './262';\nimport { GetOption } from './GetOption';\nimport { LookupSupportedLocales } from './LookupSupportedLocales';\n/**\n * https://tc39.es/ecma402/#sec-supportedlocales\n * @param availableLocales\n * @param requestedLocales\n * @param options\n */\nexport function SupportedLocales(availableLocales, requestedLocales, options) {\n    var matcher = 'best fit';\n    if (options !== undefined) {\n        options = ToObject(options);\n        matcher = GetOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    }\n    if (matcher === 'best fit') {\n        return LookupSupportedLocales(availableLocales, requestedLocales);\n    }\n    return LookupSupportedLocales(availableLocales, requestedLocales);\n}\n","import { __extends } from \"tslib\";\nvar MissingLocaleDataError = /** @class */ (function (_super) {\n    __extends(MissingLocaleDataError, _super);\n    function MissingLocaleDataError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'MISSING_LOCALE_DATA';\n        return _this;\n    }\n    return MissingLocaleDataError;\n}(Error));\nexport function isMissingLocaleDataError(e) {\n    return e.type === 'MISSING_LOCALE_DATA';\n}\n","export var RangePatternType;\n(function (RangePatternType) {\n    RangePatternType[\"startRange\"] = \"startRange\";\n    RangePatternType[\"shared\"] = \"shared\";\n    RangePatternType[\"endRange\"] = \"endRange\";\n})(RangePatternType || (RangePatternType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'PluralRules', {\n        value: _1.PluralRules,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nfunction shouldPolyfill() {\n    return (typeof Intl === 'undefined' ||\n        !('PluralRules' in Intl) ||\n        new Intl.PluralRules('en', { minimumFractionDigits: 2 }).select(1) ===\n            'one');\n}\nexports.shouldPolyfill = shouldPolyfill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InitializeRelativeTimeFormat = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar intl_localematcher_1 = require(\"@formatjs/intl-localematcher\");\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\nfunction InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n    var getInternalSlots = _a.getInternalSlots, availableLocales = _a.availableLocales, relevantExtensionKeys = _a.relevantExtensionKeys, localeData = _a.localeData, getDefaultLocale = _a.getDefaultLocale;\n    var internalSlots = getInternalSlots(rtf);\n    internalSlots.initializedRelativeTimeFormat = true;\n    var requestedLocales = ecma402_abstract_1.CanonicalizeLocaleList(locales);\n    var opt = Object.create(null);\n    var opts = ecma402_abstract_1.CoerceOptionsToObject(options);\n    var matcher = ecma402_abstract_1.GetOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = ecma402_abstract_1.GetOption(opts, \n    // @ts-expect-error TS option is wack\n    'numberingSystem', 'string', undefined, undefined);\n    if (numberingSystem !== undefined) {\n        if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n            throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n        }\n    }\n    opt.nu = numberingSystem;\n    var r = intl_localematcher_1.ResolveLocale(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n    var locale = r.locale, nu = r.nu;\n    internalSlots.locale = locale;\n    internalSlots.style = ecma402_abstract_1.GetOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n    internalSlots.numeric = ecma402_abstract_1.GetOption(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n    var fields = localeData[r.dataLocale];\n    ecma402_abstract_1.invariant(!!fields, \"Missing locale data for \" + r.dataLocale);\n    internalSlots.fields = fields;\n    internalSlots.numberFormat = new Intl.NumberFormat(locales);\n    internalSlots.pluralRules = new Intl.PluralRules(locales);\n    internalSlots.numberingSystem = nu;\n    return rtf;\n}\nexports.InitializeRelativeTimeFormat = InitializeRelativeTimeFormat;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MakePartsList = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nfunction MakePartsList(pattern, unit, parts) {\n    var patternParts = ecma402_abstract_1.PartitionPattern(pattern);\n    var result = [];\n    for (var _i = 0, patternParts_1 = patternParts; _i < patternParts_1.length; _i++) {\n        var patternPart = patternParts_1[_i];\n        if (patternPart.type === 'literal') {\n            result.push({\n                type: 'literal',\n                value: patternPart.value,\n            });\n        }\n        else {\n            ecma402_abstract_1.invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n            for (var _a = 0, parts_1 = parts; _a < parts_1.length; _a++) {\n                var part = parts_1[_a];\n                result.push({\n                    type: part.type,\n                    value: part.value,\n                    unit: unit,\n                });\n            }\n        }\n    }\n    return result;\n}\nexports.MakePartsList = MakePartsList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PartitionRelativeTimePattern = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar SingularRelativeTimeUnit_1 = require(\"./SingularRelativeTimeUnit\");\nvar MakePartsList_1 = require(\"./MakePartsList\");\nfunction PartitionRelativeTimePattern(rtf, value, unit, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    ecma402_abstract_1.invariant(ecma402_abstract_1.Type(value) === 'Number', \"value must be number, instead got \" + typeof value, TypeError);\n    ecma402_abstract_1.invariant(ecma402_abstract_1.Type(unit) === 'String', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || !isFinite(value)) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = SingularRelativeTimeUnit_1.SingularRelativeTimeUnit(unit);\n    var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = resolvedUnit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = resolvedUnit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = resolvedUnit;\n    }\n    var patterns = fields[entry];\n    if (numeric === 'auto') {\n        if (ecma402_abstract_1.ToString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[ecma402_abstract_1.ToString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (ecma402_abstract_1.SameValue(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return MakePartsList_1.MakePartsList(pattern, resolvedUnit, fv);\n}\nexports.PartitionRelativeTimePattern = PartitionRelativeTimePattern;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SingularRelativeTimeUnit = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nfunction SingularRelativeTimeUnit(unit) {\n    ecma402_abstract_1.invariant(ecma402_abstract_1.Type(unit) === 'String', 'unit must be a string');\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError('invalid unit');\n    }\n    return unit;\n}\nexports.SingularRelativeTimeUnit = SingularRelativeTimeUnit;\n","\"use strict\";\n// Type-only circular import\n// eslint-disable-next-line import/no-cycle\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar internalSlotMap = new WeakMap();\nfunction getInternalSlots(x) {\n    var internalSlots = internalSlotMap.get(x);\n    if (!internalSlots) {\n        internalSlots = Object.create(null);\n        internalSlotMap.set(x, internalSlots);\n    }\n    return internalSlots;\n}\nexports.default = getInternalSlots;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar InitializeRelativeTimeFormat_1 = require(\"./abstract/InitializeRelativeTimeFormat\");\nvar PartitionRelativeTimePattern_1 = require(\"./abstract/PartitionRelativeTimePattern\");\nvar get_internal_slots_1 = tslib_1.__importDefault(require(\"./get_internal_slots\"));\nvar RelativeTimeFormat = /** @class */ (function () {\n    function RelativeTimeFormat(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n        }\n        return InitializeRelativeTimeFormat_1.InitializeRelativeTimeFormat(this, locales, options, {\n            getInternalSlots: get_internal_slots_1.default,\n            availableLocales: RelativeTimeFormat.availableLocales,\n            relevantExtensionKeys: RelativeTimeFormat.relevantExtensionKeys,\n            localeData: RelativeTimeFormat.localeData,\n            getDefaultLocale: RelativeTimeFormat.getDefaultLocale,\n        });\n    }\n    RelativeTimeFormat.prototype.format = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('format was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('format was called on a invalid context');\n        }\n        return PartitionRelativeTimePattern_1.PartitionRelativeTimePattern(this, Number(value), ecma402_abstract_1.ToString(unit), {\n            getInternalSlots: get_internal_slots_1.default,\n        })\n            .map(function (el) { return el.value; })\n            .join('');\n    };\n    RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('formatToParts was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('formatToParts was called on a invalid context');\n        }\n        return PartitionRelativeTimePattern_1.PartitionRelativeTimePattern(this, Number(value), ecma402_abstract_1.ToString(unit), { getInternalSlots: get_internal_slots_1.default });\n    };\n    RelativeTimeFormat.prototype.resolvedOptions = function () {\n        if (typeof this !== 'object') {\n            throw new TypeError('resolvedOptions was called on a non-object');\n        }\n        var internalSlots = get_internal_slots_1.default(this);\n        if (!internalSlots.initializedRelativeTimeFormat) {\n            throw new TypeError('resolvedOptions was called on a invalid context');\n        }\n        // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n        return {\n            locale: internalSlots.locale,\n            style: internalSlots.style,\n            numeric: internalSlots.numeric,\n            numberingSystem: internalSlots.numberingSystem,\n        };\n    };\n    RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n        return ecma402_abstract_1.SupportedLocales(RelativeTimeFormat.availableLocales, ecma402_abstract_1.CanonicalizeLocaleList(locales), options);\n    };\n    RelativeTimeFormat.__addLocaleData = function () {\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n            var _b = data_1[_a], d = _b.data, locale = _b.locale;\n            var minimizedLocale = new Intl.Locale(locale)\n                .minimize()\n                .toString();\n            RelativeTimeFormat.localeData[locale] = RelativeTimeFormat.localeData[minimizedLocale] = d;\n            RelativeTimeFormat.availableLocales.add(minimizedLocale);\n            RelativeTimeFormat.availableLocales.add(locale);\n            if (!RelativeTimeFormat.__defaultLocale) {\n                RelativeTimeFormat.__defaultLocale = minimizedLocale;\n            }\n        }\n    };\n    RelativeTimeFormat.getDefaultLocale = function () {\n        return RelativeTimeFormat.__defaultLocale;\n    };\n    RelativeTimeFormat.localeData = {};\n    RelativeTimeFormat.availableLocales = new Set();\n    RelativeTimeFormat.__defaultLocale = '';\n    RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n    RelativeTimeFormat.polyfilled = true;\n    return RelativeTimeFormat;\n}());\nexports.default = RelativeTimeFormat;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n            value: 'Intl.RelativeTimeFormat',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\n","/* @generated */\t\n// prettier-ignore\nif (Intl.RelativeTimeFormat && typeof Intl.RelativeTimeFormat.__addLocaleData === 'function') {\n  Intl.RelativeTimeFormat.__addLocaleData({\"data\":{\"nu\":[\"latn\"],\"year\":{\"0\":\"this year\",\"1\":\"next year\",\"future\":{\"one\":\"in {0} year\",\"other\":\"in {0} years\"},\"past\":{\"one\":\"{0} year ago\",\"other\":\"{0} years ago\"},\"-1\":\"last year\"},\"year-short\":{\"0\":\"this yr.\",\"1\":\"next yr.\",\"future\":{\"one\":\"in {0} yr.\",\"other\":\"in {0} yr.\"},\"past\":{\"one\":\"{0} yr. ago\",\"other\":\"{0} yr. ago\"},\"-1\":\"last yr.\"},\"year-narrow\":{\"0\":\"this yr.\",\"1\":\"next yr.\",\"future\":{\"one\":\"in {0} yr.\",\"other\":\"in {0} yr.\"},\"past\":{\"one\":\"{0} yr. ago\",\"other\":\"{0} yr. ago\"},\"-1\":\"last yr.\"},\"quarter\":{\"0\":\"this quarter\",\"1\":\"next quarter\",\"future\":{\"one\":\"in {0} quarter\",\"other\":\"in {0} quarters\"},\"past\":{\"one\":\"{0} quarter ago\",\"other\":\"{0} quarters ago\"},\"-1\":\"last quarter\"},\"quarter-short\":{\"0\":\"this qtr.\",\"1\":\"next qtr.\",\"future\":{\"one\":\"in {0} qtr.\",\"other\":\"in {0} qtrs.\"},\"past\":{\"one\":\"{0} qtr. ago\",\"other\":\"{0} qtrs. ago\"},\"-1\":\"last qtr.\"},\"quarter-narrow\":{\"0\":\"this qtr.\",\"1\":\"next qtr.\",\"future\":{\"one\":\"in {0} qtr.\",\"other\":\"in {0} qtrs.\"},\"past\":{\"one\":\"{0} qtr. ago\",\"other\":\"{0} qtrs. ago\"},\"-1\":\"last qtr.\"},\"month\":{\"0\":\"this month\",\"1\":\"next month\",\"future\":{\"one\":\"in {0} month\",\"other\":\"in {0} months\"},\"past\":{\"one\":\"{0} month ago\",\"other\":\"{0} months ago\"},\"-1\":\"last month\"},\"month-short\":{\"0\":\"this mo.\",\"1\":\"next mo.\",\"future\":{\"one\":\"in {0} mo.\",\"other\":\"in {0} mo.\"},\"past\":{\"one\":\"{0} mo. ago\",\"other\":\"{0} mo. ago\"},\"-1\":\"last mo.\"},\"month-narrow\":{\"0\":\"this mo.\",\"1\":\"next mo.\",\"future\":{\"one\":\"in {0} mo.\",\"other\":\"in {0} mo.\"},\"past\":{\"one\":\"{0} mo. ago\",\"other\":\"{0} mo. ago\"},\"-1\":\"last mo.\"},\"week\":{\"0\":\"this week\",\"1\":\"next week\",\"future\":{\"one\":\"in {0} week\",\"other\":\"in {0} weeks\"},\"past\":{\"one\":\"{0} week ago\",\"other\":\"{0} weeks ago\"},\"-1\":\"last week\"},\"week-short\":{\"0\":\"this wk.\",\"1\":\"next wk.\",\"future\":{\"one\":\"in {0} wk.\",\"other\":\"in {0} wk.\"},\"past\":{\"one\":\"{0} wk. ago\",\"other\":\"{0} wk. ago\"},\"-1\":\"last wk.\"},\"week-narrow\":{\"0\":\"this wk.\",\"1\":\"next wk.\",\"future\":{\"one\":\"in {0} wk.\",\"other\":\"in {0} wk.\"},\"past\":{\"one\":\"{0} wk. ago\",\"other\":\"{0} wk. ago\"},\"-1\":\"last wk.\"},\"day\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"day-short\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"day-narrow\":{\"0\":\"today\",\"1\":\"tomorrow\",\"future\":{\"one\":\"in {0} day\",\"other\":\"in {0} days\"},\"past\":{\"one\":\"{0} day ago\",\"other\":\"{0} days ago\"},\"-1\":\"yesterday\"},\"hour\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hour\",\"other\":\"in {0} hours\"},\"past\":{\"one\":\"{0} hour ago\",\"other\":\"{0} hours ago\"}},\"hour-short\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hr.\",\"other\":\"in {0} hr.\"},\"past\":{\"one\":\"{0} hr. ago\",\"other\":\"{0} hr. ago\"}},\"hour-narrow\":{\"0\":\"this hour\",\"future\":{\"one\":\"in {0} hr.\",\"other\":\"in {0} hr.\"},\"past\":{\"one\":\"{0} hr. ago\",\"other\":\"{0} hr. ago\"}},\"minute\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} minute\",\"other\":\"in {0} minutes\"},\"past\":{\"one\":\"{0} minute ago\",\"other\":\"{0} minutes ago\"}},\"minute-short\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} min.\",\"other\":\"in {0} min.\"},\"past\":{\"one\":\"{0} min. ago\",\"other\":\"{0} min. ago\"}},\"minute-narrow\":{\"0\":\"this minute\",\"future\":{\"one\":\"in {0} min.\",\"other\":\"in {0} min.\"},\"past\":{\"one\":\"{0} min. ago\",\"other\":\"{0} min. ago\"}},\"second\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} second\",\"other\":\"in {0} seconds\"},\"past\":{\"one\":\"{0} second ago\",\"other\":\"{0} seconds ago\"}},\"second-short\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} sec.\",\"other\":\"in {0} sec.\"},\"past\":{\"one\":\"{0} sec. ago\",\"other\":\"{0} sec. ago\"}},\"second-narrow\":{\"0\":\"now\",\"future\":{\"one\":\"in {0} sec.\",\"other\":\"in {0} sec.\"},\"past\":{\"one\":\"{0} sec. ago\",\"other\":\"{0} sec. ago\"}}},\"locale\":\"en\"}\n)\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _1 = tslib_1.__importDefault(require(\"./\"));\nvar should_polyfill_1 = require(\"./should-polyfill\");\nif (should_polyfill_1.shouldPolyfill()) {\n    Object.defineProperty(Intl, 'RelativeTimeFormat', {\n        value: _1.default,\n        writable: true,\n        enumerable: false,\n        configurable: true,\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldPolyfill = void 0;\nfunction supportedLocalesOf(locale) {\n    if (!locale) {\n        return true;\n    }\n    var locales = Array.isArray(locale) ? locale : [locale];\n    return (Intl.RelativeTimeFormat.supportedLocalesOf(locales).length ===\n        locales.length);\n}\nfunction hasResolvedOptionsNumberingSystem(locale) {\n    try {\n        return ('numberingSystem' in\n            new Intl.RelativeTimeFormat(locale || 'en', {\n                numeric: 'auto',\n            }).resolvedOptions());\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction shouldPolyfill(locale) {\n    return (!('RelativeTimeFormat' in Intl) ||\n        !supportedLocalesOf(locale) ||\n        !hasResolvedOptionsNumberingSystem(locale));\n}\nexports.shouldPolyfill = shouldPolyfill;\n"],"names":["CanonicalizeLocaleList","locales","Intl","getCanonicalLocales","CanonicalizeTimeZoneName","tz","_a","tzData","uppercaseLinks","uppercasedTz","toUpperCase","uppercasedZones","Object","keys","reduce","all","z","ianaTimeZone","ToString","o","TypeError","String","ToNumber","val","undefined","NaN","Number","TimeClip","time","isFinite","Math","abs","n","number","isNaN","SameValue","integer","floor","ToInteger","ToObject","arg","x","y","is","ArrayCreate","len","Array","HasOwnProperty","prop","prototype","hasOwnProperty","call","Type","MS_PER_DAY","mod","Day","t","WeekDay","DayFromYear","Date","UTC","TimeFromYear","YearFromTime","getUTCFullYear","DaysInYear","DayWithinYear","InLeapYear","MonthFromTime","dwy","leap","Error","DateFromTime","mft","MS_PER_SECOND","HourFromTime","MS_PER_MINUTE","MinFromTime","SecFromTime","OrdinaryHasInstance","C","O","internalSlots","boundTargetFunction","P","isPrototypeOf","msFromTime","CoerceOptionsToObject","options","create","DefaultNumberOption","min","max","fallback","RangeError","GetNumberOption","property","minimum","maximum","GetOption","opts","type","values","value","Boolean","filter","length","join","GetOptionsObject","SANCTIONED_UNITS","removeUnitNamespace","unit","slice","indexOf","SIMPLE_UNITS","map","IsSanctionedSimpleUnitIdentifier","unitIdentifier","IsValidTimeZoneName","zoneNames","Set","linkNames","forEach","add","linkName","has","NOT_A_Z_REGEX","IsWellFormedCurrencyCode","currency","replace","_","c","test","IsWellFormedUnitIdentifier","toLowerCase","units","split","numerator","denominator","ComputeExponentForMagnitude","numberFormat","magnitude","getInternalSlots","notation","dataLocaleData","numberingSystem","compactDisplay","style","currencyDisplay","thresholdMap","numbers","nu","short","decimal","long","num","pow","thresholds","i","magnitudeKey","other","match","ToRawPrecision","minPrecision","maxPrecision","m","e","xFinal","int","p","xToString","toString","xToStringExponentIndex","xToStringMantissa","xToStringExponent","xToStringMantissaWithoutDecimalPoint","decimalPlaceOffset","round","adjustDecimalPlace","cut","formattedString","roundedNumber","integerDigitsCount","ToRawFixed","minFraction","maxFraction","f","mantissa","exponent","k","a","b","FormatNumericToString","intlObject","result","isNegative","roundingType","minimumSignificantDigits","maximumSignificantDigits","minimumFractionDigits","maximumFractionDigits","string","minInteger","minimumIntegerDigits","ComputeExponent","formatNumberResult","CurrencyDigits","currencyDigitsData","digitMapping","S_UNICODE_REGEX","CARET_S_UNICODE_REGEX","RegExp","source","S_DOLLAR_UNICODE_REGEX","CLDR_NUMBER_PATTERN","formatToParts","numberResult","data","pl","nonNameCurrencyPart","numberPattern","sign","defaultNumberingSystem","compactNumberPattern","pattern","compactPluralRules","byNumberingSystem","selectPlural","compactPlaralRule","getPatternForSign","getCompactDisplayPattern","byCurrencyDisplay","currencies","symbol","narrow","standard","currencyData","currencySign","percent","decimalNumberPattern","exec","afterCurrency","currencySpacing","afterInsertBetween","beforeCurrency","beforeInsertBetween","numberPatternParts","numberParts","symbols","_i","numberPatternParts_1","part","push","apply","paritionNumberIntoParts","useGrouping","minusSign","plusSign","percentSign","substring","unitPattern","unitName","currencyNameData","displayName","unitPatternParts_1","unitDisplay","unitData","simple","_b","numeratorUnit","denominatorUnit","numeratorUnitPattern","perUnitPattern","perUnit","perPattern","compound","per","denominatorPattern","_c","_d","interpolateMatch","digitReplacementTable","digit","fraction","decimalSepIndex","groupSepSymbol","group","groups","patternGroups","primaryGroupingSize","secondaryGroupingSize","integerGroup","pop","exponential","exponentResult","zeroPattern","negativePattern","rules","select","PartitionNumberPattern","nan","infinity","signDisplay","FormatNumericToParts","nf","implDetails","parts","parts_1","SetNumberFormatUnitOptions","SetNumberFormatDigitOptions","mnfdDefault","mxfdDefault","mnid","mnfd","mxfd","mnsd","mxsd","InitializeNumberFormat","localeData","availableLocales","numberingSystemNames","getDefaultLocale","requestedLocales","opt","matcher","localeMatcher","r","ResolveLocale","dataLocale","locale","cDigits","PartitionPattern","beginIndex","endIndex","nextIndex","SupportedLocales","LookupSupportedLocales","RangePatternType","_super","MissingLocaleDataError","_this","this","arguments","__extends","isMissingLocaleDataError","defineProperty","exports","BestAvailableLocale","candidate","pos","lastIndexOf","BestFitMatcher","BestAvailableLocale_1","utils_1","foundLocale","minimizedAvailableLocaleMap","from","l","minimizedAvailableLocales","minimizedLocale","Locale","minimize","requestedLocales_1","noExtensionLocale","UNICODE_EXTENSION_SEQUENCE_REGEX","maximizedRequestedLocale","maximize","minimizedRequestedLocale","LookupMatcher","availableLocale","extension","subset","LookupMatcher_1","BestFitMatcher_1","UnicodeExtensionValue_1","relevantExtensionKeys","supportedExtension","relevantExtensionKeys_1","key","invariant","foundLocaleData","keyLocaleData","isArray","supportedExtensionAddition","requestedValue","UnicodeExtensionValue","optionsValue","privateIndex","preExtension","postExtension","size","searchValue","start","end","done","condition","message","Err","ResolveLocale_1","defaultLocale","algorithm","LookupSupportedLocales_1","enumerable","get","ResolveLocale_2","internalSlotMap","WeakMap","set","PluralRules","tslib_1","ecma402_abstract_1","get_internal_slots_1","__importDefault","validateInstance","instance","method","PluralRuleSelect","_n","IntegerDigits","NumberOfFractionDigits","FractionDigits","fn","constructor","InitializePluralRules","default","resolvedOptions","field","pluralCategories","__spreadArrays","categories","ResolvePlural","supportedLocalesOf","__addLocaleData","data_1","d","__defaultLocale","polyfilled","Symbol","toStringTag","writable","configurable","error","ex","ord","s","v0","t0","n10","n100","getMagnitude","log","LOG10E","repeat","times","arr","setInternalSlot","setMultiInternalSlots","props","getInternalSlot","getMultiInternalSlots","fields","slots","isLiteralPart","patternPart","target","name","DATE_TIME_PROPS","DATE_TIME_REGEX","expPatternTrimmer","matchSkeletonPattern","era","year","month","day","weekday","hour12","hour","minute","second","timeZoneName","skeletonTokenToTable2","processDateTimePattern","literals","pattern12","literal","parseDateTimeSkeleton","skeleton","rawPattern","rangePatterns","intervalFormatFallback","rangePatterns12","intervalResult","patternParts","pattern_1","pattern12_1","__assign","splitRangePattern","splitFallbackRangePattern","PART_REGEX","splitIndex","index","isNumericType","bestFitFormatMatcherScore","format","score","DATE_TIME_PROPS_1","optionsProp","formatProp","optionsPropIndex","formatPropIndex","delta","BestFitFormatMatcher","formats","bestScore","Infinity","bestFormat","formats_1","skeletonFormat","patternFormat","skeletonValue","patternValue","BasicFormatMatcher","DateTimeStyleFormat","dateStyle","timeStyle","dateFormat","timeFormat","connector","dateTimeFormat","ceil","ToLocalTime","calendar","timeZone","zoneData","offset","dst","getApplicableZoneData","timeZoneOffset","inDST","relatedYear","yearName","pad","offsetToGmtString","gmtFormat","hourFormat","offsetInMs","offsetInMinutes","mins","hours","positivePattern","offsetStr","FormatDateTimePattern","dtf","getDefaultTimeZone","nfOptions","NumberFormat","nf2Options","nf2","tm","patternParts_1","fv","v","hourCycle","timeZoneData","pm","am","PartitionDateTimePattern","FormatDateTime","TABLE_2_FIELDS","PartitionDateTimeRangePattern","rangePattern","tm1","tm2","dateFieldsPracticallyEqual","patternContainsLargerDateField","TABLE_2_FIELDS_1","fieldName","rp","ampm","v1","v2","result_2","result_1","_e","rangePatternPart","partResult","_f","partResult_1","concat","FormatDateTimeRange","FormatDateTimeRangeToParts","FormatDateTimeToParts","ToDateTimeOptions","required","defaults","needDefaults","_g","resolveHourCycle","hc","hcDefault","TYPE_REGEX","InitializeDateTimeFormat","ca","isTimeRelated","UNICODE_REGION_SUBTAG_REGEX","ALPHA_4","CanonicalCodeForDisplayNames","code","region","script","GetOperands","iv","dp","w","ft","NumberOfFractionDigitsWithoutTrailing","FractionDigitsWithoutTrailing","initializedPluralRules","SingularRelativeTimeUnit","MakePartsList","PartitionRelativeTimePattern","rtf","resolvedUnit","numeric","pluralRules","entry","patterns","tl","po","FormatRelativeTime","FormatRelativeTimeToParts","NUMBERING_SYSTEM_REGEX","InitializeRelativeTimeFormat","initializedRelativeTimeFormat","_1","shouldPolyfill","intl_localematcher_1","SingularRelativeTimeUnit_1","MakePartsList_1","InitializeRelativeTimeFormat_1","PartitionRelativeTimePattern_1","RelativeTimeFormat","el","hasResolvedOptionsNumberingSystem"],"sourceRoot":""}
{"version":3,"file":"9356.ffc2ffb2821d755fbfe2.bundle.js","mappings":"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","sources":["webpack://tgstation-server-control-panel/./src/components/utils/SimpleTooltip.tsx","webpack://tgstation-server-control-panel/./src/components/views/Instance/Edit/Deployment.tsx","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Badge.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PageItem.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Pagination.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PopoverTitle.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PopoverContent.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Popover.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Table.js"],"sourcesContent":["import React from \"react\";\nimport { OverlayTrigger } from \"react-bootstrap\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\n\ntype IProps = {\n    tooltipid: string;\n    children: JSX.Element;\n    show: boolean | undefined;\n};\n\nexport default function SimpleToolTip(props: IProps): JSX.Element {\n    return (\n        <OverlayTrigger\n            show={props.show}\n            overlay={\n                <Tooltip id={props.tooltipid}>\n                    <FormattedMessage id={props.tooltipid} />\n                </Tooltip>\n            }>\n            {props.children}\n        </OverlayTrigger>\n    );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport DreamMakerClient from \"../../../../ApiClient/DreamMakerClient\";\nimport {\n    CompileJobResponse,\n    DreamDaemonSecurity,\n    DreamMakerRequest,\n    DreamMakerResponse,\n    DreamMakerRights\n} from \"../../../../ApiClient/generatedcode/generated\";\nimport InternalError, { ErrorCode } from \"../../../../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../../../../ApiClient/models/InternalComms/InternalStatus\";\nimport JobsController from \"../../../../ApiClient/util/JobsController\";\nimport { InstanceEditContext } from \"../../../../contexts/InstanceEditContext\";\nimport { hasDreamMakerRight } from \"../../../../utils/misc\";\nimport DeploymentViewer, { DeploymentsData, ViewDataType } from \"../../../utils/DeploymentViewer\";\nimport { addError, displayErrors } from \"../../../utils/ErrorAlert\";\nimport GenericAlert from \"../../../utils/GenericAlert\";\nimport { FieldType } from \"../../../utils/InputField\";\nimport InputForm from \"../../../utils/InputForm\";\nimport { DebugJsonViewer } from \"../../../utils/JsonViewer\";\nimport Loading from \"../../../utils/Loading\";\nimport SimpleToolTip from \"../../../utils/SimpleTooltip\";\n\nexport function Deployment(): JSX.Element {\n    const instanceEditContext = useContext(InstanceEditContext);\n    const errorState = useState<Array<InternalError<ErrorCode> | undefined>>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [deployInfo, setDeployInfo] = useState<DreamMakerResponse | null>(null);\n    const [compileJobs, setCompileJobs] = useState<CompileJobResponse[] | null>(null);\n    const [compileJobsPage, setCompileJobsPage] = useState<number>(1);\n    const [compileJobsTotalPages, setCompileJobsTotalPages] = useState<number>(0);\n\n    // adjusts the size of the viewer pages, undefined uses default server page size\n    const [compileJobsPageSize, setCompileJobsPageSize] = useState<number | undefined>(5);\n\n    const canRead = hasDreamMakerRight(\n        instanceEditContext.instancePermissionSet,\n        DreamMakerRights.Read\n    );\n    const canCompile = hasDreamMakerRight(\n        instanceEditContext.instancePermissionSet,\n        DreamMakerRights.Compile\n    );\n    const canReadDeployments = hasDreamMakerRight(\n        instanceEditContext.instancePermissionSet,\n        DreamMakerRights.CompileJobs\n    );\n\n    async function loadDeployInfo() {\n        if (!canRead) return setIsLoading(false);\n\n        setIsLoading(true);\n        const response = await DreamMakerClient.getDeployInfo(instanceEditContext.instance.id);\n        setIsLoading(false);\n\n        if (response.code === StatusCode.OK) {\n            setDeployInfo(response.payload);\n        } else {\n            addError(errorState, response.error);\n        }\n    }\n\n    async function loadCompileJobs(page: number): Promise<void> {\n        if (!canReadDeployments) {\n            return;\n        }\n\n        // loading is handled in viewer component\n        setCompileJobs(null);\n        const response = await DreamMakerClient.listCompileJobs(instanceEditContext.instance.id, {\n            page,\n            pageSize: compileJobsPageSize\n        });\n\n        if (response.code === StatusCode.OK) {\n            if (!compileJobsPageSize) setCompileJobsPageSize(response.payload.pageSize);\n\n            setCompileJobsTotalPages(response.payload.totalPages);\n            setCompileJobsPage(page);\n            setCompileJobs(response.payload.content);\n        } else {\n            addError(errorState, response.error);\n        }\n    }\n\n    useEffect(() => {\n        void loadDeployInfo();\n        void loadCompileJobs(1);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [instanceEditContext.instance.id]);\n\n    let timeout = undefined;\n    const parsedTimeMatch = /(?:(?<days>\\d+)\\.)?(?<hours>\\d+):(?<minutes>\\d+):(?<seconds>\\d+)/.exec(\n        deployInfo?.timeout ?? \"\"\n    );\n    if (parsedTimeMatch) {\n        const parsedTime = parsedTimeMatch.groups!;\n        timeout =\n            (parseInt(parsedTime.days ?? 0) * 24 + parseInt(parsedTime.hours)) * 60 +\n            parseInt(parsedTime.minutes) +\n            parseInt(parsedTime.seconds) / 60;\n    }\n\n    const fields = {\n        projectName: {\n            type: FieldType.String as FieldType.String,\n            name: \"fields.instance.deploy.projectname\",\n            tooltip: \"fields.instance.deploy.projectname.desc\",\n            defaultValue: deployInfo?.projectName,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetDme\n            )\n        },\n        compilerAdditionalArguments: {\n            type: FieldType.String as FieldType.String,\n            name: \"fields.instance.deploy.compilerargs\",\n            tooltip: \"fields.instance.deploy.compilerargs.desc\",\n            defaultValue: deployInfo?.compilerAdditionalArguments,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetCompilerArguments\n            )\n        },\n        timeout: {\n            type: FieldType.Number as FieldType.Number,\n            name: \"fields.instance.deploy.timeout\",\n            tooltip: \"fields.instance.deploy.timeout.desc\",\n            defaultValue: timeout,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetTimeout\n            )\n        },\n        apiValidationPort: {\n            type: FieldType.Number as FieldType.Number,\n            min: 0,\n            max: 65535,\n            name: \"fields.instance.deploy.apiport\",\n            tooltip: \"fields.instance.deploy.apiport.desc\",\n            defaultValue: deployInfo?.apiValidationPort,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetApiValidationPort\n            )\n        },\n        apiValidationSecurityLevel: {\n            type: FieldType.Enum as FieldType.Enum,\n            enum: DreamDaemonSecurity,\n            name: \"fields.instance.deploy.seclevel\",\n            tooltip: \"fields.instance.deploy.seclevel.desc\",\n            defaultValue: deployInfo?.apiValidationSecurityLevel,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetSecurityLevel\n            )\n        },\n        requireDMApiValidation: {\n            type: FieldType.Boolean as FieldType.Boolean,\n            name: \"fields.instance.deploy.validateapi\",\n            tooltip: \"fields.instance.deploy.validateapi.desc\",\n            defaultValue: deployInfo?.requireDMApiValidation,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetApiValidationRequirement\n            )\n        }\n    };\n\n    let deploymentViewData: DeploymentsData | null = null;\n    const paging = {\n        currentPage: compileJobsPage,\n        totalPages: compileJobsTotalPages,\n        loadPage: loadCompileJobs,\n        pageSize: compileJobsPageSize ?? 0 // will always be set before being accessed\n    };\n\n    if (!canReadDeployments) {\n        deploymentViewData = {\n            viewDataType: ViewDataType.CompileJobs,\n            paging\n        };\n    } else if (compileJobs) {\n        deploymentViewData = {\n            viewDataType: ViewDataType.CompileJobs,\n            compileJobs,\n            paging\n        };\n    }\n\n    return (\n        <div className=\"text-center\">\n            <DebugJsonViewer obj={{ deployInfo }} />\n            {displayErrors(errorState)}\n            {canReadDeployments ? (\n                <DeploymentViewer viewData={deploymentViewData} />\n            ) : (\n                <GenericAlert title=\"view.instance.no_compile_jobs\" />\n            )}\n            <hr />\n            <h3>\n                <FormattedMessage id=\"view.instance.deploy.title\" />\n            </h3>\n            {!canRead ? <GenericAlert title=\"view.instance.no_metadata\" /> : null}\n            {isLoading ? (\n                <Loading text=\"loading.deployments\" />\n            ) : (\n                <>\n                    <InputForm\n                        hideDisabled={!canRead}\n                        fields={fields}\n                        onSave={async _result => {\n                            let newTimeout: undefined | string = undefined;\n                            if (_result.timeout) {\n                                const days = Math.floor(_result.timeout / (24 * 60));\n                                _result.timeout -= days * (24 * 60);\n                                const hours = Math.floor(_result.timeout / 60);\n                                _result.timeout -= hours * 60;\n                                const minutes = Math.floor(_result.timeout);\n                                _result.timeout -= minutes;\n                                const seconds = Math.floor(_result.timeout * 60);\n                                if (days) {\n                                    newTimeout = `${days}.${hours}:${minutes}:${seconds}`;\n                                } else {\n                                    newTimeout = `${hours}:${minutes}:${seconds}`;\n                                }\n                            }\n\n                            const result = {\n                                ..._result,\n                                timeout: newTimeout\n                            } as DreamMakerRequest;\n\n                            setIsLoading(true);\n                            const response = await DreamMakerClient.updateDeployInfo(\n                                instanceEditContext.instance.id,\n                                result\n                            );\n                            if (response.code === StatusCode.ERROR) {\n                                addError(errorState, response.error);\n                            } else {\n                                await loadDeployInfo();\n                            }\n                            setIsLoading(false);\n                        }}\n                    />\n                    <hr />\n                    <SimpleToolTip\n                        tooltipid=\"generic.no_perm\"\n                        show={canCompile ? false : undefined}>\n                        <Button\n                            disabled={!canCompile}\n                            onClick={async () => {\n                                const response = await DreamMakerClient.startCompile(\n                                    instanceEditContext.instance.id\n                                );\n                                if (response.code === StatusCode.ERROR) {\n                                    addError(errorState, response.error);\n                                } else {\n                                    JobsController.registerJob(\n                                        response.payload,\n                                        instanceEditContext.instance.id\n                                    );\n                                    JobsController.fastmode = 5;\n                                }\n                            }}>\n                            <FormattedMessage id=\"view.instance.deploy.deploy\" />\n                        </Button>\n                    </SimpleToolTip>\n                </>\n            )}\n        </div>\n    );\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"pill\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  pill: false\n};\nvar Badge = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      pill = _ref.pill,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, pill && prefix + \"-pill\", variant && prefix + \"-\" + variant)\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"],\n    _excluded2 = [\"children\"];\n\n/* eslint-disable react/no-multi-comp */\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"children\", \"size\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"as\", \"bsPrefix\", \"className\", \"children\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverTitle = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-header');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(bsPrefix, className)\n  }), children);\n});\nexport default PopoverTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"as\", \"bsPrefix\", \"className\", \"children\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverContent = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-body');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix)\n  }), children);\n});\nexport default PopoverContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"placement\", \"className\", \"style\", \"children\", \"content\", \"arrowProps\", \"popper\", \"show\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport isRequiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PopoverTitle from './PopoverTitle';\nimport PopoverContent from './PopoverContent';\nvar defaultProps = {\n  placement: 'right'\n};\nvar Popover = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      placement = _ref.placement,\n      className = _ref.className,\n      style = _ref.style,\n      children = _ref.children,\n      content = _ref.content,\n      arrowProps = _ref.arrowProps,\n      _ = _ref.popper,\n      _1 = _ref.show,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'popover');\n\n  var _ref2 = (placement == null ? void 0 : placement.split('-')) || [],\n      primaryPlacement = _ref2[0];\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    role: \"tooltip\",\n    style: style,\n    \"x-placement\": primaryPlacement,\n    className: classNames(className, decoratedBsPrefix, primaryPlacement && \"bs-popover-\" + primaryPlacement)\n  }, props), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"arrow\"\n  }, arrowProps)), content ? /*#__PURE__*/React.createElement(PopoverContent, null, children) : children);\n});\nPopover.defaultProps = defaultProps;\nPopover.Title = PopoverTitle;\nPopover.Content = PopoverContent;\nexport default Popover;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;"],"names":["SimpleToolTip","props","show","overlay","id","tooltipid","children","Deployment","instanceEditContext","useContext","InstanceEditContext","errorState","useState","isLoading","setIsLoading","deployInfo","setDeployInfo","compileJobs","setCompileJobs","compileJobsPage","setCompileJobsPage","compileJobsTotalPages","setCompileJobsTotalPages","compileJobsPageSize","setCompileJobsPageSize","canRead","hasDreamMakerRight","instancePermissionSet","DreamMakerRights","canCompile","canReadDeployments","async","loadDeployInfo","response","DreamMakerClient","instance","code","StatusCode","payload","addError","error","loadCompileJobs","page","pageSize","totalPages","content","timeout","useEffect","parsedTimeMatch","exec","parsedTime","groups","parseInt","days","hours","minutes","seconds","fields","projectName","type","FieldType","name","tooltip","defaultValue","disabled","compilerAdditionalArguments","apiValidationPort","min","max","apiValidationSecurityLevel","enum","DreamDaemonSecurity","requireDMApiValidation","deploymentViewData","paging","currentPage","loadPage","viewDataType","ViewDataType","className","obj","displayErrors","viewData","title","text","hideDisabled","onSave","newTimeout","_result","Math","floor","result","undefined","onClick","JobsController","_excluded","Badge","_ref","ref","bsPrefix","variant","pill","_ref$as","as","Component","prefix","displayName","defaultProps","_excluded2","PageItem","active","style","activeLabel","SafeAnchor","createButton","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","size","decoratedBsPrefix","Item","Popover","placement","arrowProps","popper","primaryPlacement","split","role","Title","Content","Table","striped","bordered","borderless","hover","responsive","classes","table","responsiveClass"],"sourceRoot":""}
{"version":3,"file":"5318.c8a8d57b8ab8cc30b9e7.bundle.js","mappings":"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","sources":["webpack://tgstation-server-control-panel/./src/components/utils/InputField.tsx","webpack://tgstation-server-control-panel/./src/components/utils/InputForm.tsx","webpack://tgstation-server-control-panel/./src/components/utils/JsonViewer.tsx","webpack://tgstation-server-control-panel/./src/contexts/InstanceEditContext.ts","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/ButtonGroup.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/InputGroup.js","webpack://tgstation-server-control-panel/./node_modules/client-zip/index.js"],"sourcesContent":["import { faInfo } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\n\nexport type AnyEnum = {\n    [key: string]: string | number;\n    [index: number]: string;\n};\n\nexport enum FieldType {\n    Boolean = \"boolean\",\n    Number = \"number\",\n    String = \"string\",\n    TextArea = \"textarea\",\n    Password = \"password\",\n    Enum = \"enum\"\n}\n\nexport type InputFieldTypes = number | string | boolean;\n\nexport type InputFieldProps = {\n    name: string;\n    disabled?: boolean;\n    tooltip?: string;\n    type: FieldType;\n    hideReadOnly?: boolean;\n    additionalAppend?: React.ReactNode;\n    forceChanged?: boolean;\n} & (\n    | {\n          defaultValue?: boolean | null;\n          onChange: (newValue: boolean, isValid: boolean) => unknown;\n          type: FieldType.Boolean;\n      }\n    | {\n          defaultValue?: number | null;\n          onChange: (newValue: number, isValid: boolean) => unknown;\n          type: FieldType.Number;\n          min?: number;\n          max?: number;\n      }\n    | {\n          defaultValue?: string | null;\n          onChange: (newValue: string, isValid: boolean) => unknown;\n          type: FieldType.String;\n      }\n    | {\n          defaultValue?: string | null;\n          onChange: (newValue: string, isValid: boolean) => unknown;\n          type: FieldType.TextArea;\n      }\n    | {\n          defaultValue?: string | null;\n          onChange: (newValue: string, isValid: boolean) => unknown;\n          type: FieldType.Password;\n      }\n    | {\n          defaultValue?: number | null;\n          onChange: (newValue: number, isValid: boolean) => unknown;\n          type: FieldType.Enum;\n          noLocalize?: boolean;\n          enum: AnyEnum;\n      }\n);\n\ninterface ControlProps {\n    value: InputFieldTypes;\n    onChange: (newvalue: InputFieldTypes) => unknown;\n    disabled?: boolean;\n    name: string;\n}\n\nconst StringControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function StringControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as string}\n                onChange={e => props.onChange(e.target.value)}\n                disabled={props.disabled}\n                ref={ref}\n            />\n        );\n    }\n);\n\nconst TextAreaControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function StringControl(props): JSX.Element {\n        return (\n            <Form.Control\n                as=\"textarea\"\n                value={props.value as string}\n                onChange={e => props.onChange(e.target.value)}\n                disabled={props.disabled}\n            />\n        );\n    }\n);\n\nconst PasswordControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function PasswordControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as string}\n                onChange={e => props.onChange(e.target.value)}\n                disabled={props.disabled}\n                type=\"password\"\n                ref={ref}\n            />\n        );\n    }\n);\n\nconst BooleanControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function BooleanControl(props, ref): JSX.Element {\n        const rndId = Math.random().toString();\n        return (\n            <label\n                htmlFor={rndId}\n                className=\"d-flex m-0 flex-grow-1 justify-content-center align-content-center\">\n                <Form.Check\n                    id={rndId}\n                    checked={props.value as boolean}\n                    onChange={e => props.onChange(e.target.checked)}\n                    type=\"switch\"\n                    className=\"m-auto\"\n                    disabled={props.disabled}\n                    ref={ref}\n                />\n            </label>\n        );\n    }\n);\n\ntype NumberControlProps = ControlProps & {\n    min?: number;\n    max?: number;\n};\nconst NumberControl = React.forwardRef<HTMLInputElement, NumberControlProps>(\n    function NumberControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as number}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                    props.onChange(\n                        isNaN(e.target.valueAsNumber) ? e.target.value : e.target.valueAsNumber\n                    )\n                }\n                disabled={props.disabled}\n                min={props.min}\n                max={props.max}\n                type=\"number\"\n                ref={ref}\n            />\n        );\n    }\n);\n\ntype EnumControlProps = ControlProps & {\n    enum: AnyEnum;\n    noLocalize?: boolean;\n};\nconst EnumControl = React.forwardRef<HTMLSelectElement, EnumControlProps>(\n    function EnumControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as string}\n                onChange={e => props.onChange(parseInt(e.target.value))}\n                disabled={props.disabled}\n                as=\"select\"\n                custom\n                ref={ref}>\n                {Object.entries(props.enum)\n                    //filters out reverse mapping\n                    .filter(([key]) => isNaN(parseInt(key)))\n                    .map(([key, value]) => {\n                        return props.noLocalize ? (\n                            <option key={value} value={value}>\n                                {key}\n                            </option>\n                        ) : (\n                            <FormattedMessage id={`${props.name}.${key}`} key={key}>\n                                {message => (\n                                    <option key={value} value={value}>\n                                        {message}\n                                    </option>\n                                )}\n                            </FormattedMessage>\n                        );\n                    })}\n            </Form.Control>\n        );\n    }\n);\n\nexport const defaultValues: Record<FieldType, InputFieldTypes> = {\n    [FieldType.Enum]: 0,\n    [FieldType.Number]: 0,\n    [FieldType.Boolean]: false,\n    [FieldType.String]: \"\",\n    [FieldType.Password]: \"\",\n    [FieldType.TextArea]: \"\"\n};\n\nexport default function InputField(props: InputFieldProps): JSX.Element {\n    const [currentValue, setCurrentValue] = useState(\n        props.defaultValue ?? defaultValues[props.type]\n    );\n    const controlRef = useRef<HTMLInputElement>(null);\n    useEffect(() => {\n        setCurrentValue(props.defaultValue ?? defaultValues[props.type]);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.defaultValue]);\n\n    useEffect(() => {\n        if (controlRef.current) {\n            if (controlRef.current.checkValidity()) {\n                controlRef.current.classList.remove(\"is-invalid\");\n            } else {\n                controlRef.current.classList.add(\"is-invalid\");\n            }\n        }\n\n        switch (props.type) {\n            case FieldType.Boolean:\n                props.onChange(\n                    currentValue as boolean,\n                    controlRef.current?.checkValidity() ?? true\n                );\n                return;\n            case FieldType.Enum:\n            case FieldType.Number:\n                props.onChange(currentValue as number, controlRef.current?.checkValidity() ?? true);\n                return;\n            case FieldType.String:\n            case FieldType.Password:\n            case FieldType.TextArea:\n                props.onChange(currentValue as string, controlRef.current?.checkValidity() ?? true);\n                return;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentValue]);\n\n    const tooltip = (innerid?: string) => {\n        if (!innerid) return <React.Fragment />;\n\n        return (\n            <Tooltip id={innerid}>\n                <FormattedMessage id={innerid} />\n            </Tooltip>\n        );\n    };\n\n    const basicControls: {\n        [Property in typeof props.type]: Property extends FieldType.Enum | FieldType.Number\n            ? undefined\n            : React.FC<ControlProps>;\n    } = {\n        string: StringControl,\n        password: PasswordControl,\n        boolean: BooleanControl,\n        textarea: TextAreaControl,\n        [FieldType.Number]: undefined,\n        [FieldType.Enum]: undefined\n    };\n\n    const changed =\n        currentValue != (props.defaultValue ?? defaultValues[props.type]) || props.forceChanged;\n\n    return (\n        <InputGroup>\n            <OverlayTrigger\n                overlay={tooltip(props.tooltip)}\n                show={props.tooltip ? undefined : false}>\n                {({ ref, ...triggerHandler }) => (\n                    <InputGroup.Prepend className=\"w-50 w-xl-40\">\n                        <InputGroup.Text className=\"flex-grow-1\" {...triggerHandler}>\n                            <span className={changed ? \"font-weight-bold\" : \"\"}>\n                                <FormattedMessage id={props.name} />\n                            </span>\n                            <div className=\"ml-auto\">\n                                {props.disabled && !props.hideReadOnly ? (\n                                    <FormattedMessage id=\"generic.readonly\" />\n                                ) : null}\n                                <div\n                                    ref={ref}\n                                    className=\"d-inline-block ml-2\"\n                                    style={{ visibility: props.tooltip ? \"unset\" : \"hidden\" }}>\n                                    <FontAwesomeIcon icon={faInfo} />\n                                </div>\n                            </div>\n                        </InputGroup.Text>\n                    </InputGroup.Prepend>\n                )}\n            </OverlayTrigger>\n            {props.type === FieldType.Number ? (\n                <NumberControl\n                    value={currentValue}\n                    onChange={newValue => setCurrentValue(newValue)}\n                    name={props.name}\n                    disabled={props.disabled}\n                    max={props.max}\n                    min={props.min}\n                    ref={controlRef}\n                />\n            ) : props.type === FieldType.Enum ? (\n                <EnumControl\n                    value={currentValue}\n                    onChange={newValue => setCurrentValue(newValue)}\n                    name={props.name}\n                    enum={props.enum}\n                    noLocalize={props.noLocalize}\n                    disabled={props.disabled}\n                />\n            ) : (\n                React.createElement<ControlProps & React.RefAttributes<HTMLInputElement>>(\n                    basicControls[props.type],\n                    {\n                        value: currentValue,\n                        onChange: newValue => setCurrentValue(newValue),\n                        disabled: props.disabled,\n                        name: props.type,\n                        ref: controlRef\n                    }\n                )\n            )}\n            {!(!changed || props.disabled) || props.additionalAppend ? (\n                <InputGroup.Append>\n                    {!(!changed || props.disabled) ? (\n                        <Button\n                            variant=\"danger\"\n                            onClick={() =>\n                                setCurrentValue(props.defaultValue ?? defaultValues[props.type])\n                            }>\n                            <FontAwesomeIcon icon=\"undo\" />\n                        </Button>\n                    ) : null}\n                    {props.additionalAppend}\n                </InputGroup.Append>\n            ) : null}\n        </InputGroup>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport { DistributiveOmit } from \"../../utils/misc\";\nimport InputField, {\n    defaultValues,\n    FieldType,\n    InputFieldProps,\n    InputFieldTypes\n} from \"./InputField\";\n\ntype ExtractValues<T> = T extends T ? T[keyof T] : never;\n\ntype FieldsOutput<Fields extends Record<string, InputFormField>> = {\n    [Id in keyof Fields]: Fields[Id][\"type\"] extends FieldType.Number\n        ? number\n        : Fields[Id][\"type\"] extends FieldType.Enum\n          ? // @ts-expect-error Typescript doesnt seem to support union descrimination in conditional types\n            ExtractValues<Fields[Id][\"enum\"]>\n          : Fields[Id][\"type\"] extends FieldType.Boolean\n            ? boolean\n            : Fields[Id][\"type\"] extends FieldType.String\n              ? string\n              : Fields[Id][\"type\"] extends FieldType.Password\n                ? string\n                : Fields[Id][\"type\"] extends FieldType.TextArea\n                  ? string\n                  : never;\n};\n\nexport type InputFormField = DistributiveOmit<InputFieldProps, \"onChange\"> & {\n    alwaysInclude?: boolean;\n};\ninterface IProps<Fields extends Record<string, InputFormField>> {\n    fields: Fields;\n    onSave: (fields: FieldsOutput<Fields>) => unknown;\n    readOnly?: boolean;\n    hideDisabled?: boolean;\n    includeAll?: boolean;\n    saveMessageId?: string;\n    alwaysAllowSave?: boolean;\n}\n\ninterface FieldState {\n    invalid?: boolean;\n}\n\nexport default function InputForm<Fields extends Record<string, InputFormField>>(\n    props: IProps<Fields>\n): JSX.Element {\n    const fieldValueStates = new Map<\n        InputFormField,\n        [InputFieldTypes, React.Dispatch<React.SetStateAction<InputFieldTypes>>]\n    >();\n    const fieldStateIds = new Map<string, InputFormField>();\n    const [fieldStates, setFieldStates] = useState<Record<string, FieldState | undefined>>({});\n\n    useEffect(() => {\n        Object.keys(props.fields).forEach(id => {\n            setFieldStates(prevState => ({\n                ...prevState,\n                [id]: {}\n            }));\n        });\n        // It wants props.fields, but you really shouldnt ever change it\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    for (const [id, field] of Object.entries(props.fields)) {\n        fieldStateIds.set(id, field);\n        fieldValueStates.set(\n            field,\n            // props.fields never changes, it will be\n            // eslint-disable-next-line react-hooks/rules-of-hooks\n            useState<InputFieldTypes>(field.defaultValue ?? defaultValues[field.type])\n        );\n    }\n\n    let anyDiff = props.alwaysAllowSave;\n    let anyInvalid = false;\n    for (const [id, fieldDescriptor] of fieldStateIds) {\n        const [fieldValue] = fieldValueStates.get(fieldDescriptor)!;\n        const fieldState = fieldStates[id];\n        if ((fieldDescriptor.defaultValue ?? defaultValues[fieldDescriptor.type]) != fieldValue)\n            anyDiff = true;\n        if (fieldState?.invalid) anyInvalid = true;\n\n        if (anyDiff && anyInvalid) break;\n    }\n\n    const save = () => {\n        const outputObject: Record<string, InputFieldTypes> = {};\n\n        for (const [id, fieldDescriptor] of fieldStateIds) {\n            const [fieldValue] = fieldValueStates.get(fieldDescriptor)!;\n\n            if (\n                !fieldDescriptor.alwaysInclude &&\n                fieldValue ==\n                    (fieldDescriptor.defaultValue ?? defaultValues[fieldDescriptor.type]) &&\n                !props.includeAll\n            )\n                continue;\n\n            outputObject[id] = fieldValue;\n        }\n        // @ts-expect-error I can't be assed to turn this generic object into the specially crafted output type, its mostly for public api sanity so i dont care\n        props.onSave(outputObject);\n    };\n\n    //Don't show anything including the save button if we are hiding every single field\n    if (props.hideDisabled) {\n        if (!Object.values(props.fields).some(field => !field.disabled)) {\n            return <></>;\n        }\n    }\n\n    return (\n        <div>\n            {Object.entries(props.fields).map(([id, field]) => {\n                const { disabled, ...innerProps } = field;\n                if (props.hideDisabled && disabled) return null;\n\n                return (\n                    <InputField\n                        key={id}\n                        {...innerProps}\n                        disabled={props.readOnly || disabled}\n                        onChange={(newVal: InputFieldTypes, isValid: boolean) => {\n                            fieldValueStates.get(field)![1](newVal);\n                            setFieldStates(prevState => ({\n                                ...prevState,\n                                [id]: {\n                                    ...prevState[id],\n                                    invalid: !isValid\n                                }\n                            }));\n                        }}\n                    />\n                );\n            })}\n            <div className=\"text-center mt-2\">\n                <OverlayTrigger\n                    overlay={\n                        <Tooltip id={`form-invalid`}>\n                            <FormattedMessage id=\"generic.invalid_form\" />\n                        </Tooltip>\n                    }\n                    show={anyInvalid ? undefined : false}>\n                    <Button\n                        variant={props.readOnly || anyInvalid ? \"danger\" : \"success\"}\n                        disabled={props.readOnly || !anyDiff || anyInvalid}\n                        onClick={save}>\n                        <FormattedMessage id={props.saveMessageId ?? \"generic.save\"} />\n                    </Button>\n                </OverlayTrigger>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport ReactJson from \"react-json-view\";\n\nimport configOptions from \"../../ApiClient/util/config\";\n\nexport default function JsonViewer(props: { obj: unknown }): JSX.Element {\n    return (\n        <ReactJson\n            src={props.obj as Record<string, unknown>}\n            name={\"JSON\"}\n            theme=\"tube\"\n            iconStyle=\"triangle\"\n            collapsed\n            displayDataTypes={false}\n        />\n    );\n}\n\nexport function DebugJsonViewer(props: { obj: unknown }): JSX.Element {\n    if (!configOptions.showjson.value) {\n        return <></>;\n    }\n    return (\n        <div className=\"text-left\">\n            <JsonViewer obj={props.obj} />\n        </div>\n    );\n}\n","import React from \"react\";\n\nimport type {\n    InstancePermissionSetResponse,\n    InstanceResponse,\n    ServerInformationResponse,\n    UserResponse\n} from \"../ApiClient/generatedcode/generated\";\nimport InternalError from \"../ApiClient/models/InternalComms/InternalError\";\n\nexport type InstanceEditContext = {\n    deleteError: (error: InternalError) => void;\n    errors: Set<InternalError>;\n    reloadInstance: () => Promise<void>;\n    instance: InstanceResponse;\n    user: UserResponse;\n    serverInfo: ServerInformationResponse;\n    instancePermissionSet: InstancePermissionSetResponse;\n};\n\n//same as InstanceEditContext except used for components which arent loading under instanceedit so we cant guarentee that instance wont be null\nexport type UnsafeInstanceEditContext = {\n    deleteError: (error: InternalError) => void;\n    errors: Set<InternalError>;\n    reloadInstance: () => Promise<void>;\n    instance: InstanceResponse | null;\n    user: UserResponse;\n    serverInfo: ServerInformationResponse;\n    instancePermissionSet: InstancePermissionSetResponse | null;\n};\n\nexport const InstanceEditContext = React.createContext<InstanceEditContext>(\n    undefined as unknown as InstanceEditContext\n);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"size\", \"toggle\", \"vertical\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  vertical: false,\n  toggle: false,\n  role: 'group'\n};\nvar ButtonGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      toggle = _ref.toggle,\n      vertical = _ref.vertical,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn-group');\n  var baseClass = prefix;\n  if (vertical) baseClass = prefix + \"-vertical\";\n  return /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    ref: ref,\n    className: classNames(className, baseClass, size && prefix + \"-\" + size, toggle && prefix + \"-toggle\")\n  }));\n});\nButtonGroup.displayName = 'ButtonGroup';\nButtonGroup.defaultProps = defaultProps;\nexport default ButtonGroup;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"bsPrefix\", \"size\", \"hasValidation\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      hasValidation = _ref.hasValidation,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size, hasValidation && 'has-validation')\n  }));\n});\nInputGroup.displayName = 'InputGroup';\nInputGroup.Text = InputGroupText;\nInputGroup.Radio = InputGroupRadio;\nInputGroup.Checkbox = InputGroupCheckbox;\nInputGroup.Append = InputGroupAppend;\nInputGroup.Prepend = InputGroupPrepend;\nexport default InputGroup;","\"stream\"in Blob.prototype||Object.defineProperty(Blob.prototype,\"stream\",{value(){return new Response(this).body}}),\"setBigUint64\"in DataView.prototype||Object.defineProperty(DataView.prototype,\"setBigUint64\",{value(e,n,t){const i=Number(0xffffffffn&n),r=Number(n>>32n);this.setUint32(e+(t?0:4),i,t),this.setUint32(e+(t?4:0),r,t)}});var e=e=>new DataView(new ArrayBuffer(e)),n=e=>new Uint8Array(e.buffer||e),t=e=>(new TextEncoder).encode(String(e)),i=e=>Math.min(4294967295,Number(e)),r=e=>Math.min(65535,Number(e));function f(e,i){if(void 0===i||i instanceof Date||(i=new Date(i)),e instanceof File)return{isFile:1,t:i||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:i||new Date(e.headers.get(\"Last-Modified\")||Date.now()),i:e.body};if(void 0===i)i=new Date;else if(isNaN(i))throw new Error(\"Invalid modification date.\");if(void 0===e)return{isFile:0,t:i};if(\"string\"==typeof e)return{isFile:1,t:i,i:t(e)};if(e instanceof Blob)return{isFile:1,t:i,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:i,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:i,i:n(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:i,i:o(e[Symbol.asyncIterator]())};throw new TypeError(\"Unsupported input format.\")}function o(e,n=e){return new ReadableStream({async pull(n){let t=0;for(;n.desiredSize>t;){const i=await e.next();if(!i.value){n.close();break}{const e=a(i.value);n.enqueue(e),t+=e.byteLength}}},cancel(e){n.throw?.(e)}})}function a(e){return\"string\"==typeof e?t(e):e instanceof Uint8Array?e:n(e)}function s(e,i,r){let[f,o]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[n(e),1]:[t(e),0]:[void 0,0]}(i);if(e instanceof File)return{o:d(f||t(e.name)),u:BigInt(e.size),l:o};if(e instanceof Response){const n=e.headers.get(\"content-disposition\"),i=n&&n.match(/;\\s*filename\\*?=[\"']?(.*?)[\"']?$/i),a=i&&i[1]||e.url&&new URL(e.url).pathname.split(\"/\").findLast(Boolean),s=a&&decodeURIComponent(a),u=r||+e.headers.get(\"content-length\");return{o:d(f||t(s)),u:BigInt(u),l:o}}return f=d(f,void 0!==e||void 0!==r),\"string\"==typeof e?{o:f,u:BigInt(t(e).length),l:o}:e instanceof Blob?{o:f,u:BigInt(e.size),l:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:f,u:BigInt(e.byteLength),l:o}:{o:f,u:u(e,r),l:o}}function u(e,n){return n>-1?BigInt(n):e?void 0:0n}function d(e,n=1){if(!e||e.every((c=>47===c)))throw new Error(\"The file must have a name.\");if(n)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var l=new Uint32Array(256);for(let e=0;e<256;++e){let n=e;for(let e=0;e<8;++e)n=n>>>1^(1&n&&3988292384);l[e]=n}function y(e,n=0){n^=-1;for(var t=0,i=e.length;t<i;t++)n=n>>>8^l[255&n^e[t]];return(-1^n)>>>0}function w(e,n,t=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,r=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(t,i,1),n.setUint16(t+2,r,1)}function B({o:e,l:n},t){return 8*(!n||(t??function(e){try{b.decode(e)}catch{return 0}return 1}(e)))}var b=new TextDecoder(\"utf8\",{fatal:1});function p(t,i=0){const r=e(30);return r.setUint32(0,1347093252),r.setUint32(4,754976768|i),w(t.t,r,10),r.setUint16(26,t.o.length,1),n(r)}async function*g(e){let{i:n}=e;if(\"then\"in n&&(n=await n),n instanceof Uint8Array)yield n,e.m=y(n,0),e.u=BigInt(n.length);else{e.u=0n;const t=n.getReader();for(;;){const{value:n,done:i}=await t.read();if(i)break;e.m=y(n,e.m),e.u+=BigInt(n.length),yield n}}}function I(t,r){const f=e(16+(r?8:0));return f.setUint32(0,1347094280),f.setUint32(4,t.isFile?t.m:0,1),r?(f.setBigUint64(8,t.u,1),f.setBigUint64(16,t.u,1)):(f.setUint32(8,i(t.u),1),f.setUint32(12,i(t.u),1)),n(f)}function v(t,r,f=0,o=0){const a=e(46);return a.setUint32(0,1347092738),a.setUint32(4,755182848),a.setUint16(8,2048|f),w(t.t,a,12),a.setUint32(16,t.isFile?t.m:0,1),a.setUint32(20,i(t.u),1),a.setUint32(24,i(t.u),1),a.setUint16(28,t.o.length,1),a.setUint16(30,o,1),a.setUint16(40,t.isFile?33204:16893,1),a.setUint32(42,i(r),1),n(a)}function h(t,i,r){const f=e(r);return f.setUint16(0,1,1),f.setUint16(2,r-4,1),16&r&&(f.setBigUint64(4,t.u,1),f.setBigUint64(12,t.u,1)),f.setBigUint64(r-8,i,1),n(f)}function D(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var S=e=>function(e){let n=BigInt(22),t=0n,i=0;for(const r of e){if(!r.o)throw new Error(\"Every file must have a non-empty name.\");if(void 0===r.u)throw new Error(`Missing size for file \"${(new TextDecoder).decode(r.o)}\".`);const e=r.u>=0xffffffffn,f=t>=0xffffffffn;t+=BigInt(46+r.o.length+(e&&8))+r.u,n+=BigInt(r.o.length+46+(12*f|28*e)),i||(i=e)}return(i||t>=0xffffffffn)&&(n+=BigInt(76)),n+t}(function*(e){for(const n of e)yield s(...D(n)[0])}(e));function A(e,n={}){const t={\"Content-Type\":\"application/zip\",\"Content-Disposition\":\"attachment\"};return(\"bigint\"==typeof n.length||Number.isInteger(n.length))&&n.length>0&&(t[\"Content-Length\"]=String(n.length)),n.metadata&&(t[\"Content-Length\"]=String(S(n.metadata))),new Response(N(e,n),{headers:t})}function N(t,a={}){const u=function(e){const n=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const e=await n.next();if(e.done)return e;const[t,i]=D(e.value);return{done:0,value:Object.assign(f(...i),s(...t))}},throw:n.throw?.bind(n),[Symbol.asyncIterator](){return this}}}(t);return o(async function*(t,f){const o=[];let a=0n,s=0n,u=0;for await(const e of t){const n=B(e,f.buffersAreUTF8);yield p(e,n),yield new Uint8Array(e.o),e.isFile&&(yield*g(e));const t=e.u>=0xffffffffn,i=12*(a>=0xffffffffn)|28*t;yield I(e,t),o.push(v(e,a,n,i)),o.push(e.o),i&&o.push(h(e,a,i)),t&&(a+=8n),s++,a+=BigInt(46+e.o.length)+e.u,u||(u=t)}let d=0n;for(const e of o)yield e,d+=BigInt(e.length);if(u||a>=0xffffffffn){const t=e(76);t.setUint32(0,1347094022),t.setBigUint64(4,BigInt(44),1),t.setUint32(12,755182848),t.setBigUint64(24,s,1),t.setBigUint64(32,s,1),t.setBigUint64(40,d,1),t.setBigUint64(48,a,1),t.setUint32(56,1347094023),t.setBigUint64(64,a+d,1),t.setUint32(72,1,1),yield n(t)}const l=e(22);l.setUint32(0,1347093766),l.setUint16(8,r(s),1),l.setUint16(10,r(s),1),l.setUint32(12,i(d),1),l.setUint32(16,i(a),1),yield n(l)}(u,a),u)}export{A as downloadZip,N as makeZip,S as predictLength};"],"names":["FieldType","StringControl","React","props","ref","Form","Control","value","onChange","e","target","disabled","TextAreaControl","as","PasswordControl","type","BooleanControl","rndId","Math","random","toString","htmlFor","className","Check","id","checked","NumberControl","isNaN","valueAsNumber","min","max","EnumControl","parseInt","custom","Object","entries","enum","filter","key","map","noLocalize","FormattedMessage","name","message","defaultValues","Enum","Number","Boolean","String","Password","TextArea","InputField","currentValue","setCurrentValue","useState","defaultValue","controlRef","useRef","useEffect","current","checkValidity","classList","remove","add","basicControls","string","password","boolean","textarea","undefined","changed","forceChanged","InputGroup","OverlayTrigger","overlay","innerid","tooltip","Tooltip","show","triggerHandler","Prepend","Text","_extends","hideReadOnly","style","visibility","FontAwesomeIcon","icon","faInfo","newValue","additionalAppend","Append","Button","variant","onClick","InputForm","fieldValueStates","Map","fieldStateIds","fieldStates","setFieldStates","keys","fields","forEach","prevState","field","set","anyDiff","alwaysAllowSave","anyInvalid","fieldDescriptor","fieldValue","get","fieldState","invalid","hideDisabled","values","some","innerProps","readOnly","newVal","isValid","save","outputObject","alwaysInclude","includeAll","onSave","saveMessageId","JsonViewer","ReactJson","src","obj","theme","iconStyle","collapsed","displayDataTypes","DebugJsonViewer","configOptions","showjson","InstanceEditContext","_excluded","ButtonGroup","_ref","bsPrefix","size","toggle","vertical","_ref$as","Component","rest","prefix","baseClass","displayName","defaultProps","role","InputGroupAppend","InputGroupPrepend","InputGroupText","hasValidation","Radio","Checkbox","Blob","prototype","defineProperty","Response","this","body","DataView","n","t","i","r","setUint32","ArrayBuffer","Uint8Array","buffer","TextEncoder","encode","f","Date","File","isFile","lastModified","stream","headers","now","Error","ReadableStream","isView","Symbol","asyncIterator","o","TypeError","pull","desiredSize","next","close","a","enqueue","byteLength","cancel","throw","s","d","u","BigInt","l","match","url","URL","pathname","split","findLast","decodeURIComponent","length","every","c","subarray","Uint32Array","y","w","getSeconds","getMinutes","getHours","getDate","getMonth","getFullYear","setUint16","B","b","decode","TextDecoder","fatal","p","async","g","m","getReader","done","read","I","setBigUint64","v","h","D","input","S","A","isInteger","metadata","N","iterator","assign","bind","buffersAreUTF8","push"],"sourceRoot":""}
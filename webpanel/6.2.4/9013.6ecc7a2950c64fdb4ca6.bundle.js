"use strict";(self.webpackChunktgstation_server_control_panel=self.webpackChunktgstation_server_control_panel||[]).push([[9013],{9013:function(e,t,r){var a=r(4354),n=r(4173),s=r(5301),o=r(3728),i=r(1972),c=r(8437);t.A=new class extends a.O{async getActiveVersion(e){let t;await o.A.wait4Init();try{t=await o.A.apiClient.api.engineControllerRead({headers:{Instance:e.toString()}})}catch(e){return new s.A({code:s.s.ERROR,error:e})}return 200===t.status?new s.A({code:s.s.OK,payload:t.data}):new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.UNHANDLED_RESPONSE,{axiosResponse:t},t)})}async listAllVersions(e,{page:t=1,pageSize:r=c.Ay.itemsperpage.value}){let a;await o.A.wait4Init();try{a=await o.A.apiClient.api.engineControllerList({page:t,pageSize:r},{headers:{Instance:e.toString()}})}catch(e){return new s.A({code:s.s.ERROR,error:e})}return 200===a.status?new s.A({code:s.s.OK,payload:a.data}):new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.UNHANDLED_RESPONSE,{axiosResponse:a},a)})}async deleteVersion(e,t){let r;await o.A.wait4Init();try{r=await o.A.apiClient.api.engineControllerDelete({engineVersion:t},{headers:{Instance:e.toString()}})}catch(e){return new s.A({code:s.s.ERROR,error:e})}switch(r.status){case 202:{const e=r.data;return new s.A({code:s.s.OK,payload:e})}case 409:return new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.HTTP_DATA_INEGRITY,{errorMessage:r.data})});case 410:return new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.ENGINE_VERSION_NOT_FOUND,{errorMessage:r.data},r)});default:return new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.UNHANDLED_RESPONSE,{axiosResponse:r},r)})}}async switchActive(e,t,r){let a;await o.A.wait4Init();try{a=await o.A.apiClient.api.engineControllerUpdate({engineVersion:t,uploadCustomZip:!!r},{headers:{Instance:e.toString()}})}catch(e){return new s.A({code:s.s.ERROR,error:e})}switch(a.status){case 200:case 202:{const e=a.data;if(e.fileTicket){if(r){const t=await i.A.Upload(e.fileTicket,r);return t.code===s.s.OK?new s.A({code:s.s.OK,payload:e}):new s.A({code:s.s.ERROR,error:t.error})}return new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.APP_FAIL,{jsError:Error("switchActive is uploading a custom zip without actually having a zip file to upload")})})}return new s.A({code:s.s.OK,payload:e})}default:return new s.A({code:s.s.ERROR,error:new n.Ay(n.O4.UNHANDLED_RESPONSE,{axiosResponse:a},a)})}}}}}]);
//# sourceMappingURL=9013.6ecc7a2950c64fdb4ca6.bundle.js.map
{"version":3,"file":"5318.d8a53f00a2f04d5dd130.bundle.js","mappings":"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","sources":["webpack://tgstation-server-control-panel/./src/components/utils/InputField.tsx","webpack://tgstation-server-control-panel/./src/components/utils/InputForm.tsx","webpack://tgstation-server-control-panel/./src/components/utils/JsonViewer.tsx","webpack://tgstation-server-control-panel/./src/contexts/InstanceEditContext.ts","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/ButtonGroup.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/InputGroup.js","webpack://tgstation-server-control-panel/./node_modules/client-zip/index.js"],"sourcesContent":["import { faInfo } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\n\nexport type AnyEnum = {\n    [key: string]: string | number;\n    [index: number]: string;\n};\n\nexport enum FieldType {\n    Boolean = \"boolean\",\n    Number = \"number\",\n    String = \"string\",\n    Password = \"password\",\n    Enum = \"enum\"\n}\n\nexport type InputFieldTypes = number | string | boolean;\n\nexport type InputFieldProps = {\n    name: string;\n    disabled?: boolean;\n    tooltip?: string;\n    type: FieldType;\n} & (\n    | {\n          defaultValue?: boolean | null;\n          onChange: (newValue: boolean, isValid: boolean) => unknown;\n          type: FieldType.Boolean;\n      }\n    | {\n          defaultValue?: number | null;\n          onChange: (newValue: number, isValid: boolean) => unknown;\n          type: FieldType.Number;\n          min?: number;\n          max?: number;\n      }\n    | {\n          defaultValue?: string | null;\n          onChange: (newValue: string, isValid: boolean) => unknown;\n          type: FieldType.String;\n      }\n    | {\n          defaultValue?: string | null;\n          onChange: (newValue: string, isValid: boolean) => unknown;\n          type: FieldType.Password;\n      }\n    | {\n          defaultValue?: number | null;\n          onChange: (newValue: number, isValid: boolean) => unknown;\n          type: FieldType.Enum;\n          noLocalize?: boolean;\n          enum: AnyEnum;\n      }\n);\n\ninterface ControlProps {\n    value: InputFieldTypes;\n    onChange: (newvalue: InputFieldTypes) => unknown;\n    disabled?: boolean;\n    name: string;\n}\n\nconst StringControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function StringControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as string}\n                onChange={e => props.onChange(e.target.value)}\n                disabled={props.disabled}\n                ref={ref}\n            />\n        );\n    }\n);\n\nconst PasswordControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function PasswordControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as string}\n                onChange={e => props.onChange(e.target.value)}\n                disabled={props.disabled}\n                type=\"password\"\n                ref={ref}\n            />\n        );\n    }\n);\n\nconst BooleanControl = React.forwardRef<HTMLInputElement, ControlProps>(\n    function BooleanControl(props, ref): JSX.Element {\n        const rndId = Math.random().toString();\n        return (\n            <label\n                htmlFor={rndId}\n                className=\"d-flex m-0 flex-grow-1 justify-content-center align-content-center\">\n                <Form.Check\n                    id={rndId}\n                    checked={props.value as boolean}\n                    onChange={e => props.onChange(e.target.checked)}\n                    type=\"switch\"\n                    className=\"m-auto\"\n                    disabled={props.disabled}\n                    ref={ref}\n                />\n            </label>\n        );\n    }\n);\n\ntype NumberControlProps = ControlProps & {\n    min?: number;\n    max?: number;\n};\nconst NumberControl = React.forwardRef<HTMLInputElement, NumberControlProps>(\n    function NumberControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as number}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                    props.onChange(\n                        isNaN(e.target.valueAsNumber) ? e.target.value : e.target.valueAsNumber\n                    )\n                }\n                disabled={props.disabled}\n                min={props.min}\n                max={props.max}\n                type=\"number\"\n                ref={ref}\n            />\n        );\n    }\n);\n\ntype EnumControlProps = ControlProps & {\n    enum: AnyEnum;\n    noLocalize?: boolean;\n};\nconst EnumControl = React.forwardRef<HTMLSelectElement, EnumControlProps>(\n    function EnumControl(props, ref): JSX.Element {\n        return (\n            <Form.Control\n                value={props.value as string}\n                onChange={e => props.onChange(parseInt(e.target.value))}\n                disabled={props.disabled}\n                as=\"select\"\n                custom\n                ref={ref}>\n                {Object.entries(props.enum)\n                    //filters out reverse mapping\n                    .filter(([key]) => isNaN(parseInt(key)))\n                    .map(([key, value]) => {\n                        return props.noLocalize ? (\n                            <option key={value} value={value}>\n                                {key}\n                            </option>\n                        ) : (\n                            <FormattedMessage id={`${props.name}.${key}`} key={key}>\n                                {message => (\n                                    <option key={value} value={value}>\n                                        {message}\n                                    </option>\n                                )}\n                            </FormattedMessage>\n                        );\n                    })}\n            </Form.Control>\n        );\n    }\n);\n\nexport const defaultValues: Record<FieldType, InputFieldTypes> = {\n    [FieldType.Enum]: 0,\n    [FieldType.Number]: 0,\n    [FieldType.Boolean]: false,\n    [FieldType.String]: \"\",\n    [FieldType.Password]: \"\"\n};\n\nexport default function InputField(props: InputFieldProps): JSX.Element {\n    const [currentValue, setCurrentValue] = useState(\n        props.defaultValue ?? defaultValues[props.type]\n    );\n    const controlRef = useRef<HTMLInputElement>(null);\n    useEffect(() => {\n        setCurrentValue(props.defaultValue ?? defaultValues[props.type]);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.defaultValue]);\n\n    useEffect(() => {\n        if (controlRef.current) {\n            if (controlRef.current.checkValidity()) {\n                controlRef.current.classList.remove(\"is-invalid\");\n            } else {\n                controlRef.current.classList.add(\"is-invalid\");\n            }\n        }\n\n        switch (props.type) {\n            case FieldType.Boolean:\n                props.onChange(\n                    currentValue as boolean,\n                    controlRef.current?.checkValidity() ?? true\n                );\n                return;\n            case FieldType.Enum:\n            case FieldType.Number:\n                props.onChange(currentValue as number, controlRef.current?.checkValidity() ?? true);\n                return;\n            case FieldType.String:\n            case FieldType.Password:\n                props.onChange(currentValue as string, controlRef.current?.checkValidity() ?? true);\n                return;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentValue]);\n\n    const tooltip = (innerid?: string) => {\n        if (!innerid) return <React.Fragment />;\n\n        return (\n            <Tooltip id={innerid}>\n                <FormattedMessage id={innerid} />\n            </Tooltip>\n        );\n    };\n\n    const basicControls: {\n        [Property in typeof props.type]: Property extends FieldType.Enum | FieldType.Number\n            ? undefined\n            : React.FC<ControlProps>;\n    } = {\n        string: StringControl,\n        password: PasswordControl,\n        boolean: BooleanControl,\n        [FieldType.Number]: undefined,\n        [FieldType.Enum]: undefined\n    };\n\n    const changed = currentValue != (props.defaultValue ?? defaultValues[props.type]);\n\n    return (\n        <InputGroup>\n            <OverlayTrigger\n                overlay={tooltip(props.tooltip)}\n                show={props.tooltip ? undefined : false}>\n                {({ ref, ...triggerHandler }) => (\n                    <InputGroup.Prepend className=\"w-50 w-xl-40\">\n                        <InputGroup.Text className=\"flex-grow-1\" {...triggerHandler}>\n                            <span className={changed ? \"font-weight-bold\" : \"\"}>\n                                <FormattedMessage id={props.name} />\n                            </span>\n                            <div className=\"ml-auto\">\n                                {props.disabled ? <FormattedMessage id=\"generic.readonly\" /> : null}\n                                <div\n                                    ref={ref}\n                                    className=\"d-inline-block ml-2\"\n                                    style={{ visibility: props.tooltip ? \"unset\" : \"hidden\" }}>\n                                    <FontAwesomeIcon icon={faInfo} />\n                                </div>\n                            </div>\n                        </InputGroup.Text>\n                    </InputGroup.Prepend>\n                )}\n            </OverlayTrigger>\n            {props.type === FieldType.Number ? (\n                <NumberControl\n                    value={currentValue}\n                    onChange={newValue => setCurrentValue(newValue)}\n                    name={props.name}\n                    disabled={props.disabled}\n                    max={props.max}\n                    min={props.min}\n                    ref={controlRef}\n                />\n            ) : props.type === FieldType.Enum ? (\n                <EnumControl\n                    value={currentValue}\n                    onChange={newValue => setCurrentValue(newValue)}\n                    name={props.name}\n                    enum={props.enum}\n                    noLocalize={props.noLocalize}\n                    disabled={props.disabled}\n                />\n            ) : (\n                React.createElement<ControlProps & React.RefAttributes<HTMLInputElement>>(\n                    basicControls[props.type],\n                    {\n                        value: currentValue,\n                        onChange: newValue => setCurrentValue(newValue),\n                        disabled: props.disabled,\n                        name: props.type,\n                        ref: controlRef\n                    }\n                )\n            )}\n\n            <InputGroup.Append>\n                <Button\n                    style={{ visibility: !changed || props.disabled ? \"hidden\" : undefined }}\n                    variant=\"danger\"\n                    onClick={() =>\n                        setCurrentValue(props.defaultValue ?? defaultValues[props.type])\n                    }>\n                    <FontAwesomeIcon icon=\"undo\" />\n                </Button>\n            </InputGroup.Append>\n        </InputGroup>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport { DistributiveOmit } from \"../../utils/misc\";\nimport InputField, {\n    defaultValues,\n    FieldType,\n    InputFieldProps,\n    InputFieldTypes\n} from \"./InputField\";\n\ntype ExtractValues<T> = T extends T ? T[keyof T] : never;\n\ntype FieldsOutput<Fields extends Record<string, InputFormField>> = {\n    [Id in keyof Fields]: Fields[Id][\"type\"] extends FieldType.Number\n        ? number\n        : Fields[Id][\"type\"] extends FieldType.Enum\n          ? // @ts-expect-error Typescript doesnt seem to support union descrimination in conditional types\n            ExtractValues<Fields[Id][\"enum\"]>\n          : Fields[Id][\"type\"] extends FieldType.Boolean\n            ? boolean\n            : Fields[Id][\"type\"] extends FieldType.String\n              ? string\n              : Fields[Id][\"type\"] extends FieldType.Password\n                ? string\n                : never;\n};\n\nexport type InputFormField = DistributiveOmit<InputFieldProps, \"onChange\"> & {\n    alwaysInclude?: boolean;\n};\ninterface IProps<Fields extends Record<string, InputFormField>> {\n    fields: Fields;\n    onSave: (fields: FieldsOutput<Fields>) => unknown;\n    readOnly?: boolean;\n    hideDisabled?: boolean;\n    includeAll?: boolean;\n    saveMessageId?: string;\n}\n\ninterface FieldState {\n    invalid?: boolean;\n}\n\nexport default function InputForm<Fields extends Record<string, InputFormField>>(\n    props: IProps<Fields>\n): JSX.Element {\n    const fieldValueStates = new Map<\n        InputFormField,\n        [InputFieldTypes, React.Dispatch<React.SetStateAction<InputFieldTypes>>]\n    >();\n    const fieldStateIds = new Map<string, InputFormField>();\n    const [fieldStates, setFieldStates] = useState<Record<string, FieldState | undefined>>({});\n\n    useEffect(() => {\n        Object.keys(props.fields).forEach(id => {\n            setFieldStates(prevState => ({\n                ...prevState,\n                [id]: {}\n            }));\n        });\n        // It wants props.fields, but you really shouldnt ever change it\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    for (const [id, field] of Object.entries(props.fields)) {\n        fieldStateIds.set(id, field);\n        fieldValueStates.set(\n            field,\n            // props.fields never changes, it will be\n            // eslint-disable-next-line react-hooks/rules-of-hooks\n            useState<InputFieldTypes>(field.defaultValue ?? defaultValues[field.type])\n        );\n    }\n\n    let anyDiff = false;\n    let anyInvalid = false;\n    for (const [id, fieldDescriptor] of fieldStateIds) {\n        const [fieldValue] = fieldValueStates.get(fieldDescriptor)!;\n        const fieldState = fieldStates[id];\n        if ((fieldDescriptor.defaultValue ?? defaultValues[fieldDescriptor.type]) != fieldValue)\n            anyDiff = true;\n        if (fieldState?.invalid) anyInvalid = true;\n\n        if (anyDiff && anyInvalid) break;\n    }\n\n    const save = () => {\n        const outputObject: Record<string, InputFieldTypes> = {};\n\n        for (const [id, fieldDescriptor] of fieldStateIds) {\n            const [fieldValue] = fieldValueStates.get(fieldDescriptor)!;\n\n            if (\n                !fieldDescriptor.alwaysInclude &&\n                fieldValue ==\n                    (fieldDescriptor.defaultValue ?? defaultValues[fieldDescriptor.type]) &&\n                !props.includeAll\n            )\n                continue;\n\n            outputObject[id] = fieldValue;\n        }\n        // @ts-expect-error I can't be assed to turn this generic object into the specially crafted output type, its mostly for public api sanity so i dont care\n        props.onSave(outputObject);\n    };\n\n    //Don't show anything including the save button if we are hiding every single field\n    if (props.hideDisabled) {\n        if (!Object.values(props.fields).some(field => !field.disabled)) {\n            return <></>;\n        }\n    }\n\n    return (\n        <div>\n            {Object.entries(props.fields).map(([id, field]) => {\n                const { disabled, ...innerProps } = field;\n                if (props.hideDisabled && disabled) return null;\n\n                return (\n                    <InputField\n                        key={id}\n                        {...innerProps}\n                        disabled={props.readOnly || disabled}\n                        onChange={(newVal: InputFieldTypes, isValid: boolean) => {\n                            fieldValueStates.get(field)![1](newVal);\n                            setFieldStates(prevState => ({\n                                ...prevState,\n                                [id]: {\n                                    ...prevState[id],\n                                    invalid: !isValid\n                                }\n                            }));\n                        }}\n                    />\n                );\n            })}\n            <div className=\"text-center mt-2\">\n                <OverlayTrigger\n                    overlay={\n                        <Tooltip id={`form-invalid`}>\n                            <FormattedMessage id=\"generic.invalid_form\" />\n                        </Tooltip>\n                    }\n                    show={anyInvalid ? undefined : false}>\n                    <Button\n                        variant={props.readOnly || anyInvalid ? \"danger\" : \"success\"}\n                        disabled={props.readOnly || !anyDiff || anyInvalid}\n                        onClick={save}>\n                        <FormattedMessage id={props.saveMessageId ?? \"generic.save\"} />\n                    </Button>\n                </OverlayTrigger>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport ReactJson from \"react-json-view\";\n\nimport configOptions from \"../../ApiClient/util/config\";\n\nexport default function JsonViewer(props: { obj: unknown }): JSX.Element {\n    return (\n        <ReactJson\n            src={props.obj as Record<string, unknown>}\n            name={\"JSON\"}\n            theme=\"tube\"\n            iconStyle=\"triangle\"\n            collapsed\n            displayDataTypes={false}\n        />\n    );\n}\n\nexport function DebugJsonViewer(props: { obj: unknown }): JSX.Element {\n    if (!configOptions.showjson.value) {\n        return <></>;\n    }\n    return (\n        <div className=\"text-left\">\n            <JsonViewer obj={props.obj} />\n        </div>\n    );\n}\n","import React from \"react\";\n\nimport type {\n    InstancePermissionSetResponse,\n    InstanceResponse,\n    ServerInformationResponse,\n    UserResponse\n} from \"../ApiClient/generatedcode/generated\";\nimport InternalError from \"../ApiClient/models/InternalComms/InternalError\";\n\nexport type InstanceEditContext = {\n    deleteError: (error: InternalError) => void;\n    errors: Set<InternalError>;\n    reloadInstance: () => Promise<void>;\n    instance: InstanceResponse;\n    user: UserResponse;\n    serverInfo: ServerInformationResponse;\n    instancePermissionSet: InstancePermissionSetResponse;\n};\n\n//same as InstanceEditContext except used for components which arent loading under instanceedit so we cant guarentee that instance wont be null\nexport type UnsafeInstanceEditContext = {\n    deleteError: (error: InternalError) => void;\n    errors: Set<InternalError>;\n    reloadInstance: () => Promise<void>;\n    instance: InstanceResponse | null;\n    user: UserResponse;\n    serverInfo: ServerInformationResponse;\n    instancePermissionSet: InstancePermissionSetResponse | null;\n};\n\nexport const InstanceEditContext = React.createContext<InstanceEditContext>(\n    undefined as unknown as InstanceEditContext\n);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"size\", \"toggle\", \"vertical\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  vertical: false,\n  toggle: false,\n  role: 'group'\n};\nvar ButtonGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      toggle = _ref.toggle,\n      vertical = _ref.vertical,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn-group');\n  var baseClass = prefix;\n  if (vertical) baseClass = prefix + \"-vertical\";\n  return /*#__PURE__*/React.createElement(Component, _extends({}, rest, {\n    ref: ref,\n    className: classNames(className, baseClass, size && prefix + \"-\" + size, toggle && prefix + \"-toggle\")\n  }));\n});\nButtonGroup.displayName = 'ButtonGroup';\nButtonGroup.defaultProps = defaultProps;\nexport default ButtonGroup;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"bsPrefix\", \"size\", \"hasValidation\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar InputGroupAppend = createWithBsPrefix('input-group-append');\nvar InputGroupPrepend = createWithBsPrefix('input-group-prepend');\nvar InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return /*#__PURE__*/React.createElement(InputGroupText, null, /*#__PURE__*/React.createElement(\"input\", _extends({\n    type: \"radio\"\n  }, props)));\n};\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      size = _ref.size,\n      hasValidation = _ref.hasValidation,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix, size && bsPrefix + \"-\" + size, hasValidation && 'has-validation')\n  }));\n});\nInputGroup.displayName = 'InputGroup';\nInputGroup.Text = InputGroupText;\nInputGroup.Radio = InputGroupRadio;\nInputGroup.Checkbox = InputGroupCheckbox;\nInputGroup.Append = InputGroupAppend;\nInputGroup.Prepend = InputGroupPrepend;\nexport default InputGroup;","\"stream\"in Blob.prototype||Object.defineProperty(Blob.prototype,\"stream\",{value(){return new Response(this).body}}),\"setBigUint64\"in DataView.prototype||Object.defineProperty(DataView.prototype,\"setBigUint64\",{value(e,n,t){const i=Number(0xffffffffn&n),r=Number(n>>32n);this.setUint32(e+(t?0:4),i,t),this.setUint32(e+(t?4:0),r,t)}});var e=e=>new DataView(new ArrayBuffer(e)),n=e=>new Uint8Array(e.buffer||e),t=e=>(new TextEncoder).encode(String(e)),i=e=>Math.min(4294967295,Number(e)),r=e=>Math.min(65535,Number(e));function f(e,i){if(void 0===i||i instanceof Date||(i=new Date(i)),e instanceof File)return{isFile:1,t:i||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:i||new Date(e.headers.get(\"Last-Modified\")||Date.now()),i:e.body};if(void 0===i)i=new Date;else if(isNaN(i))throw new Error(\"Invalid modification date.\");if(void 0===e)return{isFile:0,t:i};if(\"string\"==typeof e)return{isFile:1,t:i,i:t(e)};if(e instanceof Blob)return{isFile:1,t:i,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:i,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:i,i:n(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:i,i:o(e[Symbol.asyncIterator]())};throw new TypeError(\"Unsupported input format.\")}function o(e,n=e){return new ReadableStream({async pull(n){let t=0;for(;n.desiredSize>t;){const i=await e.next();if(!i.value){n.close();break}{const e=a(i.value);n.enqueue(e),t+=e.byteLength}}},cancel(e){n.throw?.(e)}})}function a(e){return\"string\"==typeof e?t(e):e instanceof Uint8Array?e:n(e)}function s(e,i,r){let[f,o]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[n(e),1]:[t(e),0]:[void 0,0]}(i);if(e instanceof File)return{o:d(f||t(e.name)),u:BigInt(e.size),l:o};if(e instanceof Response){const n=e.headers.get(\"content-disposition\"),i=n&&n.match(/;\\s*filename\\*?=[\"']?(.*?)[\"']?$/i),a=i&&i[1]||e.url&&new URL(e.url).pathname.split(\"/\").findLast(Boolean),s=a&&decodeURIComponent(a),u=r||+e.headers.get(\"content-length\");return{o:d(f||t(s)),u:BigInt(u),l:o}}return f=d(f,void 0!==e||void 0!==r),\"string\"==typeof e?{o:f,u:BigInt(t(e).length),l:o}:e instanceof Blob?{o:f,u:BigInt(e.size),l:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:f,u:BigInt(e.byteLength),l:o}:{o:f,u:u(e,r),l:o}}function u(e,n){return n>-1?BigInt(n):e?void 0:0n}function d(e,n=1){if(!e||e.every((c=>47===c)))throw new Error(\"The file must have a name.\");if(n)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var l=new Uint32Array(256);for(let e=0;e<256;++e){let n=e;for(let e=0;e<8;++e)n=n>>>1^(1&n&&3988292384);l[e]=n}function y(e,n=0){n^=-1;for(var t=0,i=e.length;t<i;t++)n=n>>>8^l[255&n^e[t]];return(-1^n)>>>0}function w(e,n,t=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,r=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(t,i,1),n.setUint16(t+2,r,1)}function B({o:e,l:n},t){return 8*(!n||(t??function(e){try{b.decode(e)}catch{return 0}return 1}(e)))}var b=new TextDecoder(\"utf8\",{fatal:1});function p(t,i=0){const r=e(30);return r.setUint32(0,1347093252),r.setUint32(4,754976768|i),w(t.t,r,10),r.setUint16(26,t.o.length,1),n(r)}async function*g(e){let{i:n}=e;if(\"then\"in n&&(n=await n),n instanceof Uint8Array)yield n,e.m=y(n,0),e.u=BigInt(n.length);else{e.u=0n;const t=n.getReader();for(;;){const{value:n,done:i}=await t.read();if(i)break;e.m=y(n,e.m),e.u+=BigInt(n.length),yield n}}}function I(t,r){const f=e(16+(r?8:0));return f.setUint32(0,1347094280),f.setUint32(4,t.isFile?t.m:0,1),r?(f.setBigUint64(8,t.u,1),f.setBigUint64(16,t.u,1)):(f.setUint32(8,i(t.u),1),f.setUint32(12,i(t.u),1)),n(f)}function v(t,r,f=0,o=0){const a=e(46);return a.setUint32(0,1347092738),a.setUint32(4,755182848),a.setUint16(8,2048|f),w(t.t,a,12),a.setUint32(16,t.isFile?t.m:0,1),a.setUint32(20,i(t.u),1),a.setUint32(24,i(t.u),1),a.setUint16(28,t.o.length,1),a.setUint16(30,o,1),a.setUint16(40,t.isFile?33204:16893,1),a.setUint32(42,i(r),1),n(a)}function h(t,i,r){const f=e(r);return f.setUint16(0,1,1),f.setUint16(2,r-4,1),16&r&&(f.setBigUint64(4,t.u,1),f.setBigUint64(12,t.u,1)),f.setBigUint64(r-8,i,1),n(f)}function D(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var S=e=>function(e){let n=BigInt(22),t=0n,i=0;for(const r of e){if(!r.o)throw new Error(\"Every file must have a non-empty name.\");if(void 0===r.u)throw new Error(`Missing size for file \"${(new TextDecoder).decode(r.o)}\".`);const e=r.u>=0xffffffffn,f=t>=0xffffffffn;t+=BigInt(46+r.o.length+(e&&8))+r.u,n+=BigInt(r.o.length+46+(12*f|28*e)),i||(i=e)}return(i||t>=0xffffffffn)&&(n+=BigInt(76)),n+t}(function*(e){for(const n of e)yield s(...D(n)[0])}(e));function A(e,n={}){const t={\"Content-Type\":\"application/zip\",\"Content-Disposition\":\"attachment\"};return(\"bigint\"==typeof n.length||Number.isInteger(n.length))&&n.length>0&&(t[\"Content-Length\"]=String(n.length)),n.metadata&&(t[\"Content-Length\"]=String(S(n.metadata))),new Response(N(e,n),{headers:t})}function N(t,a={}){const u=function(e){const n=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const e=await n.next();if(e.done)return e;const[t,i]=D(e.value);return{done:0,value:Object.assign(f(...i),s(...t))}},throw:n.throw?.bind(n),[Symbol.asyncIterator](){return this}}}(t);return o(async function*(t,f){const o=[];let a=0n,s=0n,u=0;for await(const e of t){const n=B(e,f.buffersAreUTF8);yield p(e,n),yield new Uint8Array(e.o),e.isFile&&(yield*g(e));const t=e.u>=0xffffffffn,i=12*(a>=0xffffffffn)|28*t;yield I(e,t),o.push(v(e,a,n,i)),o.push(e.o),i&&o.push(h(e,a,i)),t&&(a+=8n),s++,a+=BigInt(46+e.o.length)+e.u,u||(u=t)}let d=0n;for(const e of o)yield e,d+=BigInt(e.length);if(u||a>=0xffffffffn){const t=e(76);t.setUint32(0,1347094022),t.setBigUint64(4,BigInt(44),1),t.setUint32(12,755182848),t.setBigUint64(24,s,1),t.setBigUint64(32,s,1),t.setBigUint64(40,d,1),t.setBigUint64(48,a,1),t.setUint32(56,1347094023),t.setBigUint64(64,a+d,1),t.setUint32(72,1,1),yield n(t)}const l=e(22);l.setUint32(0,1347093766),l.setUint16(8,r(s),1),l.setUint16(10,r(s),1),l.setUint32(12,i(d),1),l.setUint32(16,i(a),1),yield n(l)}(u,a),u)}export{A as downloadZip,N as makeZip,S as predictLength};"],"names":["FieldType","StringControl","React","props","ref","Form","Control","value","onChange","e","target","disabled","PasswordControl","type","BooleanControl","rndId","Math","random","toString","htmlFor","className","Check","id","checked","NumberControl","isNaN","valueAsNumber","min","max","EnumControl","parseInt","as","custom","Object","entries","enum","filter","key","map","noLocalize","FormattedMessage","name","message","defaultValues","Enum","Number","Boolean","String","Password","InputField","currentValue","setCurrentValue","useState","defaultValue","controlRef","useRef","useEffect","current","checkValidity","classList","remove","add","basicControls","string","password","boolean","undefined","changed","InputGroup","OverlayTrigger","overlay","innerid","tooltip","Tooltip","show","triggerHandler","Prepend","Text","_extends","style","visibility","FontAwesomeIcon","icon","faInfo","newValue","Append","Button","variant","onClick","InputForm","fieldValueStates","Map","fieldStateIds","fieldStates","setFieldStates","keys","fields","forEach","prevState","field","set","anyDiff","anyInvalid","fieldDescriptor","fieldValue","get","fieldState","invalid","hideDisabled","values","some","innerProps","readOnly","newVal","isValid","save","outputObject","alwaysInclude","includeAll","onSave","saveMessageId","JsonViewer","ReactJson","src","obj","theme","iconStyle","collapsed","displayDataTypes","DebugJsonViewer","configOptions","showjson","InstanceEditContext","_excluded","ButtonGroup","_ref","bsPrefix","size","toggle","vertical","_ref$as","Component","rest","prefix","baseClass","displayName","defaultProps","role","InputGroupAppend","InputGroupPrepend","InputGroupText","hasValidation","Radio","Checkbox","Blob","prototype","defineProperty","Response","this","body","DataView","n","t","i","r","setUint32","ArrayBuffer","Uint8Array","buffer","TextEncoder","encode","f","Date","File","isFile","lastModified","stream","headers","now","Error","ReadableStream","isView","Symbol","asyncIterator","o","TypeError","pull","desiredSize","next","close","a","enqueue","byteLength","cancel","throw","s","d","u","BigInt","l","match","url","URL","pathname","split","findLast","decodeURIComponent","length","every","c","subarray","Uint32Array","y","w","getSeconds","getMinutes","getHours","getDate","getMonth","getFullYear","setUint16","B","b","decode","TextDecoder","fatal","p","async","g","m","getReader","done","read","I","setBigUint64","v","h","D","input","S","A","isInteger","metadata","N","iterator","assign","bind","buffersAreUTF8","push"],"sourceRoot":""}
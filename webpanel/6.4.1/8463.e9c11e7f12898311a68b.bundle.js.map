{"version":3,"file":"8463.e9c11e7f12898311a68b.bundle.js","mappings":"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","sources":["webpack://tgstation-server-control-panel/./src/components/utils/SimpleTooltip.tsx","webpack://tgstation-server-control-panel/./src/components/views/Instance/Edit/Deployment.tsx","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Badge.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PageItem.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Pagination.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PopoverTitle.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/PopoverContent.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Popover.js","webpack://tgstation-server-control-panel/./node_modules/react-bootstrap/esm/Table.js"],"sourcesContent":["import React from \"react\";\nimport { OverlayTrigger } from \"react-bootstrap\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { FormattedMessage } from \"react-intl\";\n\ntype IProps = {\n    tooltipid: string;\n    children: JSX.Element;\n    show: boolean | undefined;\n};\n\nexport default function SimpleToolTip(props: IProps): JSX.Element {\n    return (\n        <OverlayTrigger\n            show={props.show}\n            overlay={\n                <Tooltip id={props.tooltipid}>\n                    <FormattedMessage id={props.tooltipid} />\n                </Tooltip>\n            }>\n            {props.children}\n        </OverlayTrigger>\n    );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport DreamMakerClient from \"../../../../ApiClient/DreamMakerClient\";\nimport {\n    CompileJobResponse,\n    DMApiValidationMode,\n    DreamDaemonSecurity,\n    DreamMakerRequest,\n    DreamMakerResponse,\n    DreamMakerRights\n} from \"../../../../ApiClient/generatedcode/generated\";\nimport InternalError, { ErrorCode } from \"../../../../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../../../../ApiClient/models/InternalComms/InternalStatus\";\nimport JobsController from \"../../../../ApiClient/util/JobsController\";\nimport { InstanceEditContext } from \"../../../../contexts/InstanceEditContext\";\nimport { hasDreamMakerRight } from \"../../../../utils/misc\";\nimport DeploymentViewer, { DeploymentsData, ViewDataType } from \"../../../utils/DeploymentViewer\";\nimport { addError, displayErrors } from \"../../../utils/ErrorAlert\";\nimport GenericAlert from \"../../../utils/GenericAlert\";\nimport { FieldType } from \"../../../utils/InputField\";\nimport InputForm from \"../../../utils/InputForm\";\nimport { DebugJsonViewer } from \"../../../utils/JsonViewer\";\nimport Loading from \"../../../utils/Loading\";\nimport SimpleToolTip from \"../../../utils/SimpleTooltip\";\n\nexport function Deployment(): JSX.Element {\n    const instanceEditContext = useContext(InstanceEditContext);\n    const errorState = useState<Array<InternalError<ErrorCode> | undefined>>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [deployInfo, setDeployInfo] = useState<DreamMakerResponse | null>(null);\n    const [compileJobs, setCompileJobs] = useState<CompileJobResponse[] | null>(null);\n    const [compileJobsPage, setCompileJobsPage] = useState<number>(1);\n    const [compileJobsTotalPages, setCompileJobsTotalPages] = useState<number>(0);\n\n    // adjusts the size of the viewer pages, undefined uses default server page size\n    const [compileJobsPageSize, setCompileJobsPageSize] = useState<number | undefined>(5);\n\n    const canRead = hasDreamMakerRight(\n        instanceEditContext.instancePermissionSet,\n        DreamMakerRights.Read\n    );\n    const canCompile = hasDreamMakerRight(\n        instanceEditContext.instancePermissionSet,\n        DreamMakerRights.Compile\n    );\n    const canReadDeployments = hasDreamMakerRight(\n        instanceEditContext.instancePermissionSet,\n        DreamMakerRights.CompileJobs\n    );\n\n    async function loadDeployInfo() {\n        if (!canRead) return setIsLoading(false);\n\n        setIsLoading(true);\n        const response = await DreamMakerClient.getDeployInfo(instanceEditContext.instance.id);\n        setIsLoading(false);\n\n        if (response.code === StatusCode.OK) {\n            setDeployInfo(response.payload);\n        } else {\n            addError(errorState, response.error);\n        }\n    }\n\n    async function loadCompileJobs(page: number): Promise<void> {\n        if (!canReadDeployments) {\n            return;\n        }\n\n        // loading is handled in viewer component\n        setCompileJobs(null);\n        const response = await DreamMakerClient.listCompileJobs(instanceEditContext.instance.id, {\n            page,\n            pageSize: compileJobsPageSize\n        });\n\n        if (response.code === StatusCode.OK) {\n            if (!compileJobsPageSize) setCompileJobsPageSize(response.payload.pageSize);\n\n            setCompileJobsTotalPages(response.payload.totalPages);\n            setCompileJobsPage(page);\n            setCompileJobs(response.payload.content);\n        } else {\n            addError(errorState, response.error);\n        }\n    }\n\n    useEffect(() => {\n        void loadDeployInfo();\n        void loadCompileJobs(1);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [instanceEditContext.instance.id]);\n\n    let timeout = undefined;\n    const parsedTimeMatch = /(?:(?<days>\\d+)\\.)?(?<hours>\\d+):(?<minutes>\\d+):(?<seconds>\\d+)/.exec(\n        deployInfo?.timeout ?? \"\"\n    );\n    if (parsedTimeMatch) {\n        const parsedTime = parsedTimeMatch.groups!;\n        timeout =\n            (parseInt(parsedTime.days ?? 0) * 24 + parseInt(parsedTime.hours)) * 60 +\n            parseInt(parsedTime.minutes) +\n            parseInt(parsedTime.seconds) / 60;\n    }\n\n    const fields = {\n        projectName: {\n            type: FieldType.String as FieldType.String,\n            name: \"fields.instance.deploy.projectname\",\n            tooltip: \"fields.instance.deploy.projectname.desc\",\n            defaultValue: deployInfo?.projectName,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetDme\n            )\n        },\n        compilerAdditionalArguments: {\n            type: FieldType.String as FieldType.String,\n            name: \"fields.instance.deploy.compilerargs\",\n            tooltip: \"fields.instance.deploy.compilerargs.desc\",\n            defaultValue: deployInfo?.compilerAdditionalArguments,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetCompilerArguments\n            )\n        },\n        timeout: {\n            type: FieldType.Number as FieldType.Number,\n            name: \"fields.instance.deploy.timeout\",\n            tooltip: \"fields.instance.deploy.timeout.desc\",\n            defaultValue: timeout,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetTimeout\n            )\n        },\n        apiValidationPort: {\n            type: FieldType.Number as FieldType.Number,\n            min: 0,\n            max: 65535,\n            name: \"fields.instance.deploy.apiport\",\n            tooltip: \"fields.instance.deploy.apiport.desc\",\n            defaultValue: deployInfo?.apiValidationPort,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetApiValidationPort\n            )\n        },\n        apiValidationSecurityLevel: {\n            type: FieldType.Enum as FieldType.Enum,\n            enum: DreamDaemonSecurity,\n            name: \"fields.instance.deploy.seclevel\",\n            tooltip: \"fields.instance.deploy.seclevel.desc\",\n            defaultValue: deployInfo?.apiValidationSecurityLevel,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetSecurityLevel\n            )\n        },\n        dmApiValidationMode: {\n            type: FieldType.Enum as FieldType.Enum,\n            enum: DMApiValidationMode,\n            name: \"fields.instance.deploy.validateapi\",\n            tooltip: \"fields.instance.deploy.validateapi.desc\",\n            defaultValue: deployInfo?.dmApiValidationMode,\n            disabled: !hasDreamMakerRight(\n                instanceEditContext.instancePermissionSet,\n                DreamMakerRights.SetApiValidationRequirement\n            )\n        }\n    };\n\n    let deploymentViewData: DeploymentsData | null = null;\n    const paging = {\n        currentPage: compileJobsPage,\n        totalPages: compileJobsTotalPages,\n        loadPage: loadCompileJobs,\n        pageSize: compileJobsPageSize ?? 0 // will always be set before being accessed\n    };\n\n    if (!canReadDeployments) {\n        deploymentViewData = {\n            viewDataType: ViewDataType.CompileJobs,\n            paging\n        };\n    } else if (compileJobs) {\n        deploymentViewData = {\n            viewDataType: ViewDataType.CompileJobs,\n            compileJobs,\n            paging\n        };\n    }\n\n    return (\n        <div className=\"text-center\">\n            <DebugJsonViewer obj={{ deployInfo }} />\n            {displayErrors(errorState)}\n            {canReadDeployments ? (\n                <DeploymentViewer viewData={deploymentViewData} />\n            ) : (\n                <GenericAlert title=\"view.instance.no_compile_jobs\" />\n            )}\n            <hr />\n            <h3>\n                <FormattedMessage id=\"view.instance.deploy.title\" />\n            </h3>\n            {!canRead ? <GenericAlert title=\"view.instance.no_metadata\" /> : null}\n            {isLoading ? (\n                <Loading text=\"loading.deployments\" />\n            ) : (\n                <>\n                    <InputForm\n                        hideDisabled={!canRead}\n                        fields={fields}\n                        onSave={async _result => {\n                            let newTimeout: undefined | string = undefined;\n                            if (_result.timeout) {\n                                const days = Math.floor(_result.timeout / (24 * 60));\n                                _result.timeout -= days * (24 * 60);\n                                const hours = Math.floor(_result.timeout / 60);\n                                _result.timeout -= hours * 60;\n                                const minutes = Math.floor(_result.timeout);\n                                _result.timeout -= minutes;\n                                const seconds = Math.floor(_result.timeout * 60);\n                                if (days) {\n                                    newTimeout = `${days}.${hours}:${minutes}:${seconds}`;\n                                } else {\n                                    newTimeout = `${hours}:${minutes}:${seconds}`;\n                                }\n                            }\n\n                            const result = {\n                                ..._result,\n                                timeout: newTimeout\n                            } as DreamMakerRequest;\n\n                            setIsLoading(true);\n                            const response = await DreamMakerClient.updateDeployInfo(\n                                instanceEditContext.instance.id,\n                                result\n                            );\n                            if (response.code === StatusCode.ERROR) {\n                                addError(errorState, response.error);\n                            } else {\n                                await loadDeployInfo();\n                            }\n                            setIsLoading(false);\n                        }}\n                    />\n                    <hr />\n                    <SimpleToolTip\n                        tooltipid=\"generic.no_perm\"\n                        show={canCompile ? false : undefined}>\n                        <Button\n                            disabled={!canCompile}\n                            onClick={() =>\n                                void (async () => {\n                                    const response = await DreamMakerClient.startCompile(\n                                        instanceEditContext.instance.id\n                                    );\n                                    if (response.code === StatusCode.ERROR) {\n                                        addError(errorState, response.error);\n                                    } else {\n                                        JobsController.registerJob(\n                                            response.payload,\n                                            instanceEditContext.instance.id\n                                        );\n                                        JobsController.fastmode = 5;\n                                    }\n                                })()\n                            }>\n                            <FormattedMessage id=\"view.instance.deploy.deploy\" />\n                        </Button>\n                    </SimpleToolTip>\n                </>\n            )}\n        </div>\n    );\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"pill\", \"className\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  pill: false\n};\nvar Badge = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      pill = _ref.pill,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, pill && prefix + \"-pill\", variant && prefix + \"-\" + variant)\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"],\n    _excluded2 = [\"children\"];\n\n/* eslint-disable react/no-multi-comp */\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"children\", \"size\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"as\", \"bsPrefix\", \"className\", \"children\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverTitle = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-header');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(bsPrefix, className)\n  }), children);\n});\nexport default PopoverTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"as\", \"bsPrefix\", \"className\", \"children\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar PopoverContent = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'popover-body');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsPrefix)\n  }), children);\n});\nexport default PopoverContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"placement\", \"className\", \"style\", \"children\", \"content\", \"arrowProps\", \"popper\", \"show\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport isRequiredForA11y from 'prop-types-extra/lib/isRequiredForA11y';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PopoverTitle from './PopoverTitle';\nimport PopoverContent from './PopoverContent';\nvar defaultProps = {\n  placement: 'right'\n};\nvar Popover = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      placement = _ref.placement,\n      className = _ref.className,\n      style = _ref.style,\n      children = _ref.children,\n      content = _ref.content,\n      arrowProps = _ref.arrowProps,\n      _ = _ref.popper,\n      _1 = _ref.show,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'popover');\n\n  var _ref2 = (placement == null ? void 0 : placement.split('-')) || [],\n      primaryPlacement = _ref2[0];\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    role: \"tooltip\",\n    style: style,\n    \"x-placement\": primaryPlacement,\n    className: classNames(className, decoratedBsPrefix, primaryPlacement && \"bs-popover-\" + primaryPlacement)\n  }, props), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"arrow\"\n  }, arrowProps)), content ? /*#__PURE__*/React.createElement(PopoverContent, null, children) : children);\n});\nPopover.defaultProps = defaultProps;\nPopover.Title = PopoverTitle;\nPopover.Content = PopoverContent;\nexport default Popover;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;"],"names":["SimpleToolTip","props","React","OverlayTrigger","show","overlay","Tooltip","id","tooltipid","FormattedMessage","children","Deployment","instanceEditContext","useContext","InstanceEditContext","errorState","useState","isLoading","setIsLoading","deployInfo","setDeployInfo","compileJobs","setCompileJobs","compileJobsPage","setCompileJobsPage","compileJobsTotalPages","setCompileJobsTotalPages","compileJobsPageSize","setCompileJobsPageSize","canRead","hasDreamMakerRight","instancePermissionSet","DreamMakerRights","Read","canCompile","Compile","canReadDeployments","CompileJobs","async","loadDeployInfo","response","DreamMakerClient","getDeployInfo","instance","code","StatusCode","OK","payload","addError","error","loadCompileJobs","page","listCompileJobs","pageSize","totalPages","content","timeout","useEffect","parsedTimeMatch","exec","parsedTime","groups","parseInt","days","hours","minutes","seconds","fields","projectName","type","FieldType","String","name","tooltip","defaultValue","disabled","SetDme","compilerAdditionalArguments","SetCompilerArguments","Number","SetTimeout","apiValidationPort","min","max","SetApiValidationPort","apiValidationSecurityLevel","Enum","enum","DreamDaemonSecurity","SetSecurityLevel","dmApiValidationMode","DMApiValidationMode","SetApiValidationRequirement","deploymentViewData","paging","currentPage","loadPage","viewDataType","ViewDataType","className","DebugJsonViewer","obj","displayErrors","DeploymentViewer","viewData","GenericAlert","title","Loading","text","InputForm","hideDisabled","onSave","newTimeout","_result","Math","floor","result","updateDeployInfo","ERROR","undefined","Button","onClick","startCompile","JobsController","registerJob","fastmode","_excluded","Badge","_ref","ref","bsPrefix","variant","pill","_ref$as","as","Component","prefix","displayName","defaultProps","_excluded2","PageItem","active","style","activeLabel","SafeAnchor","createButton","label","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","size","decoratedBsPrefix","Item","Popover","placement","arrowProps","popper","primaryPlacement","split","role","Title","Content","Table","striped","bordered","borderless","hover","responsive","classes","table","responsiveClass"],"sourceRoot":""}